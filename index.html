<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>Data Analysis</title><link href='https://fonts.googleapis.com/css?family=Roboto+Mono:400,700' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:first-child { margin-top: -20px; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  @page { margin: 20mm 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}




html { font-size: 100%; cursor: default; }
html, body { background: rgb(255, 255, 255); font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; font-weight: normal; color: rgb(86, 88, 90); line-height: 2; -webkit-tap-highlight-color: transparent; }
#write { max-width: 100%; margin: 0px auto; padding: 0px 30px; }
#write > ul:first-child, #write > ol:first-child { margin-top: 30px; }
body.typora-export { margin-left: 0px; padding-left: 0px; padding-right: 0px; }
@media screen and (max-width: 1000px) {
  body.typora-export { margin-left: 0px; padding-left: 0px; padding-right: 0px; }
}
body > :first-child { margin-top: 0px !important; }
body > :last-child { margin-bottom: 0px !important; }
img { background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTAwcHgiIGhlaWdodD0iMTAwcHgiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1Mi41ICg2NzQ2OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+ZG90IGNvcHkgNDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJkb3QtY29weS00IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRkZGRkZGIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNGMEYzRkEiIHg9IjAiIHk9IjEiIHdpZHRoPSIxIiBoZWlnaHQ9Ijk5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5IiBmaWxsPSIjRjBGM0ZBIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iI0YwRjNGQSIgeD0iMSIgeT0iMTAiIHdpZHRoPSI5OSIgaGVpZ2h0PSIxIj48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTgiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTEyIiBmaWxsPSIjRjBGM0ZBIiB4PSIyMCIgeT0iMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0xMyIgZmlsbD0iI0YwRjNGQSIgeD0iMzAiIHk9IjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMTYiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTE1IiBmaWxsPSIjRjBGM0ZBIiB4PSI1MCIgeT0iMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0xNCIgZmlsbD0iI0YwRjNGQSIgeD0iNjAiIHk9IjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMjAiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTE5IiBmaWxsPSIjRjBGM0ZBIiB4PSI4MCIgeT0iMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0xOCIgZmlsbD0iI0YwRjNGQSIgeD0iOTAiIHk9IjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMjgiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSIxMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yNyIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjExIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTI2IiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iMTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMjUiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSIxMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yNCIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjExIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTE3IiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iMTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMjMiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSIxMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yMiIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjExIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIxIiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iMTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMzciIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSIyMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zNiIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTM1IiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iMjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMzQiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSIyMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zMyIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMyIiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iMjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMzEiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSIyMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zMCIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTI5IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iMjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNDYiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSIzMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00NSIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjMxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQ0IiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iMzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNDMiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSIzMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00MiIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjMxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQxIiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iMzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNDAiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSIzMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zOSIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjMxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTM4IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iMzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNTUiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSI0MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01NCIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjQxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUzIiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iNDEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNTIiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSI0MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01MSIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjQxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUwIiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iNDEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNDkiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSI0MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00OCIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjQxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQ3IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iNDEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNjQiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSI1MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS02MyIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjUxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTYyIiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iNTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNjEiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSI1MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS02MCIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjUxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTU5IiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iNTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNTgiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSI1MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01NyIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjUxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTU2IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iNTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNzMiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSI2MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS03MiIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjYxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTcxIiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iNjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNzAiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSI2MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS02OSIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjYxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTY4IiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iNjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNjciIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSI2MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS02NiIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjYxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTY1IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iNjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktODIiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSI3MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS04MSIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjcxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTgwIiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iNzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNzkiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSI3MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS03OCIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjcxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTc3IiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iNzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNzYiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSI3MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS03NSIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjcxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTc0IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iNzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktOTEiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSI4MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS05MCIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjgxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTg5IiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iODEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktODgiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSI4MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS04NyIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjgxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTg2IiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iODEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktODUiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSI4MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS04NCIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjgxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTgzIiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iODEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMTAwIiBmaWxsPSIjRjBGM0ZBIiB4PSIxMCIgeT0iOTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktOTkiIGZpbGw9IiNGMEYzRkEiIHg9IjIwIiB5PSI5MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS05OCIgZmlsbD0iI0YwRjNGQSIgeD0iMzAiIHk9IjkxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTk3IiBmaWxsPSIjRjBGM0ZBIiB4PSI0MCIgeT0iOTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktOTYiIGZpbGw9IiNGMEYzRkEiIHg9IjUwIiB5PSI5MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS05NSIgZmlsbD0iI0YwRjNGQSIgeD0iNjAiIHk9IjkxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTk0IiBmaWxsPSIjRjBGM0ZBIiB4PSI3MCIgeT0iOTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktOTMiIGZpbGw9IiNGMEYzRkEiIHg9IjgwIiB5PSI5MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS05MiIgZmlsbD0iI0YwRjNGQSIgeD0iOTAiIHk9IjkxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIGZpbGw9IiNGMEYzRkEiIHg9IjEiIHk9IjIwIiB3aWR0aD0iOTkiIGhlaWdodD0iMSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00IiBmaWxsPSIjRjBGM0ZBIiB4PSIxIiB5PSIzMCIgd2lkdGg9Ijk5IiBoZWlnaHQ9IjEiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNyIgZmlsbD0iI0YwRjNGQSIgeD0iMSIgeT0iNDAiIHdpZHRoPSI5OSIgaGVpZ2h0PSIxIj48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTYiIGZpbGw9IiNGMEYzRkEiIHg9IjEiIHk9IjUwIiB3aWR0aD0iOTkiIGhlaWdodD0iMSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjRjBGM0ZBIiB4PSIxIiB5PSI2MCIgd2lkdGg9Ijk5IiBoZWlnaHQ9IjEiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMTEiIGZpbGw9IiNGMEYzRkEiIHg9IjEiIHk9IjcwIiB3aWR0aD0iOTkiIGhlaWdodD0iMSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0xMCIgZmlsbD0iI0YwRjNGQSIgeD0iMSIgeT0iODAiIHdpZHRoPSI5OSIgaGVpZ2h0PSIxIj48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTkiIGZpbGw9IiNGMEYzRkEiIHg9IjEiIHk9IjkwIiB3aWR0aD0iOTkiIGhlaWdodD0iMSI+PC9yZWN0PgogICAgPC9nPgo8L3N2Zz4="); background-repeat: repeat; background-position: left top; border-radius: 15px; padding: 0px; border: 2px solid rgb(221, 226, 240); }
a { color: rgb(13, 11, 6); box-shadow: rgba(230, 92, 161, 0.3) 0px -0.5em 0px inset; text-decoration: none; font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; }
a:hover { color: rgb(230, 92, 161); border-bottom: 1px solid rgb(230, 92, 161); box-shadow: none; transition: all 0.3s ease-in-out; }
a:active { color: rgb(230, 92, 161); transition: all 0.3s ease-in-out; }
h1 a, h2 a, h3 a, h4 a, h5 a, h6 a { border: 0px; }
h1 a:hover, h2 a:hover, h3 a:hover, h4 a:hover, h5 a:hover, h6 a:hover { background: inherit; cursor: inherit; transition: all 0.3s ease-in-out; }
h1 a::after, h2 a::after, h3 a::after, h4 a::after, h5 a::after, h6 a::after { content: ""; }
h1, h2, h3, h4, h5, h6 { color: rgb(79, 206, 193); position: relative; margin-bottom: 0em; margin-left: 0px; margin-right: -10px; padding-left: 0px; line-height: 1.5; font-family: "", sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; }
h6 { font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; }
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; transition: all 0.3s ease-in-out; }
h1 tt, h1 code, h2 tt, h2 code, h3 tt, h3 code, h4 tt, h4 code, h5 tt, h5 code, h6 tt, h6 code { font-size: 0.85em; }
h1 { margin-top: 3em; margin-bottom: 0.5em; padding-top: 20px; line-height: 50px; font-size: 2em; border-top: 10px dotted rgba(119, 217, 207, 0.5); }
body div h1:first-of-type { border-top: 0px; }
h2 { margin-top: 1em; margin-bottom: 0.5em; padding-top: 20px; font-size: 1.8em; border-top: 6px dotted rgba(119, 217, 207, 0.5); }
h1 + h2 { margin-top: 0em; padding-top: 0em; border-top: 0px; }
h3 { margin-top: 0.5em; margin-bottom: 0.5em; padding-top: 20px; font-size: 1.6em; border-top: 3px dotted rgba(119, 217, 207, 0.5); }
h2 + h3 { margin-top: 0em; padding-top: 0em; border-top: 0px; }
h4 { margin-top: 1.5em; margin-bottom: 0.2em; padding-top: 20px; font-size: 1.4em; border-top: 1px dotted rgb(219, 245, 242); }
h3 + h4 { margin-top: 0px; padding-top: 0em; border-top: 0px; }
h5 { margin-top: 1.5em; margin-bottom: 0.2em; font-size: 1.2em; }
h4 + h5 { margin-top: 0px; padding-top: 0.5em; border-top: 0px; }
h6 { margin: 1.5em 0px 0.5em; line-height: 1; border-left: 0.5em solid rgba(79, 206, 193, 0.5); padding-left: 0.5em; }
li > h6 { color: rgb(79, 206, 193); border-left: 0px; padding-left: 0px; }
li > h6::before { content: "▪ "; color: rgba(79, 206, 193, 0.5); }
strong { color: rgb(13, 11, 6); font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; }
p, blockquote, table { margin: 0.2em 0px; }
hr { margin-top: 1.2em; margin-bottom: 1.2em; border-width: 0px 1px 1px; border-right-style: dotted; border-bottom-style: dotted; border-left-style: dotted; border-right-color: rgb(189, 190, 191); border-bottom-color: rgb(189, 190, 191); border-left-color: rgb(189, 190, 191); border-image: initial; overflow: hidden; box-sizing: content-box; border-top-style: initial; border-top-color: initial; }
body > h2:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child + h2 { margin-top: 0px; padding-top: 0px; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child { margin-top: 0px; padding-top: 0px; }
a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 { margin-top: 0px; padding-top: 0px; }
h1 p, h2 p, h3 p, h4 p, h5 p, h6 p { margin-top: 0px; }
ol > li { list-style-type: decimal; }
ol > li > ul > li { list-style-type: upper-alpha; }
ol > li > ul > li > ul > li { list-style-type: disc; }
ol > li > ul > li > ul > li > ul > li { list-style-type: lower-roman; }
ol > li > ul > li > ul > li > ul > li > ul > li { list-style-type: circle; }
ol > li > ul > li > ul > li > ul > li > ul > li > ul > li { list-style-type: square; }
ul > li { list-style-type: decimal; }
ul > li > ul > li { list-style-type: upper-alpha; }
ul > li > ul > li > ul > li { list-style-type: disc; }
ul > li > ul > li > ul > li > ul > li { list-style-type: lower-roman; }
ul > li > ul > li > ul > li > ul > li > ul > li { list-style-type: circle; }
ul > li > ul > li > ul > li > ul > li > ul > li > ul > li { list-style-type: square; }
li p.first { display: inline-block; }
ul, ol { padding-left: 2em; padding-bottom: 0px; }
blockquote { border-left: 0.3em solid rgb(227, 244, 221); padding-left: 0.5em; margin-top: 0.5em; margin-bottom: 1em; color: rgb(77, 160, 50); font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; }
blockquote li { color: rgb(86, 88, 90); }
blockquote blockquote { border-left: 0.2em solid rgb(227, 244, 221); margin-left: 0.4em; }
blockquote blockquote { padding-right: 0px; }
blockquote strong { color: inherit !important; }
#write { overflow-x: auto; }
table { border-collapse: inherit; border-spacing: 0px; width: auto; line-height: 1.5; word-break: break-all; border: 2px solid rgba(255, 255, 255, 0); }
table tr { margin: 0px; padding: 0px; }
table tr:last-child { box-shadow: rgb(136, 139, 142) 0px 1px 0px; }
table tr:nth-child(2n) { background-color: rgba(242, 242, 242, 0.45); }
table tr th { background-color: rgb(242, 242, 242); color: rgb(86, 88, 90); border-right: 1px solid rgba(86, 88, 90, 0.1); margin: 0px; padding: 0.5em; box-shadow: rgb(136, 139, 142) 0px -1px 0px; }
table tr td { border-right: 1px solid rgba(86, 88, 90, 0.1); text-align: left; margin: 0px; padding: 0.5em; border-bottom: 1px solid rgba(86, 88, 90, 0.2); }
table tr th:first-child, table tr td:first-child { padding-left: 0.5em; }
table tr th:last-child, table tr td:last-child { border-right: 0px; padding-right: 0.5em; }
table tr:last-child td { border-bottom: 0px; }
li table, h1 + figure table, h2 + figure table, h3 + figure table, h4 + figure table, h5 + figure table, h6 + figure table { counter-reset: tableRowNumber -1; }
li table tr, h1 + figure table tr, h2 + figure table tr, h3 + figure table tr, h4 + figure table tr, h5 + figure table tr, h6 + figure table tr { counter-increment: tableRowNumber 1; }
li figure { margin-top: 0em; }
li table tr th:first-child::before, li table tr td:first-child::before { content: "#"; color: rgba(79, 206, 193, 0.5); font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; font-size: 0.85em; vertical-align: middle; text-align: right; width: 2.5em; position: absolute; left: -3em; }
li table tr td:first-child::before { content: counter(tableRowNumber); }
h1 + figure, h2 + figure, h3 + figure, h4 + figure, h5 + figure, h6 + figure { margin-top: 0em; margin-left: 1em; }
li h6 + figure { margin-left: 0em; }
h1 + figure table tr th:first-child::before, h1 + figure table tr td:first-child::before, h2 + figure table tr th:first-child::before, h2 + figure table tr td:first-child::before, h3 + figure table tr th:first-child::before, h3 + figure table tr td:first-child::before, h4 + figure table tr th:first-child::before, h4 + figure table tr td:first-child::before, h5 + figure table tr th:first-child::before, h5 + figure table tr td:first-child::before, h6 + figure table tr th:first-child::before, h6 + figure table tr td:first-child::before { content: "# "; color: rgba(79, 206, 193, 0.5); font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; font-size: 0.85em; vertical-align: middle; text-align: right; width: 2.5em; position: absolute; left: -0.5em; }
li h6 + figure table tr th:first-child::before, li h6 + figure table tr td:first-child::before { left: -3em; }
h1 + figure table tr td:first-child::before, h2 + figure table tr td:first-child::before, h3 + figure table tr td:first-child::before, h4 + figure table tr td:first-child::before, h5 + figure table tr td:first-child::before, h6 + figure table tr td:first-child::before { content: counter(tableRowNumber) " "; }
mark { background-color: rgb(255, 240, 0) !important; }
del { color: rgb(189, 190, 191); }
del code { color: rgb(189, 190, 191); background-color: rgb(242, 242, 242); }
.footnotes-area { margin-top: 100px; }
.footnote-line { color: rgb(86, 88, 90); font-size: 1em; margin-top: 0.5em; }
.md-fn-count { font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; }
.md-fn-count::before { content: "["; }
.md-fn-count::after { content: "] "; }
.reversefootnote { color: rgb(4, 90, 209); }
.reversefootnote:hover { color: rgb(194, 17, 23); transition: all 0.3s ease-in-out; }
a[name^="ref-footnote-"] { font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; color: rgb(4, 90, 209); }
a[name^="ref-footnote-"]:hover { color: rgb(230, 92, 161); transition: all 0.3s ease-in-out; }
a[name^="ref-footnote-"]::before { content: "["; }
a[name^="ref-footnote-"]::after { content: "] "; }
.CodeMirror { z-index: 0; }
.CodeMirror-gutters { border-right: 1px solid rgb(255, 255, 255); }
.CodeMirror-linenumber { color: rgb(189, 190, 191); }
code, tt { color: rgb(13, 11, 6); font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; background-color: rgb(219, 245, 242); border-radius: 0.3em; padding: 0.1em 0.3em; margin: 0px 0.2em; font-size: 0.85em; white-space: pre-wrap; vertical-align: middle; }
blockquote code { background-color: rgb(227, 244, 221); }
.md-fences { color: rgb(86, 88, 90); font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; background-color: rgb(242, 242, 242); border-radius: 5px; border: 2px solid rgb(242, 242, 242); padding: 1px 4px; margin: 0px 4px; font-size: 0.85em; }
.task-list { padding-left: 0px; }
.task-list-item { padding-left: 32px; }
.task-list-item input { top: 3px; left: 8px; }
@media screen and (min-width: 860px) {
}
#write pre.md-meta-block { padding: 1em; font-size: 85%; line-height: 2; background-color: rgba(86, 88, 90, 0.05); border: 0px; border-radius: 3px; color: rgb(86, 88, 90); margin-top: 0px !important; }
.mathjax-block > .code-tooltip { bottom: 0.375em; }
#write > h3.md-focus::before { left: -1.5625em; top: 0.375em; }
#write > h4.md-focus::before { left: -1.5625em; top: 0.285714em; }
#write > h5.md-focus::before { left: -1.5625em; top: 0.285714em; }
.md-image > .md-meta { border: 1px solid rgb(136, 139, 142); background-color: rgba(86, 88, 90, 0.05); border-radius: 3px; padding: 2px 4px 0px; color: inherit; }
.md-tag { color: inherit; }
.md-toc, .mdx-toc { margin-top: 0.6em; margin-bottom: 0.6em; border-radius: 0px; line-height: 2; }
.md-toc-h1 { font-size: 1em; }
.md-toc-h2 { font-size: 1em; }
.md-toc-h3, .md-toc-h4, .md-toc-h5 { font-size: 1em; }
.md-toc-h1 a, .md-toc-h2 a, .md-toc-h3 a, .md-toc-h4 a, .md-toc-h5 a { color: rgb(86, 88, 90); text-decoration: none; padding: 0px; border-radius: 0px; }
.md-toc-h1 a:hover, .md-toc-h2 a:hover, .md-toc-h3 a:hover, .md-toc-h4 a:hover, .md-toc-h5 a:hover { color: rgb(230, 92, 161); background-color: rgba(255, 255, 255, 0); text-decoration: none; transition: all 0.3s ease-in-out; }
#typora-quick-open { border: 1px solid rgb(136, 139, 142); background-color: rgba(86, 88, 90, 0.05); }
#typora-quick-open-item { background-color: rgba(86, 88, 90, 0.05); border-color: rgb(136, 139, 142); border-style: solid; border-width: 1px; }
#md-notification::before { top: 10px; }
.on-focus-mode blockquote { border-left-color: rgb(86, 88, 90); }
.md-toc-content { counter-reset: h1toc 0; }
.md-toc-h1 { margin-left: 0px; padding-left: 10px; counter-reset: h2toc 0; }
.md-toc-h2 { margin-left: 0px; padding-left: 20px; counter-reset: h3toc 0; }
.md-toc-h3 { margin-left: 0px; padding-left: 30px; counter-reset: h4toc 0; }
.md-toc-h4 { margin-left: 0px; padding-left: 40px; counter-reset: h5toc 0; }
.md-toc-h5 { margin-left: 0px; padding-left: 50px; counter-reset: h6toc 0; }
.md-toc-h6 { display: none; margin-left: 0px; padding-left: 50px; }
.md-toc-h1, .md-toc-h2, .md-toc-h3, .md-toc-h4, .md-toc-h5 { font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; font-size: 1em; padding-right: 10px; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; }
.md-toc-h1::before, .md-toc-h2::before, .md-toc-h3::before, .md-toc-h4::before, .md-toc-h5::before { color: rgba(79, 206, 193, 0.5); font-family: "", sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; font-weight: normal; }
.md-toc-h1 a, .md-toc-h2 a, .md-toc-h3 a, .md-toc-h4 a, .md-toc-h5 a { border: 0px; }
.md-toc-h1 a:hover, .md-toc-h2 a:hover, .md-toc-h3 a:hover, .md-toc-h4 a:hover, .md-toc-h5 a:hover { box-shadow: inherit; transition: all 0.3s ease-in-out; }
.md-toc-h1 a::after, .md-toc-h2 a::after, .md-toc-h3 a::after, .md-toc-h4 a::after, .md-toc-h5 a::after { content: ""; }
.md-toc-h1::before { counter-increment: h1toc 1; content: counter(h1toc) "  "; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; }
.md-toc-h2::before { counter-increment: h2toc 1; content: counter(h1toc) "." counter(h2toc) "  "; }
.md-toc-h2 .md-toc-inner { margin-left: 0px; }
.md-toc-h3::before { counter-increment: h3toc 1; content: counter(h1toc) "." counter(h2toc) "." counter(h3toc) "  "; }
.md-toc-h3 .md-toc-inner { margin-left: 0px; }
.md-toc-h4::before { counter-increment: h4toc 1; content: counter(h1toc) "." counter(h2toc) "." counter(h3toc) "." counter(h4toc) "  "; }
.md-toc-h4 .md-toc-inner { margin-left: 0px; }
.md-toc-h5::before { counter-increment: h5toc 1; content: counter(h1toc) "." counter(h2toc) "." counter(h3toc) "." counter(h4toc) "." counter(h5toc) "  "; }
.md-toc-h5 .md-toc-inner { margin-left: 0px; }
#write { counter-reset: h1 0; }
h1 { counter-reset: h2 0; }
h2 { counter-reset: h3 0; }
h3 { counter-reset: h4 0; }
h4 { counter-reset: h5 0; }
#write h1::before, #write h2::before, #write h3::before, #write h4::before, #write h5::before { color: rgba(79, 206, 193, 0.5); font-family: "", sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; font-weight: normal; }
#write h1::before { counter-increment: h1 1; content: counter(h1) "  "; }
#write h2::before { counter-increment: h2 1; content: counter(h1) "." counter(h2) "  "; }
#write h3::before, h3.md-focus.md-heading::before { counter-increment: h3 1; content: counter(h1) "." counter(h2) "." counter(h3) "  "; }
#write h4::before, h4.md-focus.md-heading::before { counter-increment: h4 1; content: counter(h1) "." counter(h2) "." counter(h3) "." counter(h4) "  "; }
#write h5::before, h5.md-focus.md-heading::before { counter-increment: h5 1; content: counter(h1) "." counter(h2) "." counter(h3) "." counter(h4) "." counter(h5) "  "; }
#write > h3.md-focus::before, #write > h4.md-focus::before, #write > h5.md-focus::before, h3.md-focus::before, h4.md-focus::before, h5.md-focus::before { color: inherit; border: inherit; border-radius: inherit; position: inherit; left: initial; float: none; top: initial; font-size: inherit; padding-left: inherit; padding-right: inherit; vertical-align: inherit; font-weight: inherit; line-height: inherit; }
.outline-item { line-height: 1; font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; }
rect[id^="st"].flowchart { fill: rgb(86, 88, 90); stroke: rgb(86, 88, 90); stroke-width: 5; }
rect[id^="e"].flowchart { fill: none; stroke: rgb(86, 88, 90); stroke-width: 5; }
rect[id^="op"].flowchart { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1; }
rect[id^="sub"], rect[id^="sub"].flowchart { fill: rgb(252, 228, 191); stroke: rgb(230, 141, 9); stroke-width: 1; }
path[id^="c"].flowchart { fill: rgb(251, 215, 216); stroke: rgb(194, 17, 23); stroke-width: 1; }
path[id^="io"].flowchart { fill: rgb(227, 244, 221); stroke: rgb(77, 160, 50); stroke-width: 1; }
path[fill="none"][stroke-width="3"][marker-end^="url(#raphael-marker-endblock"] { stroke: rgb(86, 88, 90); stroke-width: 2px; }
marker[id^="raphael-marker-endblock"] > use { fill: rgb(86, 88, 90); }
text[text-anchor="start"] > tspan { font-size: 14px; font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; fill: rgb(13, 11, 6); }
rect[x="10"][y="10"][fill="var(--bg-color)"][stroke="currentColor"][stroke-width="2"][rx="0"][ry="0"] { fill: rgb(255, 255, 255); stroke: rgb(189, 190, 191); stroke-width: 2px; }
rect[fill="var(--bg-color)"][stroke="currentColor"][stroke-width="2"][rx="0"][ry="0"] { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1px; }
path[fill="var(--bg-color)"][stroke="currentColor"][stroke-width="2"] { stroke: rgba(119, 217, 207, 0.5); stroke-width: 1px; }
path[fill="var(--bg-color)"][stroke="currentColor"][stroke-width="2"][marker-end^="url(#raphael-marker-endblock"] { stroke: rgb(86, 88, 90); stroke-width: 2px; stroke-dasharray: none; }
path[fill="var(--bg-color)"][stroke="currentColor"][stroke-width="2"][marker-end^="url(#raphael-marker-endblock"][stroke-dasharray="6,2"] { stroke-dasharray: 5; }
path[fill="var(--bg-color)"][stroke="currentColor"][stroke-width="2"][marker-end^="url(#raphael-marker-endopen"] { stroke: rgb(86, 88, 90); stroke-width: 2px; stroke-dasharray: none; }
path[fill="var(--bg-color)"][stroke="currentColor"][stroke-width="2"][marker-end^="url(#raphael-marker-endopen"][stroke-dasharray="6,2"] { stroke-dasharray: 5; }
marker[id^="raphael-marker-endopen"] > use { stroke: rgb(86, 88, 90); }
rect + text[text-anchor="middle"] > tspan { font-size: 14px; font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; fill: rgb(86, 88, 90); }
rect + rect + text[text-anchor="middle"] > tspan { font-size: 14px; font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; fill: rgb(13, 11, 6); }
.mermaid .label { color: rgb(13, 11, 6); fill: rgb(189, 190, 191); }
svg[id^="mermaidChart"] { color: rgb(13, 11, 6); }
.node rect[rx="0"][rx="0"] { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 3; }
.node rect[rx="5"][rx="5"] { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1; rx: 5; }
.node circle { fill: rgb(227, 244, 221); stroke: rgb(77, 160, 50); stroke-width: 1; }
.node ellipse { fill: rgb(189, 190, 191); stroke: rgb(86, 88, 90); stroke-width: 10; }
.node polygon[rx^="5"][ry^="5"] { fill: rgb(251, 215, 216); stroke: rgb(194, 17, 23); stroke-width: 1; }
.node polygon { fill: rgb(252, 228, 191); stroke: rgb(230, 141, 9); stroke-width: 1; }
.edgePath .path { stroke: rgb(86, 88, 90); stroke-width: 2; }
.arrowheadPath { fill: rgb(86, 88, 90); }
.edgeLabel { color: rgb(13, 11, 6); background-color: rgb(255, 255, 255); font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; }
.cluster rect { fill: rgba(86, 88, 90, 0.05) !important; stroke: rgba(86, 88, 90, 0.15) !important; stroke-width: 1 !important; }
.cluster text { color: rgb(13, 11, 6); fill: rgb(86, 88, 90); }
#START circle { fill: rgb(86, 88, 90); stroke: rgb(86, 88, 90); stroke-width: 5; }
#END circle { fill: none; stroke: rgb(86, 88, 90); stroke-width: 5; }
#INIT circle { fill: rgb(86, 88, 90); stroke: rgb(86, 88, 90); stroke-width: 5; }
#FINAL circle { fill: none; stroke: rgb(86, 88, 90); stroke-width: 5; }
.actor { stroke: rgb(119, 217, 207); fill: rgb(219, 245, 242); rx: 5; ry: 5; }
.actor-person { stroke: rgb(194, 17, 23); fill: rgb(251, 215, 216); }
text.actor { fill: rgb(13, 11, 6); stroke: none; }
.actor-line { stroke: rgb(119, 217, 207); }
.actor-line-person { stroke: rgb(194, 17, 23); }
.messageLine0 { stroke-width: 2; stroke: rgb(86, 88, 90); }
#arrowhead { fill: rgb(86, 88, 90); }
.messageLine1 { stroke-width: 2; stroke: rgb(86, 88, 90); }
#crosshead path { fill: rgb(189, 190, 191) !important; stroke: rgb(86, 88, 90) !important; }
.messageText { fill: rgb(86, 88, 90); stroke: none; font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; }
.labelBox { stroke: none; fill: rgb(251, 215, 216); }
.labelText { fill: rgb(194, 17, 23); stroke: none; }
.labelText tspan { fill: rgb(194, 17, 23); stroke: none; }
.loopText { fill: rgb(194, 17, 23); stroke: none; }
.loopText tspan { fill: rgb(194, 17, 23); stroke: none; }
.loopLine { stroke-width: 1; stroke: rgba(194, 17, 23, 0.5); }
.note { stroke: rgb(86, 88, 90); stroke-dasharray: 5; fill: rgb(189, 190, 191); }
.noteText, .noteText tspan { fill: rgb(86, 88, 90); stroke: none; font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; }
.section { stroke: none; }
.section0 { fill: rgb(189, 190, 191); }
.section2 { fill: rgb(189, 190, 191); }
.section1, .section3 { fill: rgba(86, 88, 90, 0.05); }
.sectionTitle0, .sectionTitle1, .sectionTitle2, .sectionTitle3 { fill: rgb(86, 88, 90); }
.sectionTitle { text-anchor: start; font-size: 12px; }
.grid .tick { stroke: rgb(189, 190, 191); shape-rendering: crispEdges; }
.grid path { stroke-width: 0; }
.today { fill: none; stroke: rgb(194, 17, 23); stroke-width: 3px; }
.task { stroke-width: 2; }
.taskText { text-anchor: middle; font-size: 12px; }
.taskTextOutsideRight { fill: rgb(86, 88, 90); text-anchor: start; }
.taskTextOutsideLeft { fill: rgb(86, 88, 90); text-anchor: end; }
.active0, .active1, .active2, .active3 { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); }
.activeText0, .activeText1, .activeText2, .activeText3 { fill: rgb(119, 217, 207) !important; }
.done0, .done1, .done2, .done3 { stroke: none; fill: rgb(219, 245, 242); stroke-width: 2; stroke-dasharray: 2; }
.task0, .task1, .task2, .task3 { fill: rgb(255, 255, 255); stroke: rgb(119, 217, 207); stroke-dasharray: 2; }
.taskText0, .taskText1, .taskText2, .taskText3 { fill: rgb(86, 88, 90); }
.taskTextOutside0, .taskTextOutside2 { fill: rgb(86, 88, 90); }
.taskTextOutside1, .taskTextOutside3 { fill: rgb(86, 88, 90); }
.doneText0, .doneText1, .doneText2, .doneText3 { fill: rgb(86, 88, 90) !important; }
.activeCrit0, .activeCrit1, .activeCrit2, .activeCrit3 { stroke: rgb(194, 17, 23); fill: rgb(251, 215, 216); stroke-width: 2; }
.activeCritText0, .activeCritText1, .activeCritText2, .activeCritText3 { fill: rgb(194, 17, 23) !important; }
.doneCrit0, .doneCrit1, .doneCrit2, .doneCrit3 { stroke: none; fill: rgb(251, 215, 216); stroke-width: 2; cursor: pointer; shape-rendering: crispEdges; }
.crit0, .crit1, .crit2, .crit3 { stroke: rgb(194, 17, 23); fill: rgb(255, 255, 255); stroke-width: 2; stroke-dasharray: 2; }
.critText0, .critText1, .critText2, .critText3 { fill: rgb(86, 88, 90); }
.doneCritText0, .doneCritText1, .doneCritText2, .doneCritText3 { fill: rgb(86, 88, 90) !important; }
.titleText { text-anchor: middle; font-size: 18px; fill: rgb(86, 88, 90); }
g.classGroup text { fill: rgb(86, 88, 90); stroke: none; }
g.classGroup rect { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); }
g.classGroup line { stroke: rgb(86, 88, 90); stroke-width: 1; }
svg .classLabel .box { stroke: none; stroke-width: 0; fill: rgb(219, 245, 242); opacity: 0.5; }
svg .classLabel .label { fill: rgb(219, 245, 242); }
.relation { stroke: rgb(119, 217, 207); stroke-width: 1; fill: none; }
.composition { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1; }
#compositionStart { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1; }
#compositionEnd { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1; }
.aggregation { fill: rgb(219, 245, 242); stroke: rgb(86, 88, 90); stroke-width: 1; }
#aggregationStart { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1; }
#aggregationEnd { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1; }
#dependencyStart { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1; }
#dependencyEnd { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1; }
#extensionStart { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1; }
#extensionEnd { fill: rgb(219, 245, 242); stroke: rgb(119, 217, 207); stroke-width: 1; }
div.mermaidTooltip { position: absolute; text-align: center; max-width: 200px; padding: 2px; background: rgb(189, 190, 191); border: 1px solid rgb(208, 208, 208); border-radius: 2px; pointer-events: none; z-index: 100; }
#write { padding-left: 20px; padding-right: 20px; }
.MathJax_SVG { border: 2px solid rgb(219, 245, 242); border-radius: 0.3em; padding: 0.3em; }
.MathJax_SVG:hover { background-color: rgb(255, 255, 255); transform: scale(2); transition: all 0.3s ease-in-out; box-shadow: rgba(0, 0, 0, 0.3) 0px 2px 10px; }
.MathJax_SVG g text { font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; color: rgb(13, 11, 6); }
.md-toc-inner { text-decoration: none; box-shadow: none; }
.md-toc-item:hover { box-shadow: rgb(230, 92, 161) 0px -1px 0px inset; transition: all 0.3s ease-in-out; }
.md-toc-item:active { box-shadow: rgb(230, 92, 161) 0px -1px 0px inset; transition: all 0.3s ease-in-out; }
.md-toc-item > a { color: rgb(86, 88, 90); }
.md-toc-item:hover > a, .md-toc-item a:hover { color: rgb(230, 92, 161); transition: all 0.3s ease-in-out; }
.md-toc-item:active > a, .md-toc-item a:active { color: rgb(230, 92, 161); transition: all 0.3s ease-in-out; }
#svg-figure-content { margin: 5px; padding: 5px; border-radius: 5px; cursor: pointer; display: table-cell; align-content: center; text-align: center; vertical-align: middle; width: 100%; }
sup.md-footnote { background-color: inherit; }
sup.md-footnote a { color: rgb(230, 92, 161); margin-left: 0.5em; margin-right: 0.5em; box-shadow: none; }
sup.md-footnote a:hover { color: rgb(230, 92, 161); border-bottom: 0px; }
.footnote-line a:not(.reversefootnote) { color: rgb(119, 217, 207); }
kbd { font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; font-size: 0.85em; border-radius: 0.4em; margin: 0px 0.2em; padding: 0em 0.3em; background-color: rgb(255, 255, 255); color: rgb(13, 11, 6); border: 0.1em solid rgb(189, 190, 191); box-shadow: rgb(189, 190, 191) 0px 0.1em 0px; }
ul > .md-task-list-item { list-style-type: decimal !important; }
ul > li > ul > .md-task-list-item { list-style-type: upper-alpha !important; }
ul > li > ul > li > ul > .md-task-list-item { list-style-type: lower-alpha !important; }
ul > li > ul > li > ul > li > ul > .md-task-list-item { list-style-type: disc !important; }
ul > li > ul > li > ul > li > ul > li > ul > .md-task-list-item { list-style-type: circle !important; }
ul > li > ul > li > ul > li > ul > li > ul > li > ul > .md-task-list-item { list-style-type: square !important; }
.md-task-list-item > input { margin-left: -0.5em !important; margin-top: 0.3em !important; }
.md-task-list-item > p { margin-top: 0px; margin-bottom: 0px; margin-left: 1.2em !important; }
li > :first-child, li p { margin-top: 0px; margin-bottom: 0px; }
.mdx-spotlight { display: none; position: fixed; left: 0px; top: 0px; width: 100%; height: 100%; background-image: ; background-position: radial-gradient(circle at calc(var(--x) * 1px) calc(var(--y) * 1px), rgba(255, 255, 255, 0) 180px, rgba(0, 0, 0, 0.7) 190px); background-repeat: radial-gradient(circle at calc(var(--x) * 1px) calc(var(--y) * 1px), rgba(255, 255, 255, 0) 180px, rgba(0, 0, 0, 0.7) 190px); background-attachment: ; background-origin: ; background-clip: ; background-color: ; background-size: cover; pointer-events: none; z-index: 99999; }
.mdx-figure-alt { color: rgb(86, 88, 90); font-size: 0.85em; text-align: center; }
.mdx-figure-alt hr { border-bottom: 2px solid rgb(189, 190, 191); margin: 0.5em auto; }
.mdx-figure-hover { transition: all 0.3s ease-in-out; border: 2px solid rgb(119, 217, 207) !important; }
.mdx-figure-hover-dark { transition: all 0.3s ease-in-out; border: 2px solid rgb(51, 183, 169) !important; }
.mdx-blockquote-folder:hover { color: rgb(49, 102, 32); transition: all 0.3s ease-in-out; }
.mdx-color-theme-fore { color: rgb(0, 0, 0); }
.mdx-color-theme-fore-alt { color: rgba(0, 0, 0, 0.5); }
.mdx-color-theme-bg { color: rgb(119, 217, 207); }
.mdx-color-theme-bg-fade { color: rgba(119, 217, 207, 0.5); }
.mdx-color-theme-bg-dark { color: rgb(51, 183, 169); }
.mdx-color-theme-bg-alt { color: rgb(219, 245, 242); }
.mdx-color-header-color { color: rgb(79, 206, 193); }
.mdx-color-header-color-dark { color: rgb(51, 183, 169); }
.mdx-color-docbg-light { color: rgb(255, 255, 255); }
.mdx-color-docbg-light-alt { color: rgb(242, 242, 242); }
.mdx-color-docbg-light-fade { color: rgba(255, 255, 255, 0.3); }
.mdx-color-docbg-dark { color: rgb(26, 23, 13); }
.mdx-color-docbg-dark-alt { color: rgb(0, 0, 0); }
.mdx-color-docbg-dark-fade { color: rgba(26, 23, 13, 0.3); }
.mdx-color-fore-light { color: rgb(86, 88, 90); }
.mdx-color-fore-light-alt { color: rgb(189, 190, 191); }
.mdx-color-fore-light-fade { color: rgba(86, 88, 90, 0.5); }
.mdx-color-fore-dark { color: rgb(150, 152, 154); }
.mdx-color-fore-dark-alt { color: rgb(74, 76, 77); }
.mdx-color-fore-dark-fade { color: rgba(150, 152, 154, 0.5); }
.mdx-color-master { color: rgb(4, 90, 209); }
.mdx-color-master-light { color: rgb(14, 113, 250); }
.mdx-color-master-dark { color: rgb(3, 58, 134); }
.mdx-color-master-alt { color: rgb(214, 231, 254); }
.mdx-color-master-alt-dark { color: rgb(41, 85, 146); }
.mdx-color-master-fade { color: rgba(4, 90, 209, 0.5); }
.mdx-color-slave { color: rgb(194, 17, 23); background-color: rgb(251, 215, 216); border-color: rgba(194, 17, 23, 0.5); }
.mdx-color-slave-light { color: rgb(235, 27, 34); }
.mdx-color-slave-dark { color: rgb(124, 11, 15); }
.mdx-color-slave-alt { color: rgb(251, 215, 216); }
.mdx-color-slave-alt-dark { color: rgb(133, 52, 55); }
.mdx-color-slave-fade { color: rgba(194, 17, 23, 0.5); }
.mdx-color-third { color: rgb(77, 160, 50); background-color: rgb(227, 244, 221); border-color: rgba(77, 160, 50, 0.5); }
.mdx-color-third-dark { color: rgb(49, 102, 32); }
.mdx-color-third-light { color: rgb(97, 196, 65); }
.mdx-color-third-alt { color: rgb(227, 244, 221); }
.mdx-color-third-alt-dark { color: rgb(86, 104, 81); }
.mdx-color-third-fade { color: rgba(77, 160, 50, 0.5); }
.mdx-color-fourth { color: rgb(230, 141, 9); }
.mdx-color-fourth-dark { color: rgb(156, 96, 6); }
.mdx-color-fourth-light { color: rgb(247, 165, 43); }
.mdx-color-fourth-alt { color: rgb(252, 228, 191); }
.mdx-color-fourth-alt-dark { color: rgb(124, 90, 39); }
.mdx-color-fourth-fade { color: rgba(230, 141, 9, 0.5); }
.mdx-color-fifth { color: rgb(149, 50, 150); }
.mdx-color-fifth-dark { color: rgb(92, 31, 93); }
.mdx-color-fifth-light { color: rgb(187, 63, 188); }
.mdx-color-fifth-alt { color: rgb(241, 214, 241); }
.mdx-color-fifth-alt-dark { color: rgb(96, 79, 96); }
.mdx-color-fifth-fade { color: rgba(149, 50, 150, 0.5); }
.mdx-color-bold-light { color: rgb(13, 11, 6); }
.mdx-color-bold-dark { color: rgb(255, 255, 255); }
.mdx-color-a { color: rgb(13, 11, 6); }
.mdx-color-a-dark { color: rgb(255, 255, 255); }
.mdx-color-aline { color: rgb(230, 92, 161); }
.mdx-color-ahover { color: rgb(230, 92, 161); }
.mdx-color-table-th-bg { color: rgb(242, 242, 242); }
.mdx-color-table-th-bg-dark { color: rgb(0, 0, 0); }
.mdx-color-table-th-border { color: rgb(86, 88, 90); }
.mdx-color-table-td2-bg { color: rgba(242, 242, 242, 0.45); }
.mdx-color-table-td2-bg-dark { color: rgba(242, 242, 242, 0.08); }
.mdx-color-transparency0 { color: rgba(255, 255, 255, 0); }
.mdx-color-transparency1 { color: rgba(255, 255, 255, 0.2); }
.mdx-color-transparency2 { color: rgba(255, 255, 255, 0.4); }
.mdx-color-transparency3 { color: rgba(255, 255, 255, 0.6); }
.mdx-color-transparency4 { color: rgba(255, 255, 255, 0.8); }
.mdx-toc-box { border-radius: 15px; cursor: default; display: block; left: -350px; top: 10px; bottom: 10px; width: 350px; padding: 0px; position: fixed; z-index: 2000; user-select: none; }
.mdx-float-card { box-shadow: rgba(0, 0, 0, 0.3) 0px 3px 20px; }
.mdx-toc-box-header { color: rgb(86, 88, 90); font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; font-size: 1.2em; width: 100%; height: 50px; padding: 10px 0px 10px 10px; position: absolute; z-index: 100; }
.mdx-header-shadow { box-shadow: rgba(0, 0, 0, 0.1) 0px 1px 0px; border-top-right-radius: 15px; border-top-left-radius: 15px; }
.mdx-footer-shadow { box-shadow: rgba(0, 0, 0, 0.1) 0px -1px 0px; border-bottom-right-radius: 15px; border-bottom-left-radius: 15px; }
.mdx-footer-note { position: fixed; left: 15%; right: 15%; bottom: -180px; height: 180px; border-radius: 15px; box-shadow: rgba(0, 0, 0, 0.3) 0px 3px 20px; margin: 0px auto; background-color: rgb(255, 255, 255); display: none; z-index: 9999; }
.mdx-footer-note-content { width: 100%; height: 130px; padding: 10px 20px; overflow-x: auto; }
.mdx-footer-note-toolbar { height: 50px; line-height: 50px; padding: 0px 20px; }
.mdx-toolbar { border-bottom-left-radius: 15px; border-bottom-right-radius: 15px; left: 10px; top: 0px; width: 350px; height: 50px; position: fixed; z-index: 100; }
.mdx-toc-box-title { text-align: center; position: absolute; width: 280px; height: 30px; line-height: 30px; border-radius: 5px; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; font-size: 1em; font-family: "", sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; font-weight: bold; color: rgb(13, 11, 6); cursor: pointer; }
.mdx-toc-box-title:hover { color: rgb(230, 92, 161); transition: all 0.3s ease-in-out; }
.mdx-toc-box-title:active { color: rgb(230, 92, 161); transition: all 0.3s ease-in-out; }
.mdx-toc-box-body-scroll { background-color: rgb(242, 242, 242); width: 100%; height: 100%; padding: 50px 0px 40px; border-radius: 15px; overflow-x: auto; overflow-y: hidden; z-index: 99; }
.mdx-toc-info { color: rgb(86, 88, 90); font-size: 0.85em; font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; width: 100%; height: 40px; line-height: 40px; bottom: 0px; text-align: center; padding: 0px; position: absolute; z-index: 100; }
.mdx-toc-info2 { left: 0px; bottom: 0px; width: 100%; height: 40px; padding: 5px 10px; color: rgb(86, 88, 90); font-size: 0.85em; position: absolute; }
.mdx-toc-box-body { height: 100%; padding: 0px; overflow-y: scroll; z-index: 99; }
.mdx-outline { display: flex; justify-content: center; align-items: center; color: rgb(255, 255, 255); background-color: rgb(86, 88, 90); cursor: pointer; float: left; width: 30px; height: 30px; padding-top: 0px; margin-top: 10px; margin-left: 10px; text-align: center; visibility: visible; }
.mdx-header-current { background-color: rgb(219, 245, 242); }
.mdx-header-current a { font-weight: bold; color: rgb(13, 11, 6) !important; }
.mdx-header-current-dark { background-color: rgb(51, 183, 169); }
.mdx-header-current-dark a { font-weight: bold; color: rgb(255, 255, 255) !important; }
.mdx-folder { color: rgb(189, 190, 191); float: left; width: 16px; text-align: center; }
.mdx-folder:hover { color: rgb(230, 92, 161); transition: all 0.3s ease-in-out; }
.mdx-btn { display: flex; justify-content: center; align-items: center; vertical-align: middle; color: rgb(255, 255, 255); background-color: rgb(119, 217, 207); cursor: pointer; padding: 0px; font-size: 0.85em; width: 30px; height: 30px; border-radius: 8px; }
.mdx-btn-hover:hover { background-color: rgb(230, 92, 161); box-shadow: rgba(0, 0, 0, 0.3) 0px 2px 20px; transition: 0.3s; transform: scale(1.2); }
.mdx-btn-leave { background-color: rgb(119, 217, 207); transition: 0.3s; transform: scale(1); }
.mdx-btn:active { background-color: rgb(230, 92, 161); box-shadow: none; transition: 0.3s; transform: scale(1); }
.mdx-btn2 { display: flex; justify-content: center; align-items: center; vertical-align: middle; color: rgb(255, 255, 255); background-color: rgb(189, 190, 191); cursor: pointer; padding: 0px; font-size: 0.85em; width: 30px; height: 30px; border-radius: 8px; }
.mdx-btn2-hover:hover { background-color: rgb(86, 88, 90); transition: 0.3s; transform: scale(1.2); }
.mdx-btn2-leave { background-color: rgb(189, 190, 191); transition: 0.3s; transform: scale(1); }
.mdx-btn2:active { background-color: rgb(230, 92, 161); box-shadow: none; transition: 0.3s; transform: scale(1); }
.mdx-nav-back { margin-top: 10px; margin-left: 10px; float: left; visibility: hidden; }
.mdx-nav-forward { margin-top: 10px; margin-left: 10px; float: left; visibility: hidden; }
.mdx-nav-prev { top: 0px; left: 0px; width: 20%; height: 50px; position: absolute; cursor: pointer; border-bottom-left-radius: 15px; }
.mdx-nav-prev-hover:hover { background: linear-gradient(to right, rgb(230, 92, 161), rgba(230, 92, 161, 0)); transition: all 0.3s ease-in-out; }
.mdx-nav-prev:active { background: linear-gradient(to right, rgb(230, 92, 161), rgba(230, 92, 161, 0)); transition: all 0.3s ease-in-out; }
.mdx-nav-prev-text { top: 0px; left: 30px; width: 100%; height: 50px; line-height: 50px; color: rgb(0, 0, 0); text-align: left; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; position: absolute; cursor: pointer; display: none; }
.mdx-nav-next { top: 0px; right: 0px; width: 20%; height: 50px; position: absolute; cursor: pointer; border-bottom-right-radius: 15px; }
.mdx-nav-next-hover:hover { background: linear-gradient(to left, rgb(230, 92, 161), rgba(230, 92, 161, 0)); transition: all 0.3s ease-in-out; }
.mdx-nav-next:active { background: linear-gradient(to left, rgb(230, 92, 161), rgba(230, 92, 161, 0)); transition: all 0.3s ease-in-out; }
.mdx-nav-next-text { top: 0px; right: 30px; width: 100%; height: 50px; line-height: 50px; color: rgb(0, 0, 0); text-align: right; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; position: absolute; cursor: pointer; display: block; }
.mdx-bread-nav { background-color: rgb(119, 217, 207); border-bottom-left-radius: 15px; border-bottom-right-radius: 15px; top: -50px; left: 10px; right: 10px; height: 50px; position: fixed; padding: 0px; vertical-align: middle; z-index: 100; }
.mdx-bread-nav-text { color: rgb(0, 0, 0); font-family: "", sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; font-size: 1.4em; font-weight: bold; text-align: center; line-height: 50px; margin-left: 40px; margin-right: 40px; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; width: auto; height: 50px; cursor: pointer; display: block; }
.mdx-bread-nav-text:hover { color: rgb(230, 92, 161); transition: all 0.3s ease-in-out; }
.mdx-bread-nav-text:active { color: rgb(230, 92, 161); transition: all 0.3s ease-in-out; }
.mdx-fullscreen { margin-top: 10px; margin-left: 10px; float: left; }
.mdx-theme-exchange { margin-top: 10px; margin-right: 10px; float: right; }
.mdx-figure-launcher { margin-top: 10px; margin-right: 10px; visibility: hidden; float: right; }
.mdx-print { margin-top: 10px; margin-right: 10px; float: right; }
.mdx-figure-viewer { left: 0px; top: 0px; width: 100%; height: 100%; background-color: rgb(255, 255, 255); position: fixed; display: none; z-index: 4000; }
.mdx-figure-viewer-prev { left: 10px; top: auto; width: 30px; border-radius: 15px; position: absolute; bottom: 10px; }
.mdx-figure-viewer-next { right: 10px; top: auto; width: 30px; border-radius: 15px; position: absolute; bottom: 10px; }
.mdx-figure-viewer-close { right: 10px; top: 10px; border-radius: 15px; position: absolute; }
.mdx-figure-action { border-radius: 15px 0px; position: absolute; z-index: 10; }
.mdx-figure { background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTAwcHgiIGhlaWdodD0iMTAwcHgiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1Mi41ICg2NzQ2OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+ZG90IGNvcHkgNDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJkb3QtY29weS00IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRkZGRkZGIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNGMEYzRkEiIHg9IjAiIHk9IjEiIHdpZHRoPSIxIiBoZWlnaHQ9Ijk5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5IiBmaWxsPSIjRjBGM0ZBIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iI0YwRjNGQSIgeD0iMSIgeT0iMTAiIHdpZHRoPSI5OSIgaGVpZ2h0PSIxIj48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTgiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTEyIiBmaWxsPSIjRjBGM0ZBIiB4PSIyMCIgeT0iMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0xMyIgZmlsbD0iI0YwRjNGQSIgeD0iMzAiIHk9IjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMTYiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTE1IiBmaWxsPSIjRjBGM0ZBIiB4PSI1MCIgeT0iMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0xNCIgZmlsbD0iI0YwRjNGQSIgeD0iNjAiIHk9IjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMjAiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTE5IiBmaWxsPSIjRjBGM0ZBIiB4PSI4MCIgeT0iMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0xOCIgZmlsbD0iI0YwRjNGQSIgeD0iOTAiIHk9IjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMjgiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSIxMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yNyIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjExIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTI2IiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iMTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMjUiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSIxMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yNCIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjExIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTE3IiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iMTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMjMiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSIxMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yMiIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjExIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIxIiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iMTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMzciIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSIyMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zNiIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTM1IiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iMjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMzQiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSIyMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zMyIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMyIiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iMjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMzEiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSIyMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zMCIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjIxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTI5IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iMjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNDYiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSIzMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00NSIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjMxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQ0IiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iMzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNDMiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSIzMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00MiIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjMxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQxIiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iMzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNDAiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSIzMSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zOSIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjMxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTM4IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iMzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNTUiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSI0MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01NCIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjQxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUzIiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iNDEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNTIiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSI0MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01MSIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjQxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUwIiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iNDEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNDkiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSI0MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00OCIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjQxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQ3IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iNDEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNjQiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSI1MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS02MyIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjUxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTYyIiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iNTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNjEiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSI1MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS02MCIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjUxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTU5IiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iNTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNTgiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSI1MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01NyIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjUxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTU2IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iNTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNzMiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSI2MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS03MiIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjYxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTcxIiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iNjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNzAiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSI2MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS02OSIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjYxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTY4IiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iNjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNjciIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSI2MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS02NiIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjYxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTY1IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iNjEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktODIiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSI3MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS04MSIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjcxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTgwIiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iNzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNzkiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSI3MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS03OCIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjcxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTc3IiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iNzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNzYiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSI3MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS03NSIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjcxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTc0IiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iNzEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktOTEiIGZpbGw9IiNGMEYzRkEiIHg9IjEwIiB5PSI4MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS05MCIgZmlsbD0iI0YwRjNGQSIgeD0iMjAiIHk9IjgxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTg5IiBmaWxsPSIjRjBGM0ZBIiB4PSIzMCIgeT0iODEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktODgiIGZpbGw9IiNGMEYzRkEiIHg9IjQwIiB5PSI4MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS04NyIgZmlsbD0iI0YwRjNGQSIgeD0iNTAiIHk9IjgxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTg2IiBmaWxsPSIjRjBGM0ZBIiB4PSI2MCIgeT0iODEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktODUiIGZpbGw9IiNGMEYzRkEiIHg9IjcwIiB5PSI4MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS04NCIgZmlsbD0iI0YwRjNGQSIgeD0iODAiIHk9IjgxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTgzIiBmaWxsPSIjRjBGM0ZBIiB4PSI5MCIgeT0iODEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMTAwIiBmaWxsPSIjRjBGM0ZBIiB4PSIxMCIgeT0iOTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktOTkiIGZpbGw9IiNGMEYzRkEiIHg9IjIwIiB5PSI5MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS05OCIgZmlsbD0iI0YwRjNGQSIgeD0iMzAiIHk9IjkxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTk3IiBmaWxsPSIjRjBGM0ZBIiB4PSI0MCIgeT0iOTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktOTYiIGZpbGw9IiNGMEYzRkEiIHg9IjUwIiB5PSI5MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS05NSIgZmlsbD0iI0YwRjNGQSIgeD0iNjAiIHk9IjkxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTk0IiBmaWxsPSIjRjBGM0ZBIiB4PSI3MCIgeT0iOTEiIHdpZHRoPSIxIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktOTMiIGZpbGw9IiNGMEYzRkEiIHg9IjgwIiB5PSI5MSIgd2lkdGg9IjEiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS05MiIgZmlsbD0iI0YwRjNGQSIgeD0iOTAiIHk9IjkxIiB3aWR0aD0iMSIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIGZpbGw9IiNGMEYzRkEiIHg9IjEiIHk9IjIwIiB3aWR0aD0iOTkiIGhlaWdodD0iMSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00IiBmaWxsPSIjRjBGM0ZBIiB4PSIxIiB5PSIzMCIgd2lkdGg9Ijk5IiBoZWlnaHQ9IjEiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNyIgZmlsbD0iI0YwRjNGQSIgeD0iMSIgeT0iNDAiIHdpZHRoPSI5OSIgaGVpZ2h0PSIxIj48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTYiIGZpbGw9IiNGMEYzRkEiIHg9IjEiIHk9IjUwIiB3aWR0aD0iOTkiIGhlaWdodD0iMSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjRjBGM0ZBIiB4PSIxIiB5PSI2MCIgd2lkdGg9Ijk5IiBoZWlnaHQ9IjEiPjwvcmVjdD4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMTEiIGZpbGw9IiNGMEYzRkEiIHg9IjEiIHk9IjcwIiB3aWR0aD0iOTkiIGhlaWdodD0iMSI+PC9yZWN0PgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0xMCIgZmlsbD0iI0YwRjNGQSIgeD0iMSIgeT0iODAiIHdpZHRoPSI5OSIgaGVpZ2h0PSIxIj48L3JlY3Q+CiAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTkiIGZpbGw9IiNGMEYzRkEiIHg9IjEiIHk9IjkwIiB3aWR0aD0iOTkiIGhlaWdodD0iMSI+PC9yZWN0PgogICAgPC9nPgo8L3N2Zz4="); background-repeat: repeat; background-position: left top; border-radius: 15px; padding: 0px; border: 2px solid rgb(221, 226, 240); }
.mdx-figure-content { margin: 5px; padding: 5px; cursor: pointer; display: table-cell; align-content: center; text-align: center; vertical-align: middle; width: 100%; }
.mdx-figure-pagenum { left: 10px; top: 10px; position: absolute; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; }
use.mdx-svg-ico-light { fill: rgb(0, 0, 0); }
use.mdx-svg-ico-dark { fill: rgb(189, 190, 191); }
use.mdx-svg-ico-dark:hover { fill: rgb(194, 17, 23); transition: all 0.3s ease-in-out; }
.mdx-toc-mask { left: 0px; top: 0px; width: 100%; height: 100%; position: fixed; background-color: rgb(0, 0, 0); opacity: 0.5; display: none; z-index: 1000; }
.mdx-click-bubble { left: 0px; top: 0px; width: 0px; height: 0px; position: fixed; background-color: rgb(194, 17, 23); opacity: 0.7; z-index: 9999; }
.mdx-code-c1-alt, .mdx-code-c2-alt, .mdx-code-c3-alt, .mdx-code-c4-alt, .mdx-code-c5-alt, .mdx-code-c6-alt { font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; color: rgb(86, 88, 90); padding: 0.1em 0.3em; border-radius: 0.4em; border: 0.1em solid rgb(4, 90, 209); text-shadow: rgba(0, 0, 0, 0.25) 0px 1px; }
.mdx-code-c1-alt { background-color: rgb(214, 231, 254); color: rgb(4, 90, 209); border-color: rgb(4, 90, 209); }
.mdx-code-c2-alt { background-color: rgb(227, 244, 221); color: rgb(77, 160, 50); border-color: rgb(77, 160, 50); }
.mdx-code-c3-alt { background-color: rgb(252, 228, 191); color: rgb(230, 141, 9); border-color: rgb(230, 141, 9); }
.mdx-code-c4-alt { background-color: rgb(251, 215, 216); color: rgb(194, 17, 23); border-color: rgb(194, 17, 23); }
.mdx-code-c5-alt { background-color: rgb(241, 214, 241); color: rgb(149, 50, 150); border-color: rgb(149, 50, 150); }
.mdx-code-c6-alt { background-color: rgb(189, 190, 191); color: rgb(86, 88, 90); border-color: rgb(86, 88, 90); }
.mdx-code-c1, .mdx-code-c2, .mdx-code-c3, .mdx-code-c4, .mdx-code-c5, .mdx-code-c6 { font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; color: rgb(255, 255, 255); padding: 0.1em 0.3em; border-radius: 0.4em; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; }
.mdx-code-c1 { background: linear-gradient(rgb(4, 101, 234), rgb(4, 79, 184)) !important; }
.mdx-code-c2 { background: linear-gradient(rgb(86, 179, 56), rgb(68, 141, 44)) !important; }
.mdx-code-c3 { background: linear-gradient(rgb(246, 154, 19), rgb(205, 126, 8)) !important; }
.mdx-code-c4 { background: linear-gradient(rgb(217, 19, 26), rgb(171, 15, 20)) !important; }
.mdx-code-c5 { background: linear-gradient(rgb(168, 56, 169), rgb(130, 44, 131)) !important; }
.mdx-code-c6 { background: linear-gradient(rgb(98, 101, 103), rgb(74, 75, 77)) !important; }
.mdx-code-name1-alt, .mdx-code-name2-alt, .mdx-code-name3-alt, .mdx-code-name4-alt, .mdx-code-name5-alt, .mdx-code-name6-alt, .mdx-code-name1, .mdx-code-name2, .mdx-code-name3, .mdx-code-name4, .mdx-code-name5, .mdx-code-name6 { font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; margin-right: 0px; border-radius: 0.4em 0px 0px 0.4em; padding: 0.1em 0.3em; color: rgb(255, 255, 255); font-size: 0.85em; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; background-color: rgb(242, 242, 242) !important; }
.mdx-code-name1, .mdx-code-name2, .mdx-code-name3, .mdx-code-name4, .mdx-code-name5, .mdx-code-name6 { background: linear-gradient(rgb(98, 101, 103), rgb(74, 75, 77)) !important; }
.mdx-code-value1-alt, .mdx-code-value2-alt, .mdx-code-value3-alt, .mdx-code-value4-alt, .mdx-code-value5-alt, .mdx-code-value6-alt, .mdx-code-value1, .mdx-code-value2, .mdx-code-value3, .mdx-code-value4, .mdx-code-value5, .mdx-code-value6 { font-family: "Noto Sans Mono CJK SC", "Roboto Mono", monoFont, Menlo, Consolas, sansFont, "Noto Sans SC", MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, monospace; margin-left: 0px; border-radius: 0px 0.4em 0.4em 0px; padding: 0.1em 0.3em; color: rgb(255, 255, 255); font-size: 0.85em; text-shadow: rgba(0, 0, 0, 0.3) 0px 1px; }
.mdx-code-name1-alt { color: rgb(86, 88, 90); }
.mdx-code-value1-alt { color: rgb(4, 90, 209); background-color: rgb(214, 231, 254) !important; }
.mdx-code-name2-alt { color: rgb(86, 88, 90); }
.mdx-code-value2-alt { color: rgb(77, 160, 50); background-color: rgb(227, 244, 221) !important; }
.mdx-code-name3-alt { color: rgb(86, 88, 90); }
.mdx-code-value3-alt { color: rgb(230, 141, 9); background-color: rgb(252, 228, 191) !important; }
.mdx-code-name4-alt { color: rgb(86, 88, 90); }
.mdx-code-value4-alt { color: rgb(194, 17, 23); background-color: rgb(251, 215, 216) !important; }
.mdx-code-name5-alt { color: rgb(86, 88, 90); }
.mdx-code-value5-alt { color: rgb(149, 50, 150); background-color: rgb(241, 214, 241) !important; }
.mdx-code-name6-alt { color: rgb(86, 88, 90); }
.mdx-code-value6-alt { color: rgb(86, 88, 90); background-color: rgb(189, 190, 191) !important; }
.mdx-code-value1 { background: linear-gradient(rgb(4, 101, 234), rgb(4, 79, 184)) !important; }
.mdx-code-value2 { background: linear-gradient(rgb(86, 179, 56), rgb(68, 141, 44)) !important; }
.mdx-code-value3 { background: linear-gradient(rgb(246, 154, 19), rgb(205, 126, 8)) !important; }
.mdx-code-value4 { background: linear-gradient(rgb(217, 19, 26), rgb(171, 15, 20)) !important; }
.mdx-code-value5 { background: linear-gradient(rgb(168, 56, 169), rgb(130, 44, 131)) !important; }
.mdx-code-value6 { background: linear-gradient(rgb(43, 38, 22), rgb(9, 8, 5)) !important; }
h6 code { font-weight: normal; }
body div[id="write"] > h6:first-of-type, body div[id="write"] > h6:last-of-type { background-color: rgb(119, 217, 207); font-weight: bold; font-size: 2.5em; font-family: "", sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; text-align: left; height: 25cm; padding-left: 30px; padding-top: 150px; padding-right: 20px; margin: 10px -10px 3em; border: 0px; border-radius: 15px; background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MCIgaGVpZ2h0PSIyNTAiIHZpZXdCb3g9IjAgMCA4MCAyNTAiPgogIDxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCIgZmlsbD0iI0MyRjJFRCIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPgo="), url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCAyNTAgODAiPgogIDxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCIgZmlsbD0iI0MyRjJFRCIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPgo="), url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNzAiIGhlaWdodD0iMzQ1IiB2aWV3Qm94PSIwIDAgMzcwIDM0NSI+CiAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxyZWN0IHdpZHRoPSIxNjAiIGhlaWdodD0iODAiIHg9IjE0IiB5PSIzOSIgZmlsbD0iI0MyRjJFRCIgdHJhbnNmb3JtPSJyb3RhdGUoMzAgOTQgNzkpIi8+CiAgICA8cmVjdCB3aWR0aD0iMTYwIiBoZWlnaHQ9IjgwIiB4PSIxMzYiIHk9IjM5IiBmaWxsPSIjQzJGMkVEIiB0cmFuc2Zvcm09InNjYWxlKC0xIDEpIHJvdGF0ZSgzMCAwIC03MjcuMTIzKSIvPgogICAgPHBvbHlnb24gZmlsbD0iI0MyRjJFRCIgcG9pbnRzPSItMyAxNzUgMTY1IDE3NSAxNjUgMjU1IC0zIDI1NSAyOSAyMTQuOTg3IiB0cmFuc2Zvcm09InNjYWxlKDEgLTEpIHJvdGF0ZSg2MCA0NTMuMzkgMCkiLz4KICAgIDxwb2x5Z29uIGZpbGw9IiNDMkYyRUQiIHBvaW50cz0iMTQ0LjA2NiAxNzUgMzEyLjA2NiAxNzUgMzEyLjA2NiAyNTUgMTQ0LjA2NiAyNTUgMTc2LjA2NiAyMTQuOTg3IiB0cmFuc2Zvcm09InJvdGF0ZSgtMTIwIDIyOC4wNjYgMjE1KSIvPgogIDwvZz4KPC9zdmc+Cg=="); background-repeat: repeat-x, repeat-y, no-repeat; background-position: center bottom, right center, right bottom; color: rgb(0, 0, 0) !important; }
body div[id="write"] > h6:last-of-type { height: 13cm; margin-top: 3em; margin-bottom: 10px; padding-top: 50px; }
body div[id="write"] > h6:first-of-type strong { color: rgba(0, 0, 0, 0.5); font-size: 0.7em; font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; text-decoration: none; }
body div[id="write"] > h6:first-of-type strong::before { content: "by "; font-weight: normal; text-decoration: none; }
body div[id="write"] > h6:first-of-type em { color: rgba(0, 0, 0, 0.5); font-size: 0.35em; font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; font-style: normal; vertical-align: sub; }
body div[id="write"] > h6:first-of-type code { background-color: rgb(51, 183, 169); color: rgb(255, 255, 255) !important; font-size: 0.4em !important; }
body div[id="write"] > h6:first-of-type code:first-of-type { border-top-left-radius: 0.4em; border-bottom-left-radius: 0.4em; }
body div[id="write"] > h6:first-of-type code:last-of-type { border-top-right-radius: 0.4em; border-bottom-right-radius: 0.4em; border-left: 0px !important; }
body div[id="write"] > h6:last-of-type::after { font-size: 0.35em; font-family: sansFont, MicrosoftYaHei, "Microsoft YaHei", 微软雅黑, Arial, Tahoma, sans-serif; font-style: normal; }
@media print {
  html { font-size: 1em; }
  #write { margin: 0px !important; }
  table, pre { }
  pre { }
  .mdx-toc { display: block !important; visibility: visible !important; }
  .mdx-toolbar, .mdx-bread-nav, .mdx-toc-box, .mdx-toc-box-header, .mdx-toc-box-body-scroll, .mdx-toc-info, .mdx-docbar-bottom { display: none; visibility: hidden; }
  body div[id="write"] > h6:first-of-type, body div[id="write"] > h6:last-of-type, body div[id="write"] > h6:first-of-type strong, body div[id="write"] > h6:first-of-type em { background: none rgb(255, 255, 255) !important; color: rgb(86, 88, 90) !important; }
  body div[id="write"] > h6:first-of-type strong, body div[id="write"] > h6:first-of-type em { color: rgb(189, 190, 191) !important; }
}

</style>
</head>
<body class='typora-export os-windows' style="width: 90%;margin-left: 12%;">

<script type="text/javascript">
  var _lastTimer = new Date().getTime();
  console.log("loading VLOOK ...");
</script>
<!--      !!!NOTE!!! NEED NETWORKING      -->
<!--<script src="https://code.jquery.com/jquery-3.3.1.js></script>-->
<!--   !!!NOTE!!! DON'T NEED NETWORKING   -->
<script type="text/javascript">
/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function e(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement("script");if(o.text=e,n)for(i in v)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var b="3.3.1",w=function(e,t){return new w.fn.init(e,t)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(C(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function C(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,v,m,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ae(),k=ae(),S=ae(),D=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,A=[],j=A.pop,q=A.push,L=A.push,H=A.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",I="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),F=new RegExp("^"+M+"*,"+M+"*"),_=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),X=new RegExp(W),U=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(A=H.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,f,h,v,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=J.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+" "]&&(!y||!y.test(e))){if(1!==T)m=t,v=e;else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),s=(h=a(e)).length;while(s--)h[s]="#"+c+" "+ve(h[s]);v=h.join(","),m=K.test(e)&&ge(t.parentNode)||t}if(v)try{return L.apply(r,m.querySelectorAll(v)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function se(e){return e[b]=!0,e}function ue(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,h=d.documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(n.qsa=Q.test(d.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||y.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(n.matchesSelector=Q.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),v.push("!=",W)}),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),x=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!S[t+" "]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&N.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){x=(d=(l=(c=(f=(p=y)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&y.childNodes[d];while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===v:1===p.nodeType)&&++x&&(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p===t))break;return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=O(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[b]?se(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return U.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=r.preFilter;while(s){n&&!(i=F.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=_.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length));for(a in r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)};function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[b]||(t[b]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Te(e,t,n,r,i,o){return r&&!r[b]&&(r=Te(r)),i&&!i[b]&&(i=Te(i,o)),se(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||be(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?g:we(g,p,e,s,u),v=n?i||(o?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r){l=we(v,d),r(l,[],s,u),c=l.length;while(c--)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f))}if(o){if(i||e){if(i){l=[],c=v.length;while(c--)(f=v[c])&&l.push(y[c]=f);i(null,v=[],l,u)}c=v.length;while(c--)(f=v[c])&&(l=i?O(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else v=we(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):L.apply(a,v)})}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=me(function(e){return e===t},s,!0),f=me(function(e){return O(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[me(xe(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o;i++)if(r.relative[e[i].type])break;return Te(u>1&&xe(p),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&Ce(e.slice(u,i)),i<o&&Ce(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return xe(p)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,y,v=0,m="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);m!==k&&null!=(f=C[m]);m++){if(i&&f){h=0,a||f.ownerDocument===d||(p(f),s=!g);while(y=e[h++])if(y(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!y&&f)&&v--,o&&x.push(f))}if(v+=m,n&&m!==v){h=0;while(y=t[h++])y(x,b,a,s);if(o){if(v>0)while(m--)x[m]||b[m]||(b[m]=j.call(u));b=we(b)}L.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&oe.uniqueSort(u)}return c&&(T=E,l=w),x};return n?se(o):o}return s=oe.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Ce(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Ee(i,r))).selector=e}return o},u=oe.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}o=V.needsContext.test(e)?0:u.length;while(o--){if(l=u[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),K.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ve(u)))return L.apply(n,i),n;break}}}return(p||s(e,d))(i,t,!g,n,!t||K.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(D).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var k=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=w.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&D.test(e)?w(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),A.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,q=w(r);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!D.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return N(e,"iframe")?e.contentDocument:(N(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(O[e]||w.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function I(e){return e}function W(e){throw e}function $(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,I,i),a(o,n,W,i)):(o++,l.call(e,a(o,n,I,i),a(o,n,W,i),a(o,n,I,n.notifyWith))):(r!==I&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==W&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:I,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:I)),n[2][3].add(a(0,e,g(r)?r:W))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&($(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)$(i[n],s(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)["catch"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function _(){r.removeEventListener("DOMContentLoaded",_),e.removeEventListener("load",_),w.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",_),e.addEventListener("load",_));var z=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n)){i=!0;for(s in n)z(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},X=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function G(e){return e.replace(X,"ms-").replace(U,V)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(M)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var J=new Q,K=new Q,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=K.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),ne(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=K.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:w.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},u=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+u)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))w.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;w.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var be=r.documentElement,we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Se(){try{return r.activeElement}catch(e){}}function De(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)De(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.get(e);if(y){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(be,i),n.guid||(n.guid=w.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(M)||[""]).length;while(l--)d=g=(s=Ce.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(M)||[""]).length;while(l--)if(s=Ce.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){f=w.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||w.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,s,u=new Array(arguments.length),l=(J.get(this,"events")||{})[t.type]||[],c=w.event.special[t.type]||{};for(u[0]=t,n=1;n<arguments.length;n++)u[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){s=w.event.handlers.call(this,t,l),n=0;while((o=s[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(e){return N(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ae=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")?w(e).children("tbody")[0]||e:e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}K.hasData(e)&&(s=K.access(e),u=w.extend({},s),K.set(t,u))}}function Me(e,t){var n=t.nodeName.toLowerCase();"input"===n&&pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,y=t[0],v=g(y);if(v||p>1&&"string"==typeof y&&!h.checkClone&&je.test(y))return e.each(function(i){var o=e.eq(i);v&&(t[0]=y.call(this,i,o.html())),Re(o,t,n,r)});if(p&&(i=xe(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=w.map(ye(i,"script"),He)).length;f<p;f++)l=i,f!==d&&(l=w.clone(l,!0,!0),u&&w.merge(s,ye(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Oe),f=0;f<u;f++)l=s[f],he.test(l.type||"")&&!J.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(qe,""),c,l))}return e}function Ie(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ye(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ne,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ye(s),r=0,i=(o=ye(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,s);return(a=ye(s,"script")).length>0&&ve(a,!u&&ye(e,"script")),s},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return z(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var We=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(oe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",be.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&We.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var ze=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ue={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","Moz","ms"],Ye=r.createElement("div").style;function Qe(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;while(n--)if((e=Ge[n]+t)in Ye)return e}function Je(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Qe(e)||e),t}function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+oe[a],!0,i)),r?("content"===n&&(u-=w.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(u-=w.css(e,"border"+oe[a]+"Width",!0,i))):(u+=w.css(e,"padding"+oe[a],!0,i),"padding"!==n?u+=w.css(e,"border"+oe[a]+"Width",!0,i):s+=w.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,n){var r=$e(e),i=Fe(e,t,r),o="border-box"===w.css(e,"boxSizing",!1,r),a=o;if(We.test(i)){if(!n)return i;i="auto"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?"border":"content"),a,r,i)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),u=Xe.test(t),l=e.style;if(u||(t=Je(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return Xe.test(t)||(t=Je(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),"normal"===i&&t in Ve&&(i=Ve[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):se(e,Ue,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=$e(e),a="border-box"===w.css(e,"boxSizing",!1,o),s=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),s&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(e,n,s)}}}),w.cssHooks.marginLeft=_e(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}});function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=tt.prototype.init,w.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function st(){return e.setTimeout(function(){nt=void 0}),nt=Date.now()}function ut(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=J.get(e,"fxshow");n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],it.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||w.style(e,r)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=J.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=w.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(g=y.hidden):y=J.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&fe([e],!0),p.done(function(){g||fe([e]),J.remove(e,"fxshow");for(r in d)w.style(e,r,d[r])})),u=lt(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function ft(e,t){var n,r,i,o,a;for(n in e)if(r=G(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function pt(e,t,n){var r,i,o=0,a=pt.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(ft(c,l.opts.specialEasing);o<a;o++)if(r=pt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,lt,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[ct],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=pt(this,w.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,i)}}),w.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,at())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var dt,ht=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return z(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||w.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return z(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function vt(e){return(e.match(M)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e?e.match(M)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=xt(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+vt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:vt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,v=[i||r],m=f.call(t,"type")?t.type:t,x=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!wt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(x=m.split(".")).shift(),x.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!y(i)){for(l=d.delegateType||m,wt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(i.ownerDocument||r)&&v.push(u.defaultView||u.parentWindow||e)}a=0;while((s=v[a++])&&!t.isPropagationStopped())h=s,t.type=a>1?l:d.bindType||m,(p=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&Y(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!Y(i)||c&&g(i[m])&&!y(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Tt),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,Tt),w.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var Ct=e.location,Et=Date.now(),kt=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var St=/\[\]$/,Dt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||St.test(e)?r(e,i):jt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)jt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&At.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var qt=/%20/g,Lt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Rt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Bt=r.createElement("a");Bt.href=Ct.href;function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(M)||[];if(g(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function _t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function zt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function Xt(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Ut(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:Pt.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Ft(It),ajaxTransport:Ft(Wt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=w.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),m=w.Callbacks("once memory"),x=h.statusCode||{},b={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s){s={};while(t=Ot.exec(a))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(v.promise(E),h.url=((t||h.url||Ct.href)+"").replace(Rt,Ct.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(M)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),_t(It,h,n,E),c)return E;(f=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),o=h.url.replace(Lt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(qt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(kt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ht,"$1"),d=(kt.test(o)?"&":"?")+"_="+Et+++d),h.url=o+d),h.ifModified&&(w.lastModified[o]&&E.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&E.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C="abort",m.add(h.complete),E.done(h.success),E.fail(h.error),i=_t(Wt,h,n,E)){if(E.readyState=1,f&&y.trigger("ajaxSend",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{c=!1,i.send(b,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,"No Transport");function k(t,n,r,s){var l,p,d,b,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=Xt(h,E,r)),b=Ut(h,b,E,l),l?(h.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=T),(T=E.getResponseHeader("etag"))&&(w.etag[o]=T)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,l=!(d=b.error))):(d=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",l?v.resolveWith(g,[p,C,E]):v.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&y.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(y.trigger("ajaxComplete",[E,h]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=w.ajaxSettings.xhr();h.cors=!!Gt&&"withCredentials"in Gt,h.ajax=Gt=!!Gt,w.ajaxTransport(function(t){var n,r;if(h.cors||Gt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Vt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Qt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||w.expando+"_"+Et++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=A.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=xe([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=w.css(e,"position"),f=w(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=w.css(e,"top"),u=w.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||be})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return z(this,function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=_e(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),We.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return z(this,function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=N,w.isFunction=g,w.isWindow=y,w.camelCase=G,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Jt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Jt),w},t||(e.jQuery=e.$=w),w});
</script>
<!-- 加载进程 -->

<!-- SVG图标集 -->
<svg style="display: none;">
<!-- 图标|大纲 -->
<symbol id="icoOutline">
    <path d="M6,0 L19,0 C19.5522847,0 20,0.44771525 20,1 C20,1.55228475 19.5522847,2 19,2 L6,2 C5.44771525,2 5,1.55228475 5,1 C5,0.44771525 5.44771525,0 6,0 Z M1,0 L2,0 C2.55228475,0 3,0.44771525 3,1 C3,1.55228475 2.55228475,2 2,2 L1,2 C0.44771525,2 0,1.55228475 0,1 C0,0.44771525 0.44771525,0 1,0 Z M1,6 L2,6 C2.55228475,6 3,6.44771525 3,7 C3,7.55228475 2.55228475,8 2,8 L1,8 C0.44771525,8 0,7.55228475 0,7 C0,6.44771525 0.44771525,6 1,6 Z M1,12 L2,12 C2.55228475,12 3,12.4477153 3,13 C3,13.5522847 2.55228475,14 2,14 L1,14 C0.44771525,14 0,13.5522847 0,13 C0,12.4477153 0.44771525,12 1,12 Z M6,6 L19,6 C19.5522847,6 20,6.44771525 20,7 C20,7.55228475 19.5522847,8 19,8 L6,8 C5.44771525,8 5,7.55228475 5,7 C5,6.44771525 5.44771525,6 6,6 Z M6,12 L19,12 C19.5522847,12 20,12.4477153 20,13 C20,13.5522847 19.5522847,14 19,14 L6,14 C5.44771525,14 5,13.5522847 5,13 C5,12.4477153 5.44771525,12 6,12 Z"></path>
</symbol>
<!-- 图标|左向箭头1 -->
<symbol id="icoLeft">
    <path d="M3.50594063,6.15000153 L7.53462181,2.12132034 C7.9251461,1.73079605 7.9251461,1.09763107 7.53462181,0.707106781 C7.14409752,0.316582489 6.51093254,0.316582489 6.12040825,0.707106781 L0.463554001,6.36396103 C0.241806749,6.58570828 0.145971879,6.88568746 0.176049391,7.17505536 C0.190303885,7.41033487 0.287321184,7.64153719 0.467101288,7.82131729 L0.467101288,7.82131729 L6.12395554,13.4781715 C6.51447983,13.8686958 7.14764481,13.8686958 7.5381691,13.4781715 C7.92869339,13.0876472 7.92869339,12.4544823 7.5381691,12.063958 L3.62421265,8.15000153 L12.9990879,8.15000153 C13.5513727,8.15000153 13.9990879,7.70228628 13.9990879,7.15000153 C13.9990879,6.59771678 13.5513727,6.15000153 12.9990879,6.15000153 L3.50594063,6.15000153 Z"></path>
</symbol>
<!-- 图标|右向箭头1 -->
<symbol id="icoRight">
    <path d="M3.50594063,6.15000153 L7.53462181,2.12132034 C7.9251461,1.73079605 7.9251461,1.09763107 7.53462181,0.707106781 C7.14409752,0.316582489 6.51093254,0.316582489 6.12040825,0.707106781 L0.463554001,6.36396103 C0.241806749,6.58570828 0.145971879,6.88568746 0.176049391,7.17505536 C0.190303885,7.41033487 0.287321184,7.64153719 0.467101288,7.82131729 L0.467101288,7.82131729 L6.12395554,13.4781715 C6.51447983,13.8686958 7.14764481,13.8686958 7.5381691,13.4781715 C7.92869339,13.0876472 7.92869339,12.4544823 7.5381691,12.063958 L3.62421265,8.15000153 L12.9990879,8.15000153 C13.5513727,8.15000153 13.9990879,7.70228628 13.9990879,7.15000153 C13.9990879,6.59771678 13.5513727,6.15000153 12.9990879,6.15000153 L3.50594063,6.15000153 Z" transform="translate(7.084874, 7.092639) scale(-1, 1) translate(-7.084874, -7.092639) "></path>
</symbol>
<!-- 图标|左向箭头2 -->
<symbol id="icoLeft2">
    <path d="M2.56507664,7.09086552 L7.5381691,12.063958 C7.92869339,12.4544823 7.92869339,13.0876472 7.5381691,13.4781715 C7.14764481,13.8686958 6.51447983,13.8686958 6.12395554,13.4781715 L0.467101288,7.82131729 C0.287321184,7.64153719 0.190303885,7.41033487 0.176049391,7.17505536 C0.145971879,6.88568746 0.241806749,6.58570828 0.463554001,6.36396103 L6.12040825,0.707106781 C6.51093254,0.316582489 7.14409752,0.316582489 7.53462181,0.707106781 C7.9251461,1.09763107 7.9251461,1.73079605 7.53462181,2.12132034 L2.56507664,7.09086552 Z"></path>
</symbol>
<!-- 图标|右向箭头2 -->
<symbol id="icoRight2">
    <path d="M2.73310223,7.09086552 L7.70619469,12.063958 C8.09671898,12.4544823 8.09671898,13.0876472 7.70619469,13.4781715 C7.3156704,13.8686958 6.68250542,13.8686958 6.29198113,13.4781715 L0.635126876,7.82131729 C0.455346772,7.64153719 0.358329473,7.41033487 0.344074979,7.17505536 C0.313997467,6.88568746 0.409832337,6.58570828 0.631579589,6.36396103 L6.28843384,0.707106781 C6.67895813,0.316582489 7.31212311,0.316582489 7.7026474,0.707106781 C8.09317169,1.09763107 8.09317169,1.73079605 7.7026474,2.12132034 L2.73310223,7.09086552 Z" transform="translate(4.168887, 7.092639) scale(-1, 1) translate(-4.168887, -7.092639) "></path>
</symbol>
<!-- 图标|已收起的大纲节点 -->
<symbol id="icoFolded">
  <rect fill="#D8D8D8" fill-opacity="0" height="20" id="Rectangle-3" width="16" x="0" y="0"></rect>
  <polygon fill="#555555" id="Triangle" points="9 6 14 14 4 14" transform="translate(9.000000, 10.000000) rotate(90.000000) translate(-9.000000, -10.000000) "></polygon>
</symbol>
<!-- 图标|已展开的大纲节点 -->
<symbol id="icoUnfold">
  <rect fill="#D8D8D8" fill-opacity="0" height="20" id="Rectangle-3-Copy" width="16" x="0" y="0"></rect>
  <polygon fill="#555555" fill-opacity="0.5" id="Triangle-Copy" points="8 6 13 14 3 14" transform="translate(8.000000, 10.000000) scale(1, -1) translate(-8.000000, -10.000000) "></polygon>
</symbol>
<!-- 图标|关闭 -->
<symbol id="icoClose">
    <path d="M7,7 L7,-1 C7,-1.55228475 7.44771525,-2 8,-2 C8.55228475,-2 9,-1.55228475 9,-1 L9,7 L17,7 C17.5522847,7 18,7.44771525 18,8 C18,8.55228475 17.5522847,9 17,9 L9,9 L9,17 C9,17.5522847 8.55228475,18 8,18 C7.44771525,18 7,17.5522847 7,17 L7,9 L-1,9 C-1.55228475,9 -2,8.55228475 -2,8 C-2,7.44771525 -1.55228475,7 -1,7 L7,7 Z" transform="translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) "></path>
</symbol>
<!-- 图标|插图浏览器 -->
<symbol id="icoFigure">
    <path d="M2,0 L15,0 C16.1045695,-2.02906125e-16 17,0.8954305 17,2 L17,12 C17,13.1045695 16.1045695,14 15,14 L2,14 C0.8954305,14 -1.13551567e-13,13.1045695 -1.13686838e-13,12 L-1.13686838e-13,2 C-1.13822108e-13,0.8954305 0.8954305,2.02906125e-16 2,0 Z M11,6 C12.1045695,6 13,5.1045695 13,4 C13,2.8954305 12.1045695,2 11,2 C9.8954305,2 9,2.8954305 9,4 C9,5.1045695 9.8954305,6 11,6 Z M2.03225639,10.5528128 C1.96084272,10.6932426 1.92361915,10.8485585 1.92361915,11.0061035 C1.92361915,11.5583883 2.3713344,12.0061035 2.92361915,12.0061035 L14.2120421,12.0061035 C14.4392714,12.0061035 14.6597254,11.9287155 14.8370963,11.7866848 C15.2681995,11.4414769 15.3378313,10.8121525 14.9926234,10.3810493 L12.9645536,7.84835144 C12.6449335,7.44920285 12.075683,7.35548344 11.6449719,7.63110012 L9.29545309,9.13458249 C9.28589453,9.14069912 9.27623255,9.14665259 9.26647134,9.15244033 C8.79141623,9.43411583 8.17796486,9.27735069 7.89628936,8.80229559 L6.14615975,5.85064382 C6.04943866,5.68752049 5.90832711,5.55526275 5.73928706,5.46929968 C5.247001,5.21895416 4.64497916,5.41508571 4.39463363,5.90737177 L2.03225639,10.5528128 Z M18,12.5 L18,2 C19.1045695,2 20,2.8954305 20,4 L20,15 C20,16.1045695 19.1045695,17 18,17 L4,17 C2.8954305,17 2,16.1045695 2,15 L15.5,15 C16.8807119,15 18,13.8807119 18,12.5 Z"></path>
</symbol>
<!-- 图标|非衬线字体样式 -->
<symbol id="icoFont-sans">
  <path d="M18,16 L14.0598232,16 L12.4935418,12.2464833 L5.32290959,12.2464833 L3.84228416,16 L0,16 L6.98708362,0 L10.8171312,0 L18,16 Z M11.3310673,9.55987559 L8.8592794,3.62602064 L6.4364378,9.55987559 L11.3310673,9.55987559 Z" fill-rule="nonzero"></path>
</symbol>
<!-- 图标|衬线字体样式 -->
<symbol id="icoFont-serif">
  <path d="M10.45,11.2169143 L4.4625,11.2169143 L3.75,12.8525809 C3.5166655,13.3978058 3.4,13.8480227 3.4,14.203245 C3.4,14.6741211 3.59166475,15.0210772 3.975,15.2441238 C4.20000112,15.3762995 4.75416225,15.4754298 5.6375,15.5415177 L5.6375,16 L0,16 L0,15.5415177 C0.608336375,15.4506469 1.10833138,15.2007559 1.5,14.7918372 C1.89166862,14.3829185 2.37499713,13.5382455 2.95,12.257793 L9.0125,0 L9.25,0 L15.3625,12.6295355 C15.9458363,13.9347709 16.4249981,14.7567265 16.8,15.0954268 C17.0833347,15.3515173 17.4833307,15.5002128 18,15.5415177 L18,16 L9.8,16 L9.8,15.5415177 L10.1375,15.5415177 C10.7958366,15.5415177 11.258332,15.4506482 11.525,15.2689066 C11.7083342,15.1367308 11.8,14.9467311 11.8,14.6989016 C11.8,14.5502038 11.7750002,14.3973779 11.725,14.2404192 C11.7083332,14.1660704 11.5833345,13.8562881 11.35,13.3110632 L10.45,11.2169143 Z M10.025,10.2619342 L7.5,4.49650206 L4.9,10.2619342 L10.025,10.2619342 Z" fill-rule="nonzero"></path>
</symbol>
<!-- 图标|图片墙 -->
<symbol id="icoFigureGrid">
    <rect height="6" id="Rectangle-5" rx="1" width="6" x="0" y="0"></rect>
    <rect height="6" id="Rectangle-5-Copy" rx="1" width="6" x="8" y="0"></rect>
    <rect height="6" id="Rectangle-5-Copy-2" rx="1" width="6" x="16" y="0"></rect>
    <rect height="6" id="Rectangle-5-Copy-5" rx="1" width="6" x="0" y="8"></rect>
    <rect height="6" id="Rectangle-5-Copy-4" rx="1" width="6" x="8" y="8"></rect>
    <rect height="6" id="Rectangle-5-Copy-3" rx="1" width="6" x="16" y="8"></rect>
</symbol>
<!-- 图标|亮色主题 -->
<symbol id="icoLightTheme">
    <path d="M10.8333333,0.83333334 L10.8333333,2.5 C10.8333333,2.9602373 10.4602373,3.33333334 10,3.33333334 C9.5397627,3.33333334 9.16666666,2.9602373 9.16666666,2.5 L9.16666666,0.83333334 C9.16666666,0.373096045 9.5397627,8.45442195e-17 10,0 C10.4602373,-8.45442195e-17 10.8333333,0.373096045 10.8333333,0.83333334 Z M10,16.6666667 C9.5397627,16.6666667 9.16666666,17.0397627 9.16666666,17.5 L9.16666666,19.1666667 C9.16666666,19.626904 9.5397627,20 10,20 C10.4602373,20 10.8333333,19.626904 10.8333333,19.1666667 L10.8333333,17.5 C10.8333333,17.0397627 10.4602373,16.6666667 10,16.6666667 Z M2.92895834,2.92895834 C2.77266874,3.08523989 2.68486548,3.29720799 2.68486548,3.51822917 C2.68486548,3.73925035 2.77266874,3.95121845 2.92895834,4.1075 L4.1075,5.28604166 C4.43294529,5.61148694 4.96059636,5.61148694 5.28604165,5.28604165 C5.61148694,4.96059636 5.61148694,4.43294529 5.28604166,4.1075 L4.1075,2.92895834 C3.95121845,2.77266874 3.73925035,2.68486548 3.51822917,2.68486548 C3.29720799,2.68486548 3.08523989,2.77266874 2.92895834,2.92895834 Z M14.7139583,14.7139583 C14.3886401,15.0393749 14.3886401,15.5668751 14.7139583,15.8922917 L14.7139583,15.8925 L15.8925,17.0710417 C16.1030262,17.2815679 16.4098748,17.3637877 16.6974589,17.2867298 C16.985043,17.2096718 17.2096718,16.985043 17.2867298,16.6974589 C17.3637877,16.4098748 17.2815679,16.1030262 17.0710417,15.8925 L15.8925,14.7139583 C15.7362456,14.5576177 15.5242673,14.4697791 15.3032292,14.4697791 C15.082191,14.4697791 14.8702128,14.5576177 14.7139583,14.7139583 Z M0,10 C5.6362813e-17,10.4602373 0.373096045,10.8333333 0.83333334,10.8333333 L2.5,10.8333333 C2.9602373,10.8333333 3.33333334,10.4602373 3.33333334,10 C3.33333334,9.5397627 2.9602373,9.16666666 2.5,9.16666666 L0.83333334,9.16666666 C0.373096045,9.16666666 5.6362813e-17,9.5397627 0,10 Z M16.6666667,10 C16.6666667,10.4602373 17.0397627,10.8333333 17.5,10.8333333 L19.1666667,10.8333333 C19.626904,10.8333333 20,10.4602373 20,10 C20,9.5397627 19.626904,9.16666666 19.1666667,9.16666666 L17.5,9.16666666 C17.0397627,9.16666666 16.6666667,9.5397627 16.6666667,10 Z M2.92895834,17.0710417 C3.08523989,17.2273313 3.29720799,17.3151345 3.51822917,17.3151345 C3.73925035,17.3151345 3.95121845,17.2273313 4.1075,17.0710417 L5.28583334,15.8925 C5.60509309,15.5660706 5.60221508,15.0435127 5.27937916,14.7206197 C4.95654324,14.3977267 4.43398579,14.3947563 4.1075,14.7139583 L2.92895834,15.8925 C2.77266874,16.0487816 2.68486548,16.2607497 2.68486548,16.4817708 C2.68486548,16.702792 2.77266874,16.9147601 2.92895834,17.0710417 Z M14.7139583,5.28604166 C15.0393749,5.61135993 15.5668751,5.61135993 15.8922917,5.28604166 L15.8925,5.28604166 L17.0710417,4.1075 C17.396487,3.78205471 17.396487,3.25440363 17.0710417,2.92895834 C16.7455964,2.60351305 16.2179453,2.60351305 15.8925,2.92895834 L14.7139583,4.1075 C14.5576177,4.26375444 14.4697791,4.4757327 14.4697791,4.69677083 C14.4697791,4.91780896 14.5576177,5.12978722 14.7139583,5.28604166 Z M15,10 C15,12.7614583 12.7614583,15 10,15 C7.23854166,15 5,12.7614583 5,10 C5,7.23854166 7.23854166,5 10,5 C12.7614583,5 15,7.23854166 15,10 Z" fill-rule="nonzero"></path>
</symbol>
<!-- 图标|深色主题 -->
<symbol id="icoDarkTheme">
  <path d="M4.1439375,12.4783274 C8.7496875,12.4783274 12.4801875,8.74489828 12.4801875,4.14181693 C12.4801875,2.62583206 12.045375,1.22347573 11.33775,0 C15.17625,1.10703459 18,4.60533142 18,8.800025 C18,13.8801213 13.8825,18 8.802,18 C4.6074375,18 1.107,15.1744742 0,11.3375418 C1.22625,12.0429388 2.628,12.4783274 4.1439375,12.4783274 Z M4.44974747,8.44974747 L3.74264069,10.2426407 L3.03553391,8.44974747 L1.24264069,7.74264069 L3.03553391,7.03553391 L3.74264069,5.24264069 L4.44974747,7.03553391 L6.24264069,7.74264069 L4.44974747,8.44974747 Z M8.39411255,4.39411255 L7.82842712,5.82842712 L7.2627417,4.39411255 L5.82842712,3.82842712 L7.2627417,3.2627417 L7.82842712,1.82842712 L8.39411255,3.2627417 L9.82842712,3.82842712 L8.39411255,4.39411255 Z M3.75269119,2.75269119 L3.32842712,3.82842712 L2.90416306,2.75269119 L1.82842712,2.32842712 L2.90416306,1.90416306 L3.32842712,0.828427125 L3.75269119,1.90416306 L4.82842712,2.32842712 L3.75269119,2.75269119 Z" fill-rule="nonzero"></path>
  <!--<path d="M12.3165,11.0918466 C8.2225,11.0918466 4.9065,7.77324291 4.9065,3.68161505 C4.9065,2.33407294 5.293,1.08753399 5.922,0 C2.51,0.984030751 0,4.09362793 0,7.82224445 C0,12.3378856 3.66,16 8.176,16 C11.9045,16 15.016,13.4884215 16,10.0778149 C14.91,10.7048345 13.664,11.0918466 12.3165,11.0918466 Z" fill-rule="nonzero"></path>-->
</symbol>
<!-- 图标|全屏 -->
<symbol id="icoStartFullscreen">
  <path d="M4,4 L4,14 L16,14 L16,4 L4,4 Z M4,3 L16,3 C16.5522847,3 17,3.44771525 17,4 L17,14 C17,14.5522847 16.5522847,15 16,15 L4,15 C3.44771525,15 3,14.5522847 3,14 L3,4 C3,3.44771525 3.44771525,3 4,3 Z M2,6 C2,6.55228475 1.55228475,7 1,7 C0.44771525,7 0,6.55228475 0,6 L0,4 C0,1.790861 1.790861,0 4,0 L7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 L4,2 C2.8954305,2 2,2.8954305 2,4 L2,6 Z M2,12 L2,14 C2,15.1045695 2.8954305,16 4,16 L7,16 C7.55228475,16 8,16.4477153 8,17 C8,17.5522847 7.55228475,18 7,18 L4,18 C1.790861,18 0,16.209139 0,14 L0,12 C0,11.4477153 0.44771525,11 1,11 C1.55228475,11 2,11.4477153 2,12 Z M18,6 L18,4 C18,2.8954305 17.1045695,2 16,2 L13,2 C12.4477153,2 12,1.55228475 12,1 C12,0.44771525 12.4477153,0 13,0 L16,0 C18.209139,0 20,1.790861 20,4 L20,6 C20,6.55228475 19.5522847,7 19,7 C18.4477153,7 18,6.55228475 18,6 Z M18,12 C18,11.4477153 18.4477153,11 19,11 C19.5522847,11 20,11.4477153 20,12 L20,14 C20,16.209139 18.209139,18 16,18 L13,18 C12.4477153,18 12,17.5522847 12,17 C12,16.4477153 12.4477153,16 13,16 L16,16 C17.1045695,16 18,15.1045695 18,14 L18,12 Z" fill-rule="nonzero"></path>
</symbol>
<!-- 图标|退出全屏 -->
<symbol id="icoExitFullscreen">
  <path d="M2,1 C1.44771525,1 1,1.44771525 1,2 L1,16 C1,16.5522847 1.44771525,17 2,17 L18,17 C18.5522847,17 19,16.5522847 19,16 L19,2 C19,1.44771525 18.5522847,1 18,1 L2,1 Z M2,3.55271368e-15 L18,3.55271368e-15 C19.1045695,3.55271368e-15 20,0.8954305 20,2 L20,16 C20,17.1045695 19.1045695,18 18,18 L2,18 C0.8954305,18 0,17.1045695 0,16 L0,2 C0,0.8954305 0.8954305,3.55271368e-15 2,3.55271368e-15 Z M4.5,6.75 C4.5,7.16421356 4.16421356,7.5 3.75,7.5 C3.33578644,7.5 3,7.16421356 3,6.75 L3,5.75 C3,4.23121694 4.23121694,3 5.75,3 L7.75,3 C8.16421356,3 8.5,3.33578644 8.5,3.75 C8.5,4.16421356 8.16421356,4.5 7.75,4.5 L5.75,4.5 C5.05964406,4.5 4.5,5.05964406 4.5,5.75 L4.5,6.75 Z M15.5,6.75 L15.5,5.75 C15.5,5.05964406 14.9403559,4.5 14.25,4.5 L12.25,4.5 C11.8357864,4.5 11.5,4.16421356 11.5,3.75 C11.5,3.33578644 11.8357864,3 12.25,3 L14.25,3 C15.7687831,3 17,4.23121694 17,5.75 L17,6.75 C17,7.16421356 16.6642136,7.5 16.25,7.5 C15.8357864,7.5 15.5,7.16421356 15.5,6.75 Z M4.5,11.25 L4.5,12.25 C4.5,12.9403559 5.05964406,13.5 5.75,13.5 L7.75,13.5 C8.16421356,13.5 8.5,13.8357864 8.5,14.25 C8.5,14.6642136 8.16421356,15 7.75,15 L5.75,15 C4.23121694,15 3,13.7687831 3,12.25 L3,11.25 C3,10.8357864 3.33578644,10.5 3.75,10.5 C4.16421356,10.5 4.5,10.8357864 4.5,11.25 Z M15.5,11.25 C15.5,10.8357864 15.8357864,10.5 16.25,10.5 C16.6642136,10.5 17,10.8357864 17,11.25 L17,12.25 C17,13.7687831 15.7687831,15 14.25,15 L12.25,15 C11.8357864,15 11.5,14.6642136 11.5,14.25 C11.5,13.8357864 11.8357864,13.5 12.25,13.5 L14.25,13.5 C14.9403559,13.5 15.5,12.9403559 15.5,12.25 L15.5,11.25 Z" fill-rule="nonzero"></path>
</symbol>
<!-- 图标|打印 -->
<symbol id="icoPrint">
  <path d="M4,14.5853624 L4,13.1 C4,11.940202 4.96706494,11 6.16,11 L13.8666159,11 C15.0595509,11 16.0266159,11.940202 16.0266159,13.1 L16.0266159,15.9 C16.0266159,17.059798 15.0595509,18 13.8666159,18 L6.16,18 C4.96706494,18 4,17.059798 4,15.9 L4,15.9976431 L2.16,15.9976431 C0.96706494,15.9976431 1.59872116e-15,15.0491937 0,13.8792221 L0,7.1389097 C0,5.96893806 0.96706494,5.02048865 2.16,5.02048865 L4,5.02048865 L4,2.11842105 C4,0.948449412 4.96706494,-4.99842265e-15 6.16,-5.32907052e-15 L13.8362115,0.0715540871 C15.0291466,0.0715540871 15.9962115,1.0200035 15.9962115,2.18997514 L15.9962115,5.02048865 L17.84,5.02048865 C19.0329351,5.02048865 20,5.96893806 20,7.1389097 L20,14.3048246 C20,15.4747962 19.0329351,15.9976431 17.84,15.9976431 L16.04,15.9976431 L16.04,14.5853624 L17.84,14.5853624 C18.237645,14.5853624 18.56,14.2692126 18.56,13.8792221 L18.56,7.1389097 C18.56,6.74891915 18.237645,6.43276935 17.84,6.43276935 L2.16,6.43276935 C1.76235498,6.43276935 1.44,6.74891915 1.44,7.1389097 L1.44,13.8792221 C1.44,14.2692126 1.76235498,14.5853624 2.16,14.5853624 L4,14.5853624 Z M14.5562115,5.02048865 L14.5562115,2.18997514 C14.5562115,1.79998459 14.2338565,1.48383479 13.8362115,1.48383479 L6.16,1.4122807 C5.76235498,1.4122807 5.44,1.72843051 5.44,2.11842105 L5.44,5.02048865 L14.5562115,5.02048865 Z M16.2876042,9.4122807 L14.72,9.4122807 C14.322355,9.4122807 14,9.0961309 14,8.70614035 C14,8.3161498 14.322355,8 14.72,8 L16.2876042,8 C16.6852492,8 17.0076042,8.3161498 17.0076042,8.70614035 C17.0076042,9.0961309 16.6852492,9.4122807 16.2876042,9.4122807 Z M12.3475656,8 C12.7452107,8 13.0675656,8.3161498 13.0675656,8.70614035 C13.0675656,9.0961309 12.7452107,9.4122807 12.3475656,9.4122807 C11.9499206,9.4122807 11.6275656,9.0961309 11.6275656,8.70614035 C11.6275656,8.3161498 11.9499206,8 12.3475656,8 Z M6.16,12.4122807 C5.76235498,12.4122807 5.44,12.7256814 5.44,13.1122807 L5.44,15.9122807 C5.44,16.29888 5.76235498,16.6122807 6.16,16.6122807 L13.8666159,16.6122807 C14.2642609,16.6122807 14.5866159,16.29888 14.5866159,15.9122807 L14.5866159,13.1122807 C14.5866159,12.7256814 14.2642609,12.4122807 13.8666159,12.4122807 L6.16,12.4122807 Z" fill-rule="nonzero"></path>
</symbol>
<!-- 图标|新标签打开 -->
<symbol id="icoNewTab">
  <path d="M14,1 L14,11 C14,11.5522847 13.5522847,12 13,12 C12.4477153,12 12,11.5522847 12,11 L12,3.47056275 L2.53553391,12.9350288 C2.14500961,13.3255531 1.51184464,13.3255531 1.12132034,12.9350288 C0.730796052,12.5445046 0.730796052,11.9113396 1.12132034,11.5208153 L10.6421356,2 L3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,1.01453063e-16 3,0 L13,0 C13.5522847,-1.01453063e-16 14,0.44771525 14,1 Z"></path>
</symbol>
<!-- 图标|聚光灯 -->
<symbol id="icoSpotlight">
  <path d="M11.1949511,14.3025696 L9.89553711,18.0009016 C9.79558219,18.5006762 9.19585266,19.0004508 8.3962133,19.4002705 C7.49661902,19.8000902 6.29715998,20 4.99774602,20 C3.69833205,20 2.49887301,19.8000902 1.59927873,19.4002705 C0.599729531,18.9004959 0,18.2008114 0,17.501127 C0,17.1013073 0.199909844,16.7014876 0.399819687,16.4016229 L8.59612314,7.40568004 L10.8950863,4.90680703 L15.093193,0.208925781 C15.2931028,0.0090159375 15.5929676,0.00901595703 15.7928774,0.108970859 C15.9927872,0.208925762 16.0927422,0.508790527 15.9927872,0.708700371 L13.4939142,7.90545465 L11.1949511,14.3025696 Z M11.7640774,15.7965261 L14.2708176,8.82245531 L19.5911644,15.1022089 C19.8910291,15.4020737 19.9909841,15.8018933 19.9909841,16.0018032 C19.9909841,16.4016229 19.7910742,17.0013524 18.6915701,17.501127 C17.8919307,17.8009918 16.9923364,18.0009016 15.9927872,18.0009016 C14.993238,18.0009016 13.9936888,17.8009918 13.2940044,17.6010819 C12.3944101,17.2012622 12.0945454,16.8014426 11.9945904,16.4016229 L11.7640774,15.7965261 Z M8.17832315,6.3290416 L5.99729521,0.708700371 C5.89734029,0.508790547 5.89734029,0.308880703 6.19720506,0.108970859 C6.49706982,-0.0909389844 6.69697967,0.0090159375 6.89688951,0.208925781 L10.218134,4.11138806 L8.17832315,6.3290416 Z M7.99639363,18.5006762 C8.59612314,18.2008114 8.99594283,17.9009467 8.99594283,17.501127 C8.99594283,17.1013073 8.59612316,16.8014426 7.99639363,16.5015778 C7.19675426,16.201713 6.09725016,16.0018032 4.99774602,16.0018032 C3.89824188,16.0018032 2.79873775,16.201713 1.9990984,16.5015778 C1.39936889,16.8014426 0.999549199,17.1013073 0.999549199,17.501127 C0.999549199,17.9009467 1.39936887,18.2008114 1.9990984,18.5006762 C2.79873777,18.800541 3.89824188,19.0004508 4.99774602,19.0004508 C6.09725016,19.0004508 7.19675428,18.800541 7.99639363,18.5006762 Z M12.9941396,16.0018032 C12.9940532,16.3589269 13.5655733,16.6889352 14.4933936,16.8675054 C15.4212139,17.0460756 16.5643606,17.0460756 17.4921809,16.8675054 C18.4200012,16.6889352 18.9915213,16.3589269 18.9914349,16.0018032 C18.9915213,15.6446794 18.4200012,15.3146712 17.4921809,15.136101 C16.5643606,14.9575308 15.4212139,14.9575308 14.4933936,15.136101 C13.5655733,15.3146712 12.9940532,15.6446794 12.9941396,16.0018032 Z" fill-rule="nonzero"></path>
</symbol>
</svg>

<!-- 文档顶部与底部阴影栏 -->
<!--<div class="mdx-docbar-top"></div>-->
<!--<div class="mdx-docbar-bottom"></div>-->

<!-- 大纲面板 -->
<div class="mdx-toc-mask"></div>
<div class="mdx-toc-box">
    <div class="mdx-toc-box-header">
        <div class="mdx-toc-box-title" onclick="gotoTop(); hideOutline();">大纲</div>
    </div>
    <div class="mdx-toc-box-body-scroll">
        <div class="mdx-toc-box-body" id="toc-box-body"></div>
    </div>
    <div class="mdx-toc-info mdx-footer-shadow">Powered by <b>yunTaoScripts</b>
    </div>
</div>

<!-- click进的泡泡 -->
<div class="mdx-click-bubble"></div>

<!-- 面包屑导航栏 -->
<div class="mdx-bread-nav">
    <!-- 上一章 -->
    <div class="mdx-nav-prev" onclick="gotoHeader($('.mdx-nav-prev-text'))" onmouseenter="showToolTips($('.mdx-tool-tips'), $(this).attr('tips'), $(this), null)" onmouseleave="hideTips($('.mdx-tool-tips'), false)">
        <svg height="15px" style="position: absolute; top: 18px; left: 10px; cursor: pointer;" width="10px"><use class="mdx-svg-ico-light" xlink:href="#icoLeft2"/>prev</svg>
        <div class="mdx-nav-prev-text"></div>
    </div>
    <div class="mdx-bread-nav-text" onmouseenter="showToolTips($('.mdx-tool-tips'), $(this).attr('tips'), $(this), 'center')" onmouseleave="hideTips($('.mdx-tool-tips'), false)"></div>
    <!-- 下一章 -->
    <div class="mdx-nav-next" onclick="gotoHeader($('.mdx-nav-next-text'))" onmouseenter="showToolTips($('.mdx-tool-tips'), $(this).attr('tips'), $(this), 'right')" onmouseleave="hideTips($('.mdx-tool-tips'), false)">
        <div class="mdx-nav-next-text">next</div>
        <svg height="15px" style="position: absolute; top: 18px; right: 10px; cursor: pointer;" width="10px"><use class="mdx-svg-ico-light" xlink:href="#icoRight2"/>next</svg>
    </div>
</div>

<!-- 插图浏览器 -->
<div class="mdx-figure-viewer">
<div class="mdx-figure-content"></div>
<div class="mdx-figure-pagenum"></div>
<div class="mdx-toc-info2">Powered by <b>yunTaoScripts</b></div>
<div class="mdx-btn mdx-figure-viewer-prev" onclick="prevFigure()">
    <svg height="15px" width="15px"><use class="mdx-svg-ico-light" xlink:href="#icoLeft"/></svg>
</div>
<div class="mdx-btn mdx-figure-viewer-next" onclick="nextFigure()">
    <svg height="15px" width="15px"><use class="mdx-svg-ico-light" xlink:href="#icoRight"/></svg>
</div>
<div class="mdx-btn mdx-figure-viewer-close" onclick="hideFigureViewer()">
    <svg height="16px" width="16px"><use class="mdx-svg-ico-light" xlink:href="#icoClose"/></svg>
</div>
</div>

<!-- 页面工具栏 -->
<div class="mdx-toolbar">
    <!-- 大纲按钮 -->
    <div class="mdx-btn mdx-outline" onclick="toggleOutline()" onmouseenter="showToolTips($('.mdx-tool-tips'), $(this).attr('tips'), $(this), null)" onmouseleave="hideTips($('.mdx-tool-tips'), false)">
        <svg height="14px" id="svgOutline" width="20px"><use class="mdx-svg-ico-light" xlink:href="#icoOutline"/></svg>
    </div>
   
   
    <!-- 启动插图浏览器 -->
    <div class="mdx-btn mdx-figure-launcher" onclick="showFigureViewer(null)" >
        <svg height="17px" width="20px"><use class="mdx-svg-ico-light" xlink:href="#icoFigure"/></svg>
    </div>
    <!-- 打印 -->
    <div class="mdx-btn mdx-print" onclick="window.print()">
        <svg height="20px" width="20px"><use class="mdx-svg-ico-light" xlink:href="#icoPrint"/></svg>
    </div>
    
   
   
</div>

<!-- 脚注弹层 -->
<div class="mdx-footer-note" onclick="hideFooterNote()">
  <div class="mdx-footer-note-content"></div>
  <div class="mdx-footer-note-toolbar"><a onclick="gotoFooterArea()">查看所有脚注 ▶</a></div>
  <a name="xFooterArea"></a>
</div>

<!-- 插图浮动工具栏 -->
<div class="mdx-btn mdx-figure-action" onclick="openContentInNewTab()" onmouseout="outFigureAction()">
    <svg height="14px" width="14px"><use class="mdx-svg-ico-light" xlink:href="#icoNewTab"/></svg>
</div>

<!-- 聚光灯 -->
<div class="mdx-spotlight"></div>

<!-- 提示信息 -->
<div class="mdx-tool-tips"></div>
<div class="mdx-info-tips" onclick="hideTips($('.mdx-info-tips'), true)"></div>

<!-- 表格十字光标 -->
<div class="mdx-table-cross mdx-table-cross-left">&nbsp;</div>
<div class="mdx-table-cross mdx-table-cross-right">&nbsp;</div>
<div class="mdx-table-cross mdx-table-cross-up">&nbsp;</div>
<div class="mdx-table-cross mdx-table-cross-down">&nbsp;</div>

<!-- 调色板 -->
<!-- <span class="mdx-color-theme-fore"></span>
<span class="mdx-color-theme-fore-fade"></span>
<span class="mdx-color-theme-bg"></span>
<span class="mdx-color-theme-bg-fade"></span>
<span class="mdx-color-theme-bg-dark"></span>
<span class="mdx-color-theme-bg-alt"></span>

<span class="mdx-color-header-color"></span>
<span class="mdx-color-header-color-dark"></span>

<span class="mdx-color-docbg-light"></span>
<span class="mdx-color-docbg-light-alt"></span>
<span class="mdx-color-docbg-light-fade"></span>

<span class="mdx-color-docbg-dark"></span>
<span class="mdx-color-docbg-dark-alt"></span>
<span class="mdx-color-docbg-dark-fade"></span>

<span class="mdx-color-fore-light"></span>
<span class="mdx-color-fore-light-alt"></span>
<span class="mdx-color-fore-light-fade"></span>

<span class="mdx-color-fore-dark"></span>
<span class="mdx-color-fore-dark-alt"></span>
<span class="mdx-color-fore-dark-fade"></span>

<span class="mdx-color-master"></span>
<span class="mdx-color-master-light"></span>
<span class="mdx-color-master-dark"></span>
<span class="mdx-color-master-alt"></span>
<span class="mdx-color-master-alt-dark"></span>
<span class="mdx-color-master-fade"></span>

<span class="mdx-color-slave"></span>
<span class="mdx-color-slave-light"></span>
<span class="mdx-color-slave-dark"></span>
<span class="mdx-color-slave-alt"></span>
<span class="mdx-color-slave-alt-dark"></span>
<span class="mdx-color-slave-fade"></span>

<span class="mdx-color-third"></span>
<span class="mdx-color-third-light"></span>
<span class="mdx-color-third-dark"></span>
<span class="mdx-color-third-alt"></span>
<span class="mdx-color-third-alt-dark"></span>
<span class="mdx-color-third-fade"></span>

<span class="mdx-color-fourth"></span>
<span class="mdx-color-fourth-light"></span>
<span class="mdx-color-fourth-dark"></span>
<span class="mdx-color-fourth-alt"></span>
<span class="mdx-color-fourth-alt-dark"></span>
<span class="mdx-color-fourth-fade"></span>

<span class="mdx-color-fifth"></span>
<span class="mdx-color-fifth-light"></span>
<span class="mdx-color-fifth-dark"></span>
<span class="mdx-color-fifth-alt-dark"></span>
<span class="mdx-color-fifth-fade"></span>

<span class="mdx-color-table-th-bg"></span>
<span class="mdx-color-table-th-bg-dark"></span>
<span class="mdx-color-table-th-border"></span>
<span class="mdx-color-table-td2-bg"></span>
<span class="mdx-color-table-td2-bg-dark"></span>

<span class="mdx-color-a"></span>
<span class="mdx-color-a-dark"></span>
<span class="mdx-color-aline"></span>
<span class="mdx-color-ahover"></span>
<span class="mdx-color-bold-light"></span>
<span class="mdx-color-bold-dark"></span>

<span class="mdx-color-transparency0"></span>
<span class="mdx-color-transparency1"></span>
<span class="mdx-color-transparency2"></span>
<span class="mdx-color-transparency3"></span>
<span class="mdx-color-transparency4"></span> -->

<script type="text/javascript">
var _version = "V9 beta6";
var _animateSpeed = 200;
var _clientX, _clientY;
var _currentFontStyle = null;
var _icoFold = '<svg width="16px" height="16px"><use xlink:href="#icoFolded" class="mdx-svg-ico-dark"/></svg>';
var _icoUnfold = '<svg width="16px" height="16px"><use xlink:href="#icoUnfold" class="mdx-svg-ico-dark"/></svg>';
var _headers = []; // 标题列表
var _foldItem = [];
var _lastCurrentIndex = -2;
var _lastOutlineItem = null; // 大纲内最后一次高亮章节项
var _lastHeaderNum = 0;
var _lastHeaderFolder = null;
var _lastCrossTd = null;
var _smallScreenWidth = 1000;
var _outlineShowed = false;
var _figureCount = 0;
var _lastHoverContent = false;
var _lastBlockFocusItem = null;
var _blockFocusItemIndex = -1;
var _blockFocusItemCount = 0;
var _figIndex = -1;
var _darkTheme = false;
var _spotlightR = 180;
var _tipsTimer;
var _topValue = 0;
var _lang = 0;
var _reboundOffset = 10; // 动画回弹效果偏移量
var _defaultImage = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAACWCAYAAAGHlu7zAAAABGdBTUEAALGPC/xhBQAALTNJREFUeAHtXQnwFMX1bsEoIIjcl4EAcgpyyCEYEYwBE5QEUYImRo2GaKKWiVZCUqSA+ptIpWLUaBlUiBA0QRCIICAKckkQlRvkkENBEeSKgMgl/P2avPn1zE7vXD3H7r6u2p2Z7p7uft/Xb970Md1nrVy58rQoAnc2ZLjgggtsonz++efixIkTNj+3eGqE//73v+qlPHemq0YwnUc5NXGcm87AmX5cedgEKVQhAI4liAkhDhw4INauXWsjYfXq1fJ64sSJYtasWeKzzz6T1zNnzrTi5auCfqvsWVD2r33ta0Z04uTJkwLCvPjii6JPnz6ic+fOVmEJqIULF0q/Hj16iMcee0wMHz7ciuM88SsE7pOCOBPAtQmUKF0Sgq7paDIPq2pR4jiazCAJIZBHjiCmhJgyZYp8Ak6dOlVAP1RnKg+kSUBJO0KZmMwAOgJb1KhRI9G2bVvKIja2LUZMCkEoofRJCIF8pCBxCYEMyMWdh8UIZagegzz+cJ/KhJpO3EIgL60ghSQEgHIVpNCEcGWkEIWAILbHr0kh9u3bJ9asWSMuvPBCsXnzZlGhQgVRtWpV0bhxY+Rrc/l0yK/eyVcUJGRSCFsplYs485A6EmcGJEfceWhfGqkAhXJ0berGjR7AMZkH0sp5/JrMQMdmHHnYBIkjA6cwceVhCRI1g3HjxomtW7fKt9snn3zSWX55/eijj4qnn37aFmbi0YsEjT210MTt2LGjLOQ999wj9u7daxV4wYIFYsOGDeLo0aOiVatWlr8pIZCg61PLZAbIJCrbSANOVy6kb1WtM1H1kRHu18pSWjjGLQTlZRNEJzEi+xXimWeekWk/8sgjOUK8//77WlSD5CEz+N8fAWVVLRNCuGWg+sWZh2QkzgxIkLjzsFUtypSOfqsTxceRqFb94hYCeWkFKSQhtIIUkhDEdg4jhShEDiOFKgQEsZq6cQmxYsUK8cknn4hy5cqJatWqiRYtWiBfm6PqYfP834Xfh4e0I6aGFfIVKC6gIC+ElTpSaOOFbsxZlt0tkP2SR8DS9TDV2624+dJxi09+OhWicPVYrHlA1S1CVIHpnEEiJLyPprDKeT9B1kgcbLk9k51FQ20NU2P95IFOgLlz58r0n3rqKTFmzBgr+8mTJwv60fj2Qw89JMM//PBD2WGAsW+nHOrgvpXYVydxykH5+MnDpiGmWKYCuB395gEy0GuP1xq43/3ud2Ls2LHyHH8DBgzIOR86dKj0wwhyr169xOnTZyY9Pfvss+KnP/2pDKtbt66c0ICuq/vvvz9UZUJCfuVA3CAVNrBRD5I4CkMuLgEofRwLPQ9PG6IKy0S4T8NTMaLzsFjhflcbQgnjiMTDZIDa6nx+q+mq5155wDZs27ZN3oL5UXv27JHXlMc//vEPOVdKTRPneMQdOXJEenvl4byXrimPJOwp8tQ+ssKQgASTfmwAcMzIg0354osvRMWKFVEMgclvZ599tlWZdu/eLerUqSPoKCPl+UtaDipKDiGFQgQJoDsWqhzWW1ahCuAkpNDlsAhxCuZ1nZZK68pV6ESQXIEJYSIIOu9jUKwCvfYGTdy7uLkxOA9lICEXnjM+DJIOmVx/E1hpH1kmEs8tst2H87DjgascQgoBJEz9+Pjjj0XPnj2lREuWLBHdunWTbY8333xTnHfeeaJ169a+OkeRQJZeCKx2iG7YUErs+MuSAI6iJd4wdebvvA6CFYy6RYgzIb5OBwEmJB3ctbl6di5q7+SAWBCQRt3Pcw7PNz8OtghGNYwr9Twgvy8NKXWgglSuqFh5EhI1Az/CcB5lKOUlhIEqA8rrzBRWWkJMZZBPEM4jFx1XQtIGatSoUQLrD+AbUsw6cXtJoClAL730kpRq165dAr8RI0YITAOCgxyffvqpPMfkXHKYHqS6LL2I5BCSNhkAql+/fqJp06bi8OHD4txzzxV//etfVfzkOYZsAeQNN9wgr0EMCMF0IazBADleeeUVOa/LeTOm/5DLEhkok42QLJCBQgFczMlq164dLsV9990nj87P+7788kvpr/4BYJLj2muvFc2bN7eCaZEZzPmCyxoZKJNFCAkBz3wuCSEeeOABa7LCWWedJebPny+L9LOf/Uz85S9/sYqnEoLJDlh6CI+5CRMmyDiYoYLOUlrJBzMf8S0BfknIESaPQF0nYTIg9LJEeFblAEaWhhBwumNWhaDyFgvhvghhMs68sRH5+Y5RsEK6noREySBqrcXn7V7OLQ/nay3SgBzq7HmvdNVwtzzUcDo3gVVeQkxkQIXVHfPlMXr0aOu2kSNH2tYThKFHm0N1Y5XZ8TT1c/z48fKtDevg7N+/X43u6zxJMlAgLSH5gPKSJA4hsMBQmzZtrKy3b98u2ytoQJK77bbb6NSaC4y3rjvvvFP83//9nxXm9yQOOZx5O/NwfcvKGhlOIXbu3CkqVaokH0Hf//735YTqevXqybm8alw0LEFkGOcESpeGaaxyCDGdgZsgJvNYv369bRkVys9kHpSm8xhHHrZHVhwZxC2EuqYN5VWIclDZLUIKWQgSBsdCl0MSUuhCECHFIIckxK17m4TMd0zL8LmVqRjIgFzWI8tNyHx+TEY+dOxhfrHCXaEI8ZtBsdTapOQIRQiTYa/9+a7CYBVIQ8JkkK/AbmGlnodvQkodKLfKo/OLgpUvQqJkoCu005/zOIOIJyEMlLPq6K9NYJWXEBMZ6It/JoTzsCOkJYSBsgOV78okVq6EmMxAJ0iUPN544w2Z7LFjx8TBgwflOQ1IqflhYW0/Lql2hp8ekRxCogDlR3jEiZLHjBkzxFVXXSWzwveE559/vjh06JDsVAQpRAzyoHld+cqVJTJQTjkeQt+HRAEqn9BqmOk8MDerfPnycnl5DNPCmc5DLT+dx5EH0rQ0JI4MqPB0jCMPkAFX6GQQRpKQOICiDOjIeRAS+Y85Q7j5o3No3AgwIXEjzOkXNAK2lTXoZSuqREFW5/CbV5S3U795OOOxHE5Eyq6LnQ965bEpSJn44c64QulxK/YKpZc8ekia9cqIgqQpQHT4y1JgOcqwcJ6VqoJHUhCuUM5qVHZdqhWqDIHwZ1mqV6EUJEsChKch2IrofvNhxfCLVG68LNYrq+M9t7i5PhAAjRca/smNEdwHFQqdA37G0YKn7n5HGDkwJAZHXzxi2QF8lwWHc5Ljtddek35hv2SUN3/1p97/1ltvkbd13LJli1i3bp1YtWqV3LQeC4nQD0N15BCHnNtXlxRGR5Ij63xQeXVHU3L4UpAwFUpXcPI3JQCl5+cYRY6+ffvKLDAChsVUyGEwH+t/oELNmTNH7oXx9ttvy/FkHOlH8Z1HfIGKL1lVh23D8aEkVsrBwwjf5JF7+eWX5bIU06ZNEw0aNBA4QoHwmz59ulzgZfPmzRRdrFy50vrBk65pQxWKWGh8ULmdR9Ny5H3FQoUyaS0gDARI8umEPE3KAWsBRYAcWDLq+PHj8uterFaEyRaqU3eCw2Yzw4YNU4Pl0lP9+/cXQ4YMsfljK/qHH35YnDp1SnTo0EFWeuwsVLt2bTmZgziZN2+evO/qq6+Wy0+hXLAsqsPkD2yABjdo0CB5pGtcFDofUqAY5XBVEJMVKm4BKH23o0k5sMAQdknCV9dY6YmUnFZ4Qv60jSLWMYAyLF26VH613bZtW7fiaf1q1qwp7rnnHvm0R6T69evLBxXyx/Jh5LAjIBQTVgRfh994441SGWiNNkxbu+666yi6POI1C8uEsWLYYNFe2EbSARo9nbR3BAwoFiJgLfA0pjYIXrWgHNh+DBUYDvMnUWHdnHMLsrVr18rXsVq1arlFl36qgsNSnXPOOVbcTZs22ZZkswK+OkHbqEaNGqqXdY7tCzp37mxdJ3GiymEqv7jrFQ0U2hTEVOGRTtwCuJW1EIlgOdwQ0PslVa9IQVxfsfTF8w5JSgC1JKwYKhr2c+bDjkfQK1+9WH4SBRGF0F3rJUsQOZ5//nmv5HyFQ8H9dJ/76aalDIPIQfdEPfqVI0g+aclBZYxsQSAANVgp0biPWbEY9NED5EV3Lta1Qw/UXXfdJSZNmiS3KqN1s9H1irW10ZgePHiwhAjjFVi4ENsmo32B3ig8ZKB4uL7pppu0UGKPbCwxjSXZqCGOXjQ00NF4R3tpypQp4utf/7rAEtLYijkulxU+osrnJkdoC5KWZvt50gYBKooc6ngIxhew8DyUAxUcPUpQDlRSOCxAX716ddkdi3DI8cQTT4jbb79d3HLLLXKPP4SPGzdOoBcLFVxnMd555x2BT8XuvvtuqRyIBzkwUAiF+eY3vykuueQSme8dd9wRm3IUk8XQ1avAChKlQknGQvwVAxF//OMf5cepsDoY34CD5UCvEnq4Bg4cKLCuPcKgTF26dJEWxQkXFAO9UFjPHptpYuDw+uuvlwt/YvNMLAJK3c0XX3yxXEoX+Jl0xcAH8PAjh+9eLChGqb5KRa1cIMKt+5zGJJD+xIkTZUWH0vhxzIcflNzj6Phwi+2pIEyEG2z+/IIQ4S9F7j73i5NbvDB8aB9XrBhuEPvzC0OEV8rMhxdC+vAofOQoCBOhB9orJAoRurSZDx0y3v4m+LApiKlv0r2LfiaGCQGceXGFciLi/5r5yMXKpiC5wfH4MBF6XFnB9dh4hcRRrxJVkDgE4ArlVW304cyHHhsKSURBmAiCO/fICp6LiV+fOOsVBg7hYlWQOAXwC6KJeCyHHsViV/BYFIQrVOlWKL3k0UPSqFdGFSQNAaLDnpsCy5GLCfkUu8UgOeloREG4QhGcucdSq1C5CIT3yUK9iqQgWRAgPPxld7IcZVg4z0pdwUMpCFcoZzUquy71ClWGRPCzLNarQAqSRQGC02B2GSDKPynFwKxg7FKDRSSw0srp06epCEaOScmhFjbL9crX9yAQQPdBiSpokHMQUSqf6G7YsEFCgwo9f/58CyZa1woeixcvti0QB0U4efKkjL9kyRLrHqyGgpVU8A0JVjYx5UqJjyCY5VUQVgw9lEEqFL4OfPXVV0XVqlVtCXbq1ElWdHwEBYtQuXJlQUqDI30b0q1bN/HBBx9IBcIqjlAeLC/UrFkzW3phLoLIESZ9t3sKqV7ZvgehyYpZNnlugOv8WA4dMvxdiR6ZMyGuI+lcofSw4UnLX1Tq8ckXUsj1ymZB8gnJYYxAKSLAClKKrLPMvhHI20j3nQpHZASKFAFWkCIllsUyg4A1UEg9WCaSpR4AE2lRGibLR2l6HVkOPULFzIfKu3ELoiauhzdYSDGTEQyJ4LGZDz1mfuqVUQVhMqKRob87XAjzocfNj3LgbmMKwmREJ0OfQvAQ5kOPmV/lQApGFITJMEOGPpVgIcyHHq8gyoFUIisIk2GODH1K/kOYDz1WQZUDKUVSECbDLBn61PyFMB96nMIoB1ILrSBMhnky9Cl6hzAfeozCKgdSDKUgTEY8ZOhTzR/CfOjxiaIcSDWwgjAZ8ZGhT1kfwnzosYmqHEg5kIKUKhnYG/2TTz6RTGBXJzjaHg17D8IRGfjiDw77EUZx06dPt26nvMgDXyZu2bJFrFq1Sm67hq3X1B/FW7NmDZ3K3aiwr7uXIzm84pkMz3K9sqaaeAmcZSG8yq6Gh5ED26YdO3ZMYE/C//znP3L/QUpz0aJFAl8Gws2aNct12zSKi7znzp1Ll9YRn852795dXHnllfJzWnyi26FDB7khaMWKFUWbNm2kAuAGbM+2fv160bJlS1GjRg2xdOlS0bVrVyutMWPGCOxLCLd161bRtm1bK8zrhJUjFyFfChKmUuVmZfcpJDKwb+A3vvENKQA251TdL3/5S+vy3XfflZUWHp9++qnc+Rbn2Gm2Xr160soMGDAAXpZ79tlnRf/+/WWFhyeUgzbgfOqpp6RiPvjggzI+NgSFguCbdDjsaItPcfGDVXGmjTjYXBQO4dg5FwoH1759e3mkv0Lig8rsdjQth6eClLpygIQdO3aIOXPmyCczXnf69esnf1g4AdfYNHP27Nnit7/9rfUdOSokNuLM5x5++GF5jzMOVi0hB8uClUuwweeRI0fk4hkIQ/pNmzaVm4DiW3bEg0VRHe5zKoIaTuemKxWlm+9YKPUqr4IUihD5iEBYVDnw1KbXFqSHPdHVSkx+6uoj8MNKJeRo51m6xrFu3brqpXX+0EMPyXMs8oCKP2LECDFs2DCpFBQJCoKFHerXry969uwp0GbB65bq6LVQ9cMCEtirnRwrByHhftQqSNRK5ZZdIZOhNnCxFzo5qvi///3vyUuMGjVKVn5syRzGDR06VN6GfdThfvOb34hp06YJtQwNGzYUt956q2ynTJ48WWDlEygy2iDk0LGA1U9Uh22n27VrJ70KmQ9VpjjlcO3FYuVQ4T9zPn78eFGtWjV5ActAP2fM1atXy/YKlANPfhMOvWg9evSQ62Sp6aEnC1YL7Z2PPvpIDZLnsBYos/qjSHFWKsrDeSzEepVjQQpRCCcRuDYpx86dO8U111xjdeVefvnlVpavv/66PD98+LC0HOiJQlw4vBb94Q9/EFdccYWs4NJT+cNaWG5uwYIF0vuyyy6TcqALF2tkobFPbuHChfIUr2FoZ2BtLfjhtQpu5syZ4oc//KE8d/6xcjgR0V9bizYANJOVirIsNjKWL18uOnbsKMXbtm2brLSovHv37hU1a9YksW1HLPSGZYPIYawE96CrNp8jPtDYxiqLlMa+fftyGuSUDrqMmzdvLg4dOiSqVKlC3tYR6ejKaUUyfEJymEw2znqlltdSEJOFp7TiFILycB5V4ZxhYa9ZjrDImbXkVIq4+VDrkLuNp5JEOMYthFvRVMHcwsP4sRxhUDtzTzHwEYuCcKUq7UoF6YtBOSCHcQVh5QCs4VyxVKpikQMsGlUQVo5wioG7iqVSFYscxKQxBSk15UDP0oQJEwjHSEc/lQq9U+g18+tKjQ+/uASNZ0RBSpEMzI3CJMOozo9yBM2D+MBYSFIuTjmSkgH5OOUo/9W0ieFRCkBkREkj6L1OIYLe7xY/jByogC1atBAvvfSSaNCggZy4iHlOmDX7+OOPC4xk03yriRMniqlTp8rpIJQXpr5jmghm465bt05Oa8d0+n//+99yrKJ69epWUTH2gflfNJqPtDDVvkmTJnKGLsY3/v73v8tdpzBwiJF/DDBiajyN21iJGT7JCh9RxXKTI5IFIaKjFizI/W5CBLnfLW5YOfB9CByO+A0ZMkTOmcIgHWb2ohLD4XVs4MCBAnOsnnvuOem3Z88eOUv43nvvFcePHxc/+MEP5AdQtWvXFvDDVHadGz16tOjbt68YPHiwmDRpksB0/LFjxwpMi8c8MQxCDho0SLRu3do2yVKXXhT/LPERhxyhFSRspYpDiChpmpIDlgQO31t843/fjlC58DqGEfg//elP0guVCpUY00PgUMHhYBE2btwoZsyYIZUKSuTmMK0FVgqud+/e0kpg4uLw4cPl9He3e+LwK3blAGahFMRUpQpCWiGT8cILL4hWrVqJX//611bFhtLgtWncuHFyujqwwHcdsAz44cOsWrVqeUIEa4XXO8SFgmBiYxJtj0LmQwXVS47ACsLKocLr7xyWAtPM0b4gq4E7MVeqT58+sq2C65tvvllOeARp+OZEdVAesiiY2Qsrgw+50I6BxRo5cqT8bh5KB44wzR3frNO39GpaUc+9KlWY9LNarwLNxcqqEEEJSUMOLPag7nGI1yQ0ovEp7sGDB2XD/P7775eiQBHcrIfbJEVVFqQJxaBJjWi4o32jfiAVFCtn/FJSDsieM93dCQhdq0SQX9zHYiJDVQ7gBouCxSDQU4UKrW4R7aYcuEf9pNaND1gZ1aGdg58pV0x8+MXElwVxI8NvBmHjlQIZ+NBp+/btsutXpxRu+DEfbqj48wtarzwfL0yGP+DdYnmRgS5d/II45iMIWva4XnzYY5+5yttIZzLcIPPnF4YMr5SZDy+E9OFh+dAqCJOhB9srJCwZ+dJlPvKhkz8sCh+uCsJk5Ac8X2gUMnTpMh86ZLz9o/KRoyBMhjfouhhRyXBLl/lwQ8Wfnwk+bArCZPgD3i2WCTKc6TIfTkT8X5viw1IQJsM/+M6YpshQ02U+VDSCnZvkw1KQYEWIHtukEFQarlSERPAj8+GOWSoKwmS4kwFfVnI9Nl4hcdSrxBUkDiG4UnlVHX0486HHBiGJKgiToSeDlVyPjVdIHPWK8kxMQeIQgisV0Rj8yHz4wywRBWEy9GSwkuux8QpJol7FriBJCOEFpIlwlkOPYjEreawKwpWqNCuVXmozIUnWq9gUJEkhzMDungrL4Y4LfIvZcpDUsSgIVyqCN/dYCpUqV2ozPmnUK+MKkoYQZuC3p8Jy2PFQr0pJyY0qCFcqtRrZz0upUtklj36VZr0ypiBpChGdgrIUWI4yLJxnpajkRhSEK5WzKpVdl2KlKpM+2lkW6lVkBcmCENFoOHM3y6FHsZSVPJKCcKXiSqVHIHxIlupVaAXJkhDhqcjdDyJKWnRvKT9xCYOwx6zVq1AKkjUhioUMluO/YSHQ3hf1YRVYQVg5tFyUxMiyXvpoIVmtV54rK6piZ1UItYx+zgtVjhMnTljiYT3fAwcOCGyjYNJFfeKGKUuW+fBtQbIsRBBSkpbj1VdflcXDOrxw6nYE2Mfj2LFjYuHChTIM2xkg3s6dO8Xu3but+EeOHBH79++Xi1xj/49ly5aJtWvXii+++ELGMfXHypGLpC8FSbpS5RbTjE8actSpU0cWfuXKlTlCYO9AbFeA/T6wFQLiYK3e+vXriyVLlsj42L5t9erVchV4SgBK5VzJncLCHlk53JHzfMVKo1K5FzWab1pytGvXTloJ7ALldOrrEbZhU68p7nvvvSf3EKFrbMCDNE06Vg49mnktSFqVSl/ccCFpylGuXDnxzjvviIsvvjin8PCHwytT48aNRbNmzaQyYSOcDh06yDDch9+8efNytiiWESL+sXLkB9DaH8QJVJqVKn+Rg4VmXQ68LuE1y8tlXQ6v8lN4IcihltHVgqgRSLCoR6cCRk3Pz/2FIAcrhx8m9XHirlc5ClIIlUoPV1kIy1GGhfMs7krlzA/XhcqHTUEKVQgnISyHE5Gya1aOMiz8nFkKwpVKDxdXKj02XiGFXq+sRrqXoBzOCJQiApYFKUXhWWZGwAsBtiBeCHE4I8AIMAKMgCsC/IblCgt7MgKMACPACHgh4DpVMY1OTa+CIvzzzz8X6hcRfu5JIw6+1DjvvPPSyDrRPJmPROH2zIz58IQo0QjFxofbgI2rAUkUZR+ZFRsRPkTOdBTmI1v0MB/MRxgETLzoZtqAsGKEqRbx3cN8xIdtmJSZjzCoxXdPKfKRSQNSikTEV62jp8x8RMfQZArMh0k0o6dVynxkyoCUMhHRq7H5FJgP85hGSZH5iIKe+XuZDyEyYUCYCPOVO0qKzEcU9Mzfy3yYxzRKisxHGXqpGhAmooyILJwxH1lgoawMzEcZFlk4Yz5yWUjFgDARuUSk6cN8pIl+bt7MRy4mafowH3r0EzUgTISeiDRCmI80UNfnyXzosUkjhPnwRj0RA8JEeBORZAzmI0m0vfNiPrwxSjIG8+Ef7VgNCBPhn4gkYmaBD+ySdfz4cXHOOee4bhIEHPJ94HTy5EkJ1dlnx1p1tXQgf7e84V++fHmtTG4JxskHNldCeUy4fHyYSD8racTJh0kZs8RHLFrIRJisLtHTSooP7P+zaNEisW7dOrkz3BVXXCE2btwo5s6dK2655Ra5MzaWQxg3bpy8rlGjhsCepM8995y47LLL5E9dAgZ7nD799NPihhtuEG3atJFA4F5s9Xjttdd6AoO8Xn/9dc94agQYuJYtW4pLLrlE9ZbnMBIjR44UAwYMEK1atbKFjx8/Xpx//vkyzBagXLz11lsC+7jCeCIfvw7L91x55ZXWRmN038svvyyN7Xe/+13yksePP/5YTJo0Sdx6662iWrVqtrAgF1l6UAUpd9C4SelH0HI542eRD6MGhIlwUp7uddJ8YH+sq6++Wv7QysAbcOvWrUWVKlXE2LFj5QNNRWTPnj3in//8p7jxxhtlPDUMD+vnn39eYFfHWbNmyR/Csdk1DMv69evV6PIcD9kuXbpY/ljTDWl7OeQ1bdo0sWbNGmmYnMZjxYoVAg9rci+++KI8hQG89957xdtvvy33JYYn0lBd27ZtLaMCTKpWrSpuv/12Kwr2L8bulL179xaVKlWy/LGF64UXXihbNGPGjLH8kzjJ4oMqDrmT1o+wMmSZDyMGhIkIWzXiuS8NPvBwxAO/adOmsiVBmy0eOHBAPnzR7fPCCy9YAv/rX/+SD0f4T506Vd5H98BAPPPMMwItmKuuusq6ByejR4+W+2D37dvX5h/0AkYDraXFixfLLYX79esnrr/+em0yNWvWFPfcc48Vjk3scf/8+fMFWhZDhgwRFSpUsMJxAkNTsWJFaxFQdCvBASu0jHbs2CFbENi2GFsaw+DCAC1YsEBcc801vrrDNm/eLEaNGiXTVf9QFjJ0qj9aT7Vq1VK9rPMsP6isQho4SUM/whS7EPiIZECYiDDVIr570uQD3TI/+clP5GrJeDjiodioUSMpLB7WaneKqhgffvih7MJSUaldu7Z48MEH5QOZHroUvn//ftG8eXPh9KdwHP30/U+fPl1uJDp06FD1Vu05ZPjoo4+scJQDrmfPntLQoZUAI9CrVy8rzqFDh2S3nXMFaWBFBnDXrl3SaDzxxBNybAWyI40GDRpY6ehOUCZ0t6H1EsWpfERJJ+v3pqkfQbApJD5CGRAmIkh1iD9ulvhA5Uef/N69e22Cv//++3KMAA9P1dGDWPXDW7XbGAHSwJjJvHnzxNGjR0XDhg3V26xzPFRNO7SU0KVETpUPBmvw4MFi5syZ4tFHHxW33XabbD189tlnOWMluB/dbx988IFs+SBNdMt17txZykPdVocPHxbvvvuujEN5Oo9o3aEV89577zmDbNcwSO3atbP54aKQHlQ5hQ/gkSX9yFfsQuQjkAFhIvLRn3xYVvl47bXXxL59+8RNN91kgYJuKTdjAYPgdC1atHB6ya6mZcuWiR/96EeyCwZv7BhP6Nq1a07ctDwwBgOjBl7QdUUtEGd5MACP39q1a8Xq1atliwrjKdWrV5e4YTC+cuXKolOnTs5brWsYDhiZO+64Q44xWQGOk8cee8zhw4YjB5CUPQrRcBBkvgxIVh9UJAQdC5kIksHPMct8zJgxQ7Y+fvzjH8s3XAygw6HLBuMITufWhUVx0PWDAfTly5fLLrFhw4ZZ4wLoepo9e7YYMWKE6Natm+xKcrZuKB0TR7QmMOBPDtfkVD6olbJp0ybZlVa/fn2KlnOkmWUUgJYIjCxaHnXr1hXt27enINsR8V555RU5K4vwtUXQXLB+aIBJybsY+MhrQFTFSAljX9kWAxF+BM06H5i+i7fuO++809qREQ87NzdhwgSBriqMZWBQlwbQ0a//t7/9Tb5dd+zYUfTo0UNggNvN9enTR+CHhy6mxyJ/dH39/Oc/l2MP6j07d+6U04cxuwlxMOUY4xd+HLqv8EC/+eabbdHBh7pLG2aa0TUe7JgBhvxUBzxg+PI53LN7924rnoohyo3JCCi7cyqxLk3MZMvqLqO6Mofxz7p+kEzF9Lw666vZJDkT0iGgc+CPhM/SsZiIyIcrK0Y+dJIPYz6SxzxfjsxHPnTMhdHLkZqiawsk68aDDYdKYfrnzEf6HKglYD5UNNI/L2Y+XA1I+pC7l6CYiVAl5jcqFY30z5mP9DlQS8B8qGike14QBoQNR7qVxJk78+FEJN1r5iNd/J25lwofkDvTBqRUiOA3KqcKpnvNfKSLvzN35sOJSHauM2lA2HBkp4KgJMxHMD7wfQa+MMcUXnV9q2Cp6GMzH3ps0ggpFT7csM2UASkVIkr9jQqTNB555BG5UOKvfvUr1+XR3SprXH6m+cCUYXyV/r3vfS/vl+RB5VH1Awsw4kNKLOtSbM40H3Hho/IRVx5ZSDcfH5kwIExEFqpJWRni5gPpY/HBtF0+xUi7bGr+bnxgiXysGlxMBqSQ+VD5KpZzP3ykakDcFKNYwFfl8EOEGj+t8yT5ePLJJ+W+GFhDihz88EHhwYMH5UKMWNIDS6lj3SusTovVby+66CIZB6vh4qO6X/ziF9bqslgTCvtgYCkULCmCD+iwUi4+brzvvvvkGzvyAh94ACNtrBHVuHFjuW8J7sdqwljQEItBYm+SyZMny4/6sFYVuqOw/Ai6p/BlPRZPDOK2bdsmvyDHR31I/9SpU3IpE3woiJWA69WrJ5PDWl+rVq2SS5k0adJE5oev8bEgJebiY00wYLJ9+3brY0Ms6VKoHwuyfgSpRfHHDcJHKgYkyQdV/HDrcwhChD6V+EOyxAe+En/ggQcsobG+FDZxwkMTK/SS6969u1y4EPtp0Jfq2HsEy52oDsbk8ccflwYDX62j+wxfruOBjOXiL730UhkdKwcDB3zNft1110k/LF2Chzu+bKcvyrH8CNbkwpItd911V84S7mre6vnWrVvlniPf+ta3BPYIIYf1rrCfCJZeHzRokPziHeuIYYFGxEO5IBcta4+v9mEccQ+OkKlQHetHtpgLw0eiBiRLD6o4qQtDRJzl0aVdCHygReLcZwPyoP8fDkufkMPqtNixEA4bS6GFgEUKsUYWBrbpA1ksWoilQObPny+NCVogGzZskEur0E6HWGIFG17hgb106VLKwjpiB0W3FYOtCI4TLE0CR60MNZj8kB9WEsZSMEgbxgzLuuBerLGFpVTiGJRXy5LEOetHEij7zyMKH4kYkEJ4UPmHWx8zChH6VM2HFCsf2JMDCzZiOXU48IGHL7qKnA4tEKyzhfW24NA1pjq0ALCYIbq58PaPtbCiOLQm0HKB0cIWveRgKBYuXCi7y2g3RRg6cITWDi24+Oc//1lMmTJFrkYMo4ruNXVBR0ovy0fWj2yxY4KPWA1IsT6onNXABBHONOO4LnY+MEaA2U9YoRcPZhgTdIG5bc6EMQNsfIWHt+owboLBabRQcC+6mDBegvELanGg9YMuNLdl55EWxlGwFzm2wR04cKCczovl2bGjIVoV2EEQYxhwWHTxO9/5jrWlL4wdjNubb74px24QB2VCORCPHNLFro7Dhw+XXujGI2NIcbJyZP3IChNnymGSD9fFFKOKW+wPKsLHJBGUZhxH5sOOKqbAYsn0u+++2x7w1RUMBR78/fv3t3ZUzIkU0YP5iAig4duZj/CAGjUgTER4IuK4k/lwRxXjJtjSFnuRoAVQp04duZETxlAw1vDtb3/bGmNxTyGcL/MRDre47mI+oiNrxIAwEdGJMJkC82ESzehpMR/RMTSZAvNhDs1IYyBMhDkiTKTEfJhA0VwazIc5LE2kxHyYQNGeRigDwkTYQUz7ivlImwF7/syHHY+0r5iP+BgIZECYiPiICJMy8xEGtfjuYT7iwzZMysxHGNSC3ePLgDARwUCNOzbzETfCwdJnPoLhFXds5iNuhMvSz2tAmIgyoLJwxnxkgYWyMjAfZVhk4Yz5SJ4FVwPCRCRPRL4cmY986CQfxnwkj3m+HJmPfOjEG+ZqQLBMQjE7/gAwW+wyH8xHGATYcIRBzew9rgbEbBbZSY0fVNnhAiVhPpiPMAiw4QiDWjz3lIQB4QdVPJUnbKrMR1jk4rmP+YgH17CpFgofkK+oDUihEMFvVGFVLZ77mI94cA2bKvMRFrn47ytKA8KGI/6KEyQH5iMIWvHHZT7ixzhIDoXCh5tMRWVACoUIfqNyq4rp+TEf6WHvljPz4YZKen7EB7ZTdrqiMCBsOJy0pnvNfKSLvzN35sOJSLrXxcRHQRuQYiIi3SptJnfmwwyOplJhPkwhaSadYuSjIA1IMRJhpoqmkwrzkQ7uulyZDx0y6fgXMx8FZUCKmYh0qna0XJmPaPiZvpv5MI1otPRKgY+CMCClQES0qprs3cxHsnh75cZ8eCGUbHgp8ZFpA1JKRCRbxcPlxnyEwy2uu5iPuJANl24p8pFJA1KKRISrssncxXwkg7PfXJgPv0glE6+U+ciUASllIpKp6sFyYT6C4RV3bOYjboSDpc98ZGQpEyYiWMWNOzbzETfCwdJnPoLhFXds5qMM4VRbIExEGRFZOGM+ssBCWRmYjzIssnDGfOSykIoBYSJyiUjTh/lIE/3cvJmPXEzS9GE+9OgnakCYCD0RaYQwH2mgrs+T+dBjk0YI8+GNeiIGhInwJiLJGMxHkmh758V8eGOUZAzmwz/asRoQJsI/EUnEZD6SQNl/HsyHf6ySiMl8BEc5FgPCRAQnIs47ipmPbdu2iWPHjomWLVtaEH755Zdi8eLFomvXrmLt2rWiUaNGombNmlY4nRw5ckSG79+/X5x77rmifv36okWLFhQsjzt37hSbN2+W2+9WqVJFhteqVcuKs2zZMlv6+/btE5s2bRJdunQRK1euFLjGfQ0bNhQbN24UzZo1k9eLFi0Sl156qahUqZKVVtZOaBnvrJXLdHmKWT9MY+VMz6gBYSKc8KZ7XQp8NG7cWMyaNUvUq1dPVK1aVQK+bt06Ubt2bWkUDh06JE6cOJFDxKpVq8TJkyflg54Cjx49KqZPny569uwpKleuLGbPni06dOggevToQVHEhx9+KObNmyd69eol/Sh95LFw4UJx0UUXiW7duskwGIgVK1ZIPxiRLVu2iL1794oPPvhA1K1b10ozaydsOLLFSJb5MGJASuFBla0qlb80pcZHx44d5YMaD3480Hft2iV69+6dF6SPPvpIXH755bY4FSpUkK0QhKHFUq5cOVGnTh1bHLRmYHyQD4wC3IYNG2RcGCAYLtW1adNGtpCwGU/r1q3F2WefUTm0kpB+llyWH1QmcSo1/TCJnTOtSAaEiXDCme51qfKBhzwe+mgdbN++XXTq1MmTCLQAduzYIS644AIrLlokMD7du3cX559/vmy5oHurevXqVhx0acHQkPFAQPPmzUWDBg1k/Dlz5ojOnTtLA+Tkg4wH7ilfvjwOmXBsODJBg1WIQuLjrK/6aU9bJf/fiapUzjBcOxXDLU4W/AqJiCh4MR9C4I1+xowZcqyhffv2Fpzz588XBw8etL3tUxcVupOWL18uTp06Je9H6wH3ot6QQ+sCXU/wg4HBWEuTJk0oWCB9jJugCw3u9OnT4o033pDXGFPJsmP9yBY7WefDbUvbQAaEH1TZqnDMB/MRBoGsP6jCyOR2D+uHGyrh/dwMiK8uLCYiPOhx3Ml8xIFq+DSZj/DYxXEn8xEHqu5p5jUgTIQ7aGn5Mh9pIe+eL/PhjktavsxH8si7GhAmInki8uXIfORDJ/kw5iN5zPPlyHzkQyfeMNcxkHiz5NQZAUaAEWAEigGBbE1ELwZEWQZGgBFgBEoEATYgJUI0i8kIMAKMgGkE/h9bv1rxKn6+tAAAAABJRU5ErkJggg==";

/**
 * 创建背景水印
 **/
function createWatermark() {
  var fontSize = 28;
  var fontSetting = fontSize + "px Microsoft YaHei";

  // temp canvas
  $("body").append('<canvas id="tempCanvas" style="display: none"></canvas>');
  var tmpCanvas = document.getElementById("tempCanvas");
  var tmpCtx = tmpCanvas.getContext("2d");
  tmpCtx.font = fontSetting;

  // canvas
  var a = -30;
  var r = a * Math.PI / 180;
  var z = tmpCtx.measureText(document.title).width;
  var w = z;
  var h = Math.abs(z * Math.sin(180 - a)) + fontSize * 1.5;

  $("body").append('<canvas id="CanvasMask" width="' + w + '" height="' + h + '" style="display: none"></canvas>');

  var canvas = document.getElementById("CanvasMask");
  var ctx = canvas.getContext("2d");

  ctx.font = fontSetting;
  ctx.translate(0, h);
  ctx.rotate(r);

  // 根据背景色亮度设置水印文字颜色
  var bgColor = $("body").css("background-color").replace("rgb(", "").replace(")", "").split(",");
  lightValue = parseInt(bgColor[0]) + parseInt(bgColor[1]) + parseInt(bgColor[2]);
  if (lightValue < 384) // 暗色背景
      ctx.fillStyle = "rgba(255, 255, 255, 0.05)";
  else
      ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
  ctx.fillText(document.title, fontSize / 2, 0);
  ctx.restore();

  var img = new Image();
  img.src = canvas.toDataURL("image/png");
  $("body").css({
      "background": "url(" + img.src + ")",
      "background-repeat": "repeat"
  });
}
/**
 * 检查页内链接坏链
 **/
function checkInnerBadLink() {
  var count = 0;
  var badLink = "";
  $("a[href^='#']").each(function(i, n) {
      var obj = $(n);
      var str = obj.attr("href").toString();
      // 有效的页内链接的前缀为以下条件
      if (str.search("#ref-") == -1 && str.search("#dfref-") == -1 && str.search("#header-") == -1) {
          count++;
          badLink += ["无效页内链接 [",
              "無效頁內鏈接 [",
              "Invalid Inner Link [",
              "Lien de page non valide [",
              "Недопустимая ссылка на страницу [",
              "ページリンクが無効です[",
              "잘못된 페이지 링크["][_lang]
              + count + "]：" + obj.text() + " ----- " + obj.parent().text() + "\n";
          console.error(["无效页内链接 [",
              "無效頁內鏈接 [",
              "Invalid Inner Link [",
              "Lien de page non valide [",
              "Недопустимая ссылка на страницу [",
                  "ページリンクが無効です [",
                  "잘못된 페이지 링크 ["][_lang]
              + count + "]：" + obj.text() + " ----- " + obj.parent().text());
      }
  });
  // 显示无效链接信息
  if (badLink.length > 0)
      alert(badLink);
}
/**
 * 检查重名的Header
 **/
function checkDuplicateHeader() {
  var headers = [];
  $(":header").each(function(i, n) {
      headers.push($(n).text());
  });
  var dupHeaders = [];
  for (i in headers) {
      for (k in headers) {
          if (i != k && headers[i] == headers[k]
              && "业务规则,通用的业务规则,用户界面与交互,通用的用户界面与交互,页面流程,业务主流程,流程图,状态图,数据接入".indexOf(headers[k]) < 0)
              dupHeaders.push(headers[i]);
      }
  }
  // 输出警告信息
  for (i in dupHeaders)
      console.warn(["重名的标题 [",
          "重複的標題 [",
          "Duplicate Header [",
          "Titre en double [",
          "Дублирующее название [",
          "重複するタイトル [",
          "중복 제목 ["][_lang]
          + i + "]：" + dupHeaders[i]);
}
/**
 * 检查是否为空对象
 **/
function isEmptyObject(obj) {
  return (typeof(obj) == "undefined");// obj.length <= 0;
}
/**
 * 以指定字符开始
 **/
String.prototype.startWith=function(s){
  if(s==null||s==""||this.length==0||s.length>this.length)
      return false;
  if(this.substr(0,s.length)==s)
      return true;
  else
      return false;
  return true;
}
/**
 * 以指定字符结束
 **/
String.prototype.endWith=function(s){
  if(s==null||s==""||this.length==0||s.length>this.length)
      return false;
  if(this.substring(this.length-s.length)==s)
      return true;
  else
      return false;
  return true;
}
/**
 * 隐藏大纲（异常情况使用）
 **/
function hideOutlineOnError() {
  // $(".mdx-toolbar").hide();
  $(".mdx-toc-box").hide();

}
/**
 * 为outline中子元素添加附加属性和事件
 **/
function initOutlineData() {
  // 提取文档中由[toc]标签生成的文档目录作为浮动outline中的内容
  var obj = $(".md-toc");
  // 没有生成目录
  if (isEmptyObject(obj)) {
      hideOutlineOnError();
      return false;
  }
  // 有生成目录
  var toc = $(".mdx-toc-box-body");

  // 不要用复制toc模式，会与outline的冲突
  // toc.append(obj.clone()); // 复制toc模式
  toc.append(obj.wrapAll()); // 剪贴toc模式

  // outline内容滚动时，根据内容是否滚动未结束，未结束时添加阴影效果
  toc.scroll(function() {
      updateScroolTopShadow(toc, $(".mdx-toc-box-header"), 0);
      updateScroolBottomShadow(toc, $(".mdx-toc-info"), 0);
  });

  var tocContent = $(".md-toc-content");
  // 没有找到目录内容
  if (isEmptyObject(tocContent)) {
      hideOutlineOnError();
      return false;
  }

  tocContent.children().each(function(i, n) {
      var obj = $(n);
      if (obj.attr("class").indexOf("-h6") == -1) // 忽略 h6
      {
          // 记录到标题数组中
          _headers.push("header-" + obj.attr("data-ref"));
          obj.css("cursor", "pointer"); // 添加鼠标形状
          // 自定义大纲节点元数据
          obj.attr({
              "id": "oli-header-" + obj.attr("data-ref"), // 添加id属性
              "data-node": "0", // 添加节点类型：0:叶子节点, 1:目录节点
              "data-folding": "1", // 添加节点状态：0:收起, 1:展开
              "title": obj.find("a").text().trim()
          });
          // 所有大纲节点都添加folding空白控件备用
          $("<div id='fd-oli-header-" + obj.attr("data-ref") + "' class='mdx-folder'>&nbsp;</div>").insertBefore(obj.find("a"));
          // 点击大纲节点事件
          obj.click(function() {
              hideOutline();
              location.href = "#header-" + obj.attr("data-ref");
          });

          // 记录所有非叶子节点的folder控件
          if (_lastHeaderFolder != null) {
              // 当前节点比上一个节点层级低，则上一节点为可折叠的节点
              if (getCSSHeaderLevel(obj) > _lastHeaderNum) {
                  // console.log(_lastHeaderFolder.parent().text());
                  _foldItem.push(_lastHeaderFolder);
              }
          }
          // 更新最后处理的folder控件
          _lastHeaderFolder = $("#fd-oli-header-" + obj.attr("data-ref"));
          _lastHeaderNum = getCSSHeaderLevel(obj);
      }
  });
  return true;
}
/**
 * 初始化内容块聚焦模式
 **/
function initBlockFocus() {
    // 先清理多余的段落标签
    $("li > p:only-child").contents().unwrap();

    $("h1, h2, h3, h4, h5, h6, ul > li, ol > li, p, .md-diagram-panel").each(function() {
        var item = $(this);
        item.attr("id", "mdx-blockfocus-" + _blockFocusItemCount);
        item.attr("mdx-blockfocus-index", _blockFocusItemCount);
        item.click(function () {
            // hideLastCrossTd();

            _blockFocusItemIndex = $(this).attr("mdx-blockfocus-index");
            gotoBlockFocusItem($(this), false);
            event.stopPropagation(); // 停止事件冒泡
        });
        _blockFocusItemCount++;
    });

    $(".md-toc-content").each(function() {
        var item = $(this);
        item.removeAttr("id");
        item.removeAttr("mdx-blockfocus-index");
        item.unbind("click");
    });
}
/**
 * 跳到指定的内容块，或最新的_blockFocusItemIndex指定的内容块
 **/
function gotoBlockFocusItem(it, jump) {
    hideFocusBlock();

    var item = $("#mdx-blockfocus-" + _blockFocusItemIndex);
    if (it != null)
        item = it;
    item.addClass("mdx-current-blockfocus-item");
    _lastBlockFocusItem = item;

    // 显示工具栏新手提示：内容块聚焦
    if (window.localStorage && localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-bf"] == undefined) {
        showInfoTips($(".mdx-info-tips"),
            ["<strong>已激活内容聚焦模式</strong><br>鼠标直接点击内容，或键盘操作：<div style='text-align:left'><kbd>J</kbd> 下一个<br><kbd>K</kbd> 上一个<br><kbd>H</kbd> 往回跳十个<br><kbd>L</kbd> 往后跳十个<br><kbd>ESC</kbd> 隐藏聚焦</div>",
            "<strong>激活的內容聚焦模式</strong><br>鼠標點擊內容或鍵盤操作：<div style='text-align:left'><kbd>J</kbd>下一個<br><kbd>K</kbd>上一個<br><kbd>H</kbd>往前跳十個<br><kbd>L</kbd>往後跳十個<br><kbd>ESC</kbd> 隱藏聚焦</div>",
            "<strong>Activated Content Focus Mode</strong><br>Mouse click on the content, or keyboard operation:<div style='text-align:left'><kbd>J</kbd> Next<br><kbd>K</kbd> Previous<br><kbd>H</kbd> Jump up ten<br><kbd>L</kbd> Jump ten<br><kbd>ESC</kbd> Hide focus</div>",
            "<strong>Mode de focus du contenu activé</strong><br>Cliquez sur le contenu ou sur le clavier:<div style='text-align:left'><kbd>J</kbd> Suivant<br><kbd>K</kbd> Précédent<br><kbd>H</kbd> Saut dix en avant<br><kbd>L</kbd> Saut dix en arrière<br><kbd>ESC</kbd> Masquer le focus</div>",
            "<strong>Активированный режим фокусировки содержимого</strong><br>Щелчок мышью по содержимому или операции с клавиатурой:<div style='text-align:left'><kbd>J</kbd> Далее<br><kbd>K</kbd> Предыдущий<br><kbd>H</kbd> Прыгай десять вперед<br><kbd>L</kbd> прыгай десять назад<br><kbd>ESC</kbd> Скрыть фокус</div>",
            "<strong>アクティブコンテンツフォーカスモード</strong><br>コンテンツをマウスでクリックするかキーボード操作をします。<div style='text-align:left'><kbd>J</kbd> 次へ<br><kbd>K</kbd> 前へ<br><kbd>H</kbd> 10ジャンプします<br><kbd>L</kbd> 10ジャンプ<br><kbd>ESC</kbd> フォーカスを隠す</div>",
            "<strong>활성 컨텐츠 포커스 모드</strong><br>내용을 마우스로 클릭하거나 키보드 조작:<div style='text-align:left'><kbd>J</kbd> 다음<br><kbd>K</kbd> 이전<br><kbd>H</kbd> 앞으로 10 칸 이동하십시오<br><kbd>L</kbd> 점프 10 뒤로<br><kbd>ESC</kbd> 포커스 숨기기</div>"][_lang],
            15000);
        localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-bf"] = true;
    }

    if (jump == true
        && item.offset().top != 0
        && ((item.offset().top - 50) < $(document).scrollTop()
        || (item.offset().top + 50) > ($(document).scrollTop() + $(window).height()))) {
        $('html,body').animate({
            scrollTop: item.offset().top - $(window).height() / 2
        }, _animateSpeed);
    }

    // if (item.attr("class").indexOf("mdx-blockquote-folder") != -1)
    //     item[0].click();
}
/**
 * 上一个内容块item
 **/
function prevBlockFocusItem(step) {
    if (_blockFocusItemIndex > 0) {
        _blockFocusItemIndex = parseInt(_blockFocusItemIndex) - step;
        if (_blockFocusItemIndex < 0)
            _blockFocusItemIndex = 0;
        gotoBlockFocusItem(null, true);
    }
}
/**
 * 下一个内容块item
 **/
function nextBlockFocusItem(step) {
    if (_blockFocusItemIndex < _blockFocusItemCount - 1) {
        _blockFocusItemIndex = parseInt(_blockFocusItemIndex) + step;
        if (_blockFocusItemIndex > _blockFocusItemCount - 1)
            _blockFocusItemIndex = _blockFocusItemCount - 1;
        gotoBlockFocusItem(null, true);
    }
}
/**
 * 初始化表格数据
 **/
function initTable() {
    var colSpanCount = 0;
    var colSpanCell, lastCell = null;
    var tblData = new Array(), tblSpan = new Array(), tblTd2ThData = new Array();
    var rowIndex = 0, colIndex = 0;
    var needRowSpan = false;
    var tableIndex = 0;

    $("table").each(function() {
        // 新标签打开的按钮
        var table = $(this);
        // 表格索引号
        table.attr("id", "mdx-tbl" + tableIndex);
        table.hover(function () {
            // 鼠标移入显示
            showFigureAction(table);
            // if (_darkTheme)
            //     $(this).addClass("mdx-figure-hover-dark");
            // else
                $(this).addClass("mdx-figure-hover");
        }, function () {
            // 鼠标移出隐藏
            hideFigureAction(table);
            // if (_darkTheme)
            //     $(this).removeClass("mdx-figure-hover-dark");
            // else
                $(this).removeClass("mdx-figure-hover");
        });

        // 单元格处理
        $(this).find("tr").each(function() {
            tblData[rowIndex] = new Array();
            tblSpan[rowIndex] = new Array();
            $(this).find("td, th").each(function() {
                var cell = $(this);

                // --- 当前单元格十字高亮 ---
                // 单元格行列索引号
                // cell.attr("mdx-row", "mdx-tbl" + tableIndex + "-" + rowIndex);
                cell.attr("mdx-col", "mdx-tbl" + tableIndex + "-" + colIndex);

                // 鼠标点击单元格时高亮同行同列
                cell.click(function () {
                    hideLastCrossTd();
                    // hideFocusBlock();

                    // $("[mdx-row=" + cell.attr("mdx-row")).addClass("mdx-focus-row-col");
                    // $("[mdx-col=" + cell.attr("mdx-col")).addClass("mdx-focus-row-col");
                    // cell.removeClass("mdx-focus-row-col");
                    // cell.addClass("mdx-focus-row-col-current");
                    _lastCrossTd = cell;

                    var tdH = parseInt(_lastCrossTd.css("height"));
                    var tdW  = parseInt(_lastCrossTd.css("width"));
                    var tbl = _lastCrossTd.parent().parent().parent();

                    $(".mdx-table-cross-left").css({
                        "display": "block",
                        "top": _lastCrossTd.offset().top,
                        "left": 0,
                        "height": tdH,
                        "width":  _lastCrossTd.offset().left,
                        "z-index": 9
                    });

                    $(".mdx-table-cross-right").css({
                        "display": "block",
                        "top": _lastCrossTd.offset().top,
                        "left": _lastCrossTd.offset().left + tdW,
                        "height":  tdH,
                        "width":  $(window).width() - _lastCrossTd.offset().left - tdW,
                        "z-index": 9
                    });
                    $(".mdx-table-cross-up").css({
                        "display": "block",
                        "top": tbl.offset().top,
                        "left": _lastCrossTd.offset().left,
                        "height": _lastCrossTd.offset().top - tbl.offset().top,
                        "width":  tdW,
                        "z-index": 9
                    });
                    $(".mdx-table-cross-down").css({
                        "display": "block",
                        "top": _lastCrossTd.offset().top + tdH,
                        "left": _lastCrossTd.offset().left,
                        "height": tbl.offset().top + parseInt(tbl.css("height")) - _lastCrossTd.offset().top - tdH,
                        "width":  tdW,
                        "z-index": 9
                    });
                    console.log($(".mdx-table-cross-left").css("display"));
                    // console.log(_lastCrossTd.offset().top + ", " + _lastCrossTd.offset().left + ", " + _lastCrossTd.width() + ", " + _lastCrossTd.height());
                });
                // }, function () {
                //     // 鼠标移出后
                //     $("[mdx-row=" + cell.attr("mdx-row")).removeClass("mdx-focus-row-col");
                //     $("[mdx-col=" + cell.attr("mdx-col")).removeClass("mdx-focus-row-col");
                //     cell.removeClass("mdx-focus-row-col-current");
                // });

                // --- 行合并预处理 ---
                // 克隆表格数据
                tblData[rowIndex][colIndex] = cell;
                tblSpan[rowIndex][colIndex] = 0;
                // 行合并标记
                if (cell.text() == "..") {
                    tblSpan[rowIndex][colIndex] = 1;
                    needRowSpan = true;
                }
                colIndex++;

                // --- 列合并 ---
                // 列合并标记
                if (cell.text() == "==") {
                    colSpanCount++;
                    cell.remove();
                    if (colSpanCount == 1)
                        colSpanCell = lastCell;
                }
                else { // 列合并
                    if (colSpanCount > 0) {
                        colSpanCell.attr("colspan", colSpanCount + 1);
                        colSpanCell.css("text-align", "center");
                    }
                    colSpanCount = 0;
                }
                lastCell = cell;
            }); // find(td, th)

            // 列合并（对于最后一列的补充处理）
            if (colSpanCount > 0) {
                colSpanCell.attr("colspan", colSpanCount + 1);
                colSpanCell.css("text-align", "center");
            }
            colSpanCount = 0;

            table.attr("mdx-cols", colIndex); // 表格列数
            rowIndex++;
            colIndex = 0;
        }); // tr

        // --- 统一整列格式 ---
        $(this).find("tr th").each(function() {
            if ($(this).find("strong").length > 0)
                $("[mdx-col=" + $(this).attr("mdx-col")).addClass("mdx-table-td-bold");
            else if ($(this).find("em").length > 0)
                $("[mdx-col=" + $(this).attr("mdx-col")).css("font-style", "italic");
            else if ($(this).find("u").length > 0)
                $("[mdx-col=" + $(this).attr("mdx-col")).css("text-decoration", "underline");
            else if ($(this).find("mark").length > 0)
                $("[mdx-col=" + $(this).attr("mdx-col")).contents().wrap("<mark></mark>");
            else if ($(this).find("del").length > 0)
                $("[mdx-col=" + $(this).attr("mdx-col")).contents().wrap("<del></del>");
        });

        rowIndex = 0;

        // 行合并
        if (needRowSpan == true) {
            tblTd2ThData = new Array();
            // 列式遍历（从左到右）
            for (var c = 0; c < tblSpan[0].length; c++) {
                var rowSpanCount = 0, rowSpanCell = null;
                var r = 0, thSpanFlag = false;

                // 列式遍历（从上到下）
                while (r < tblSpan.length) {
                    if (tblSpan[r][c] == 1) { // 要合并
                        rowSpanCount++;
                        // tblData[r][c].remove(); // 移除要被合并的单元格
                        if (rowSpanCell == null) {
                            rowSpanCell = tblData[r - 1][c];
                        }
                        // 记录最大列头行合并深度
                        if (r == 1)
                            thSpanFlag = true;
                        if (thSpanFlag == true)
                            tblTd2ThData[tblTd2ThData.length] = tblData[r][c].parent();
                        tblData[r][c].remove(); // 移除要被合并的单元格
                    } else {
                        thSpanFlag = false;
                        // 单元格行合并
                        if (rowSpanCell != null) {
                            rowSpanCell.attr("rowspan", rowSpanCount + 1);
                            rowSpanCount = 0;
                            rowSpanCell = null;
                        }
                    }
                    r++;
                } // while
                // 单元格行合并（对于最后一行的补充处理）
                if (rowSpanCell != null) {
                    rowSpanCell.attr("rowspan", rowSpanCount + 1);
                    rowSpanCell.css("text-align", "center");
                }
            } // for

            for (var i=0; i<tblTd2ThData.length; i++) {
                // console.log(tblData[0][0].parent().text());
                tblData[0][0].parent().parent().append(tblTd2ThData[i]);
                // tblTd2ThData[i].find("td").contents().unwrap().wrap('<th/>');
                // tblTd2ThData[i].find("td").unwrap().wrap('<th/>');
            }
        } // if

        tableIndex++;
        needRowSpan = false;
    }); // table
}
/**
 * 隐藏表格十字聚焦
 **/
function hideLastCrossTd() {
    if (_lastCrossTd == null)
        return;

    // $("[mdx-row=" + _lastCrossTd.attr("mdx-row")).removeClass("mdx-focus-row-col");
    // $("[mdx-col=" + _lastCrossTd.attr("mdx-col")).removeClass("mdx-focus-row-col");
    // _lastCrossTd.removeClass("mdx-focus-row-col-current");
    $(".mdx-table-cross").hide();
    _lastCrossTd = null;
}
/**
 * 初始化插图数据
 **/
function initFigureData() {
    var ignoreImgLost = false;
    $("img, .md-diagram-panel svg").each(function() {
        var fig = $(this);
        // 添加插图标识数据
        fig.attr({
          "fig-id": "mdx-figure-" + _figureCount,
          "fig-idx": _figureCount,
          "fig-type": fig.prop("tagName").toLowerCase()
        });
        // 添加插图样式
        fig.css("cursor", "ew-resize");
        fig.addClass("mdx-figure");

        fig.hover(function () {
            // if (_darkTheme)
            //     $(this).addClass("mdx-figure-hover-dark");
            // else
                $(this).addClass("mdx-figure-hover");
        }, function () {
            // if (_darkTheme)
            //     $(this).removeClass("mdx-figure-hover-dark");
            // else
                $(this).removeClass("mdx-figure-hover");
        });

        // 添加锚点，便于在插图浏览器直接跳转至对应插图位置
        $("<a name='" + "fig-idx" + _figureCount + "'>").insertBefore(fig.parent());

        // 添加鼠标单击事件
        fig.click(function() {
            showFigureViewer(fig);
        });
        // 添加鼠标移入/移出事件
        fig.mouseenter(function() {
            showFigureAction(fig);
        });
        fig.mouseout(function() {
            hideFigureAction(fig);
        });

        var figTitle = null;
        // 图片无法加载时加载默认图片
        if (fig.prop("tagName").toLowerCase() == "img") {
            figTitle = fig.attr("alt"); // 获取插图标题
            fig.css("background-color", "#FFFFFF");
            fig.bind("error", function() {
                if (fig.attr("src") != "vlook-lost-image.jpg")
                    if (ignoreImgLost == false)
                        ignoreImgLost = !confirm(["图片缺失：",
                            "圖片缺失：",
                            "Lost Image: ",
                            "Image perdue: ",
                            "Потерянное изображение: ",
                            "失われた画像：",
                            "잃어버린 이미지 : "][_lang] + fig.attr("src") + " --- " + fig.parent().html() + ["\n\n继续检查吗？",
                                "\n\n繼續檢查嗎？",
                                "\n\nContinue to check?",
                                "\n\nContinuer à vérifier?",
                                "\n\nПродолжить проверку?",
                                "\n\nチェックを続けますか？",
                                "\n\n계속 확인 하시겠습니까?"][_lang]);

                loadDefaultImage($(this));
            });
            fig.attr("src", fig.attr("src")); // 强制重新加载一次以触发error事件
        }
        // SVG插图的特殊处理
        else  if (fig.prop("tagName").toLowerCase() == "svg") {
            // 获取插图标题
            var titleObj = fig.parent().prevUntil("h6").prev();
            if (titleObj != null && titleObj.prop("tagName").toLowerCase() == "h6")
                figTitle = titleObj.text();

            // 主要是修正SVG插图在套上figure-alt后的自动缩小问题，parseInt()性能有点慢
            w = parseInt(fig.attr("width"));
            if (isNaN(w)) {
                w = 100;
                mxw = parseInt(fig.css("max-width"));
                if (mxw > w)
                    fig.attr("width", mxw);
            }
        }

        // 在插图底部显示图注
        if (figTitle != null && figTitle.trim().length > 0) {
            var ft = ["图-",
                    "圖-",
                    "Figure-",
                    "La figure-",
                    "карта-",
                    "図-",
                    "그림-"][_lang] + (_figureCount + 1) + " | " + figTitle;
            fig.wrap("<div id='fig-num" + _figureCount + "' class='mdx-figure-alt'>" + ft + "</div>");

            // 若插图的高度大于文档窗口高度的2倍，则插图下方也添加图注
            // 多图时性能初始化耗时较大，暂时屏蔽
            // var wh = $(window).height() * 2;
            // if (parseInt(fig.css("height")) > wh)
            //     fig.parent().append(ft);
        }
            // $("<div id='fig-num" + _figureCount + "' class='mdx-figure-alt'>" + ["图-",
            //         "圖-",
            //         "Figure-",
            //         "La figure-",
            //         "карта-",
            //         "図-",
            //         "그림-"][_lang] + (_figureCount + 1) + " | " + figTitle +
            //         "<hr style='width: " + (figTitle.length * 0.75) + "em'></div>")
            //         .insertAfter(fig.parent());

        _figureCount++;
    });
    if (_figureCount > 0)
        $(".mdx-figure-launcher").css("visibility", "visible");
}
/**
 * 加载默认图片
 **/
function loadDefaultImage(obj) {
  obj.attr({
      "src-org": obj.attr("src"),
      "src": _defaultImage
  });
}
/**
 * 显示插图浏览器
 **/
function showFigureViewer(fig) {
    if (_figureCount == 0)
        return;
    if (_figIndex == -1)
        _figIndex = 0;
    if (fig == null)
        fig = $("[fig-id='mdx-figure-" + _figIndex + "']");

    var viewer = $(".mdx-figure-viewer");
    viewer.css({
        "top": $(".mdx-figure-viewer").css("height"),
        "opacity": 0
    });

    // showMask(viewer, null);

    // 调整插图动作按钮层级
    var act = $(".mdx-figure-action");
    act.css("z-index", parseInt(act.css("z-index")) + parseInt(viewer.css("z-index")));

    hideFigureAction(null);

    // 在插图浏览器中显示对应插图
    _figIndex = fig.attr("fig-idx");

    viewer.show();
    viewer.animate({
        top: 0,// - _reboundOffset,
        opacity: 1 },
        _animateSpeed, function() {
            showFigureContent(fig);
            updateFigureViewerUI();
            // viewer.animate({ top: 0 }, _animateSpeed);
    });
}
/**
 * 关闭插图浏览器
 **/
function hideFigureViewer() {
    var viewer = $(".mdx-figure-viewer");
    viewer.animate({ top: viewer.css("height"), opacity: 0 }, _animateSpeed, function() {
        $(".mdx-figure-content").empty();
        viewer.hide();
    });

    // 调整插图动作按钮层级
    var act = $(".mdx-figure-action");
    var actIdx = parseInt(act.css("z-index"));
    var viewerIdx = parseInt(viewer.css("z-index"));
    if (actIdx > viewerIdx)
        act.css("z-index", actIdx - viewerIdx);

    // hideMask();
    hideFigureAction(null);

    // 显示工具栏新手提示：聚光灯
    // if (window.localStorage && localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-t3"] == undefined) {
    //     hintWithShake($(".mdx-spotlight-switch"), 1, 10);
    //     localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-t3"] = true;
    // }
}
/**
 * 鼠标移出插件动作按钮
 **/
function outFigureAction() {
    if (mouseDropInObj(_lastHoverContent) == false)
        $(".mdx-figure-action").hide();
}
/**
 * 显示插图动作按钮
 **/
function showFigureAction(fig) {
    if (browser.device.mobile)
        return;

    var radius = "15px";
    if (fig.prop("tagName").toLowerCase() == "table")
        radius = "0px";
    var act = $(".mdx-figure-action");
    act.hide();
    act.css({
        "left": fig.offset().left,
        "top": fig.offset().top,
        "border-top-left-radius": radius
    });

    act.fadeIn(_animateSpeed);
    _lastHoverContent = fig;

    // 显示新手提示：新标签打开插图
    // if (window.localStorage && localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-nf"] == undefined) {
    //     hintWithShake(act, 3, 10);
    //     localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-nf"] = true;
    // }
}
/**
 * 隐藏插图动作按钮
 **/
function hideFigureAction(fig) {
    if (fig == null || mouseDropInObj(fig) == false)
        $(".mdx-figure-action").fadeOut(_animateSpeed);
}
/**
 * 在新标签页中打开插图/表格等内容
 **/
function openContentInNewTab() {
    if (_lastHoverContent == null)
        return;
    var w = window.open("", "_blank");
    var bgColor = _darkTheme ? $(".mdx-color-docbg-dark").css("color") : $(".mdx-color-docbg-light").css("color");
    // ondblclick, onmousemove, onkeydown中的代码须使用原生javascipt
    var baseContent = "<body ondblclick='var obj=document.getElementsByClassName(\"mdx-spotlight\")[0];if(obj.style.display==\"block\"){obj.style.display=\"none\"}else{obj.style.display=\"block\";var e=window.event;document.documentElement.style.setProperty(\"--x\",e.clientX);document.documentElement.style.setProperty(\"--y\",e.clientY);document.documentElement.style.setProperty(\"--r\",180);}'"
        + " onmousemove=\"if (document.getElementsByClassName('mdx-spotlight')[0].style.display=='block'){var e = window.event;document.documentElement.style.setProperty('--x', e.clientX);document.documentElement.style.setProperty('--y', e.clientY);}\""
        + " onkeydown='var code = event.keyCode||event.which||event.charCode;if (code == 27) document.getElementsByClassName(\"mdx-spotlight\")[0].style.display=\"none\"; if (code != 83) return; var obj=document.getElementsByClassName(\"mdx-spotlight\")[0];if(obj.style.display==\"block\"){obj.style.display=\"none\"}else{obj.style.display=\"block\";var e=window.event;document.documentElement.style.setProperty(\"--x\",e.clientX);document.documentElement.style.setProperty(\"--y\",e.clientY);document.documentElement.style.setProperty(\"--r\",180);}'"
        + " class='typora-export' style='min-height:100vh;background-color:" + bgColor
        + "'><div class='mdx-spotlight'></div>"
        + "";

    w.document.write("<!doctype html>");
    w.document.write($("html").html());

    // 图片
    if (_lastHoverContent.attr("fig-type") == "img") {
        w.document.title = ["图", "圖", "Figure", "Figure", "карта", "図", "그림"][_lang];
        // 新标签打开的内容忽略最大尺寸限制
        var oxw = _lastHoverContent.css("max-width");
        var oxh = _lastHoverContent.css("max-height");
        _lastHoverContent.css("max-width", "");
        _lastHoverContent.css("max-height", "");

        w.document.body.outerHTML = baseContent
            + _lastHoverContent.prop("outerHTML");
        + "</body>";

        // 恢复原始内容的最大尺寸限制
        _lastHoverContent.css("max-width", oxw);
        _lastHoverContent.css("max-height", oxh);
    }
    // mermaid / flow.js等SVG图
    else if (_lastHoverContent.attr("fig-type") == "svg") {
        w.document.title = ["图", "圖", "Figure", "Figure", "карта", "図", "그림"][_lang];
        w.document.title = _lastHoverContent.parent().text();

        // 新标签打开的内容忽略最大尺寸限制
        var oxw = _lastHoverContent.css("max-width");
        var oxh = _lastHoverContent.css("max-height");
        _lastHoverContent.css("max-width", "");
        _lastHoverContent.css("max-height", "");

        w.document.body.outerHTML = baseContent + "<div class='md-diagram-panel'>"
            + _lastHoverContent.prop("outerHTML");
            + "</div></body>";

        // 恢复原始内容的最大尺寸限制
        _lastHoverContent.css("max-width", oxw);
        _lastHoverContent.css("max-height", oxh);
    }
    // 表格
    else if (_lastHoverContent.prop("tagName").toLowerCase() == "table") {
        w.document.title = ["表格", "表格", "Table", "Formulaire", "таблица", "フォーム", "양식"][_lang];
        w.document.body.outerHTML = baseContent + "<ul><li>"
            + ["表格", "table", "Table", "table", "table"][_lang] + "<br>"
            + _lastHoverContent.prop("outerHTML") + "</li></ul></body>";
    }

}
/**
 * 鼠标光标落入指定对象范围内
 **/
function mouseDropInObj(obj) {
    var e = window.event;
    var mx = e.pageX || e.clientX + document.body.scrollLeft;
    var my = e.pageY || e.clientY + document.body.scrollTop;
    if (mx < obj.offset().left || mx > (obj.offset().left + obj.width())
        || my < obj.offset().top || my > (obj.offset().top + obj.height()))
        return false;
    return true;
}
/**
 * 显示插图内容
 **/
function showFigureContent() {
    var fig = $("[fig-id=mdx-figure-" + _figIndex + "]");
    fig.removeClass("mdx-figure-hover");
    var content = $(".mdx-figure-content");
    content.empty();
    content.show();
    content.css({
        "width": $(window).width(),
        "height": $(window).height()
    });

    var newObj = fig.clone();
    newObj.css({
        "max-width": $(window).width() - 90,
        "max-height": $(window).height() - 90,
        "display": "inline-block",
        "cursor": "pointer"
    });
    newObj.click(function () {
        gotoFigure();
        hideFigureViewer();
    });
    content.append(newObj);
    newObj.hover(function () {
        // if (_darkTheme)
        //     $(this).addClass("mdx-figure-hover-dark");
        // else
            $(this).addClass("mdx-figure-hover");
    }, function () {
        // if (_darkTheme)
        //     $(this).removeClass("mdx-figure-hover-dark");
        // else
            $(this).removeClass("mdx-figure-hover");
    });
    newObj.mouseenter(function() {
        showFigureAction(newObj);
    });
    newObj.mouseout(function() {
        hideFigureAction(newObj);
    });

    // _figTitle= "";
    // var ft = newObj.attr("alt");
    // if (isEmptyObject(ft) == false)
    //     _figTitle = ft;
    // else {
    //     var titleObj = fig.parent().prevUntil("h6").prev();
    //     if (titleObj != null && titleObj.prop("tagName").toLowerCase() == "h6")
    //         _figTitle = titleObj.text();
    // }
}
/**
 * 查看上一个插图
 **/
function prevFigure() {
  if (_figIndex > 0) {
      _figIndex--;
      // var fig = $("[fig-id=mdx-figure-" + _figIndex + "]");
      hideFigureAction();
      showFigureContent();
      updateFigureViewerUI();
  }
}
/**
 * 查看下一个插图
 **/
function nextFigure() {
  if (_figIndex < _figureCount - 1) {
      _figIndex++;
      // var fig = $("[fig-id=mdx-figure-" + _figIndex + "]");
      hideFigureAction();
      showFigureContent();
      updateFigureViewerUI();
  }
}
/**
 * 更新插图浏览器界面
 **/
function updateFigureViewerUI() {
  var btnPrev = $(".mdx-figure-viewer-prev");
  var btnNext = $(".mdx-figure-viewer-next");
  var pageNum = $(".mdx-figure-pagenum");
  var viewer = $(".mdx-figure-viewer");

  // 更新插图页码
  var title = ["(共",
          "(共",
          "(Total ",
          "(Totale ",
          "(Всего ",
          "(合計",
          "(합계"][_lang] + _figureCount + ["张) ",
              "張) ",
              ") ",
              ") ",
              ") ",
              "張) ",
              "장) "][_lang];
  var boldColor = _darkTheme ? $("mdx-color-bold-dark").css("color") : $("mdx-color-bold-light").css("color");
  // if (_figTitle.length > 0)
  title += "<strong>" + $("[id=fig-num" + _figIndex + "]").contents().filter(
      function (index, content) { return content.nodeType === 3; }).text() + "</strong>";
  pageNum.css("width", (viewer.width()) - 60);
  pageNum.html(title);

  // 更新导航按钮位置
  btnPrev.css("top", (viewer.height() - 30) / 2);
  btnNext.css({
      "top": btnPrev.css("top"),
      "right": "10px"
  });

  // 根据当前插图索引更新浏览按钮有效状态
  btnPrev.css("opacity", "0");
  // btnPrev.css("pointer-events", "none"); // 忽略点击事件
  btnNext.css("opacity", "0");
  // btnNext.css("pointer-events", "none"); // 忽略点击事件
  if (_figIndex > 0) {
      btnPrev.css("opacity", "1");
      // btnPrev.css("pointer-events", "auto"); // 恢复点击事件
  }
  if (_figIndex < _figureCount - 1) {
      btnNext.css("opacity", "1");
      // btnNext.css("pointer-events", "auto"); // 恢复点击事件
  }
}
/**
 * 通过插图浏览器中转到文档插图位置
 **/
function gotoFigure() {
    $(".mdx-figure-content").click(function() {
        window.location.href = "#fig-idx" + _figIndex;
        hideFigureViewer();
    });
}
/**
 * 初始化UI国际化内容
 **/
function initUIi18n() {
    // 获得浏览器语言设置
    var baseLang = browser.language.substring(0, 2);
    var subLang = browser.language.substring(3, browser.language.length);

    switch (baseLang) {
        case "zh":
          _lang = 1; // 繁体中文
          if (subLang == "cn" || subLang == "chs")
              _lang = 0; // 简体中文
          break;
        case "en": _lang = 2; break; // 英
        case "fr": _lang = 3; break; // 法
        case "ru": _lang = 4; break; // 俄
        case "ja": _lang = 5; break; // 日
        case "ko": _lang = 6; break; // 韩
        default: _lang = 2; // 英
    }

    $(".mdx-toc-box-title").attr("title", ["查看文档封面",
        "查看文檔封面",
        "View Document Cover",
        "Voir la couverture du document",
        "Просмотреть обложку документа",
        "ドキュメントカバーを表示する",
        "문서 표지보기"][_lang]);

    $(".mdx-outline").attr("tips", ["<kbd>O</kbd> 隐藏/显示大纲面板)",
        "<kbd>O</kbd> 隱藏/顯示大綱面板",
        "<kbd>O</kbd> Hide/Show Outline Panel",
        "<kbd>O</kbd> Cacher / Afficher le panneau de contour",
        "<kbd>O</kbd> Скрыть / показать панель",
        "<kbd>O</kbd> アウトラインパネルの非表示/表示",
        "<kbd>O</kbd> 개요 패널 숨기기 / 표시"][_lang]);

    $(".mdx-nav-back").attr("tips", ["后退",
        "後退",
        "Go back",
        "Retourner",
        "Возвращаться",
        "戻る",
        "돌아 가기)"][_lang]);

    $(".mdx-nav-forward").attr("tips", ["前进",
        "前進",
        "Go forward",
        "Aller de l'avant",
        "Иди вперед",
        "前進する",
        "앞으로 이동"][_lang]);

    $(".mdx-fullscreen").attr("tips", ["<kbd>F</kbd> 切换全屏",
        "<kbd>F</kbd> 切換全屏",
        "<kbd>F</kbd> Toggle Fullscreen",
        "<kbd>F</kbd> Changer en plein écran",
        "<kbd>F</kbd> Переключить полный экран",
        "<kbd>F</kbd> フルスクリーンに切り替える",
        "<kbd>F</kbd> 전체 화면 전환"][_lang]);

    $(".mdx-theme-exchange").attr("tips", ["<kbd>T</kbd> 切换 黑暗/明亮 模式",
        "<kbd>T</kbd> 切換 黑暗/明亮 模式",
        "<kbd>T</kbd> Switch Dark/Light Mode",
        "<kbd>T</kbd> Basculer en mode sombre / clair",
        "<kbd>T</kbd> Переключить темный / светлый режим",
        "<kbd>T</kbd> ダーク/ライトモードの切り替え",
        "<kbd>T</kbd> 다크 / 라이트 모드 전환"][_lang]);

    $(".mdx-font-exchange").attr("tips", ["<kbd>A</kbd> 切换字体风格",
        "<kbd>A</kbd> 切換字體風格",
        "<kbd>A</kbd> Switch Font Style",
        "<kbd>A</kbd> Changer de style de police",
        "<kbd>A</kbd> Переключить стиль шрифта",
        "<kbd>A</kbd> フォントスタイルの切り替え",
        "<kbd>A</kbd> 글꼴 스타일 전환"][_lang]);

    $(".mdx-figure-launcher").attr("tips", ["<kbd>I</kbd> 查看文档插图",
        "查看文檔插圖",
        "<kbd>I</kbd> View Document Figures",
        "<kbd>I</kbd> Afficher l'illustration du document",
        "<kbd>I</kbd> Просмотр иллюстрации документа",
        "<kbd>I</kbd> ドキュメントの図を表示",
        "<kbd>I</kbd> 문서 그림보기"][_lang]);

    $(".mdx-spotlight-switch").attr("tips", ["<kbd>S</kbd> 或 <kbd>双击文档</kbd> 打开/关闭聚光灯",
        "<kbd>S</kbd> 或 <strong>雙擊文檔</strong>　打開/關閉聚光燈",
        "<kbd>S</kbd> or <strong>Double-Click the document</strong> Turn the spotlight ON/OFF",
        "<kbd>S</kbd> ou <strong>Double-Cliquer sur le document</strong> Allumer/éteindre le projecteur",
        "<kbd>S</kbd> или <strong>дважды щелкните документ</strong> Включите/выключите прожектор",
        "<kbd>S</kbd> または <strong>文書をダブルクリック</strong> スポットライトをオン/オフにする",
        "<kbd>S</kbd> 또는 <strong>문서를 두 번 클릭하십시오</strong>　스포트라이트 켜기 / 끄기 (S, 또는 문서를 두 번 클릭)"][_lang]);

    $(".mdx-print").attr("tips", ["<kbd>P</kbd> 打印...",
        "<kbd>P</kbd> 打印...",
        "<kbd>P</kbd> Print...",
        "<kbd>P</kbd> Imprimer...",
        "<kbd>P</kbd> Печать...",
        "<kbd>P</kbd> 印刷する...",
        "<kbd>P</kbd> 인쇄..."][_lang]);

    $(".mdx-nav-prev").attr("tips", ["<kbd>←</kbd> 前一章节",
        "<kbd>←</kbd> 前一章節",
        "<kbd>←</kbd> Previous Chapter",
        "<kbd>←</kbd> Chapitre Précédent",
        "<kbd>←</kbd> Предыдущая глава",
        "<kbd>←</kbd> 前の章",
        "<kbd>←</kbd> 이전 장"][_lang]);

    $(".mdx-nav-next").attr("tips", ["<kbd>→</kbd> 后一章节",
        "<kbd>→</kbd> 後一章節",
        "<kbd>→</kbd> Next Chapter",
        "<kbd>→</kbd> Chapitre Suivant",
        "<kbd>→</kbd> Следующая глава",
        "<kbd>→</kbd> 次の章",
        "<kbd>→</kbd> 다음 장"][_lang]);

    $(".mdx-bread-nav-text").attr("tips", ["回到本章节的开始",
        "回到本章節的開始",
        "Go back to the beginning of this chapter",
        "Retourner au début de ce chapitre",
        "Вернитесь к началу этой главы",
        "この章の始めに戻る",
        "이 장의 시작 부분으로 돌아 가기"][_lang]);

    $(".mdx-figure-viewer-prev").attr("title", ["前一张 (←)",
        "前一張 (←)",
        "Previous (←)",
        "Précédent (←)",
        "Предыдущая фотографияs (←)",
        "前へ (←)",
        "이전 (←)"][_lang]);

    $(".mdx-figure-viewer-next").attr("title", ["后一张 (→)",
        "後一張 (→)",
        "Next (→)",
        "Le suivant (→)",
        "Следующий (→)",
        "次の (→)",
        "다음 (→)"][_lang]);

    $(".mdx-figure-viewer-close").attr("title", ["关闭 (I)",
        "關閉 (I)",
        "Close (I)",
        "Fermer (I)",
        "близко (I)",
        "閉じる (I)",
        "닫기 (I)"][_lang]);

    $(".mdx-footer-note-toolbar a").text(["查看所有脚注 ▶",
        "查看所有腳註 ▶",
        "View all footnotes ▶",
        "Afficher toutes les notes de bas de page ▶",
        "Просмотреть все сноски ▶",
        "すべての脚注を見る ▶",
        "모든 각주보기 ▶"][_lang]);

    $(".mdx-figure-action").attr("title", ["在新标签页中打开",
        "在新標籤頁中打開",
        "Open in new tab",
        "Ouvrir dans un nouvel onglet",
        "Открыть в новой вкладке",
        "新しいタブで開く",
        "새 탭에서 열기"][_lang]);
}
/**
 * 根据设备类型自适应hover样式
 **/
function adjustHoverStyle() {
  // 移动设备时解绑样式事件
  if (browser.device.mobile) {
      $(".mdx-btn, .mdx-btn2, .mdx-nav-prev, .mdx-nav-next").unbind("mouseenter").unbind("mouseleave");
  }
  // 非移动设备时绑定样式事件
  else {
      // 按钮
      $(".mdx-btn").bind("mouseenter", function() {
          $(this).addClass("mdx-btn-hover");
      }).bind("mouseleave", function() {
          $(this).removeClass("mdx-btn-hover");
          $(this).addClass("mdx-btn-leave");
      });
      $(".mdx-btn2").bind("mouseenter", function() {
          $(this).addClass("mdx-btn2-hover");
      }).bind("mouseleave", function() {
          $(this).removeClass("mdx-btn2-hover");
          $(this).addClass("mdx-btn2-leave");
      });

      // 面包屑导航：前一章
      $(".mdx-nav-prev").bind("mouseenter", function() {
          $(this).addClass("mdx-nav-prev-hover");
      }).bind("mouseleave", function() {
          $(this).removeClass("mdx-nav-prev-hover");
      });

      // 面包屑导航：后一章
      $(".mdx-nav-next").bind("mouseenter", function() {
          $(this).addClass("mdx-nav-next-hover");
      }).bind("mouseleave", function() {
          $(this).removeClass("mdx-nav-next-hover");
      });
  }
}
/**
 * 浏览器信息类
 **/
var browser = {
  device: function() {
      var u = navigator.userAgent, app = navigator.appVersion;
      // 浏览器版本信息
      return {
          trident: u.indexOf("Trident") > -1, //IE内核
          presto: u.indexOf("Presto") > -1, //opera内核
          webKit: u.indexOf("AppleWebKit") > -1, //苹果、谷歌内核
          gecko: u.indexOf("Gecko") > -1 && u.indexOf("KHTML") == -1, //火狐内核
          chrome: u.indexOf("Chrome") > -1, // chrome浏览器
          firefox: u.indexOf("Firefox") > -1, // chrome浏览器
          safari: u.indexOf("Safari") > -1, // chrome浏览器
          mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
          ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
          android: u.indexOf("Android") > -1 || u.indexOf("Linux") > -1, //android终端或者uc浏览器
          iPhone: u.indexOf("iPhone") > -1 , //是否为iPhone或者QQHD浏览器
          iPad: u.indexOf("iPad") > -1, //是否iPad
          webApp: u.indexOf("Safari") == -1 //是否web应该程序，没有头部与底部
      };
  }(),
  language: (navigator.browserLanguage || navigator.language).toLowerCase()
}
/**
 * 显示浏览器相关信息
 **/
function displayBrowserInfo() {
  console.log("语言版本: " + browser.language);
  console.log("是否为移动终端: " + browser.device.mobile);
  console.log("是否iOS终端: " + browser.device.ios);
  console.log("是否为Android终端: " + browser.device.android);
  console.log("是否为iPhone: " + browser.device.iPhone);
  console.log("是否iPad: " + browser.device.iPad);
  console.log(navigator.userAgent);
}
/**
 * 初始化引用块以实现折叠支持
 **/
function initBlockquote() {
  $("blockquote > p").each(function(i, n) {
      var obj = $(n);
      // 默认收起
      if (obj.text().startWith("[+] ")) {
          obj.next("blockquote").css("display", "none");
          obj.html(obj.html().replace("[+] ", "▶ "));
          obj.attr("title", ["点击展开",
              "點擊展開",
              "Click to unfold",
              "Cliquez pour agrandir",
              "Нажмите, чтобы развернуть",
              "クリックして拡大",
              "확대하려면 클릭하십시오."][_lang]);
          obj.addClass("mdx-blockquote-folder");
          obj.css("cursor", "pointer");
          obj.click(function() {
              toggleFoldingQuote($(this));
          });
      }
      // 默认展开
      else if (obj.text().startWith("[-] ")) {
          obj.html(obj.html().replace("[-] ", "▼ "));
          obj.attr("title", ["点击收起",
              "點擊收起",
              "Click to fold",
              "Cliquez pour fermer",
              "Нажмите, чтобы закрыть",
              "閉じる",
              "닫기를 클릭하십시오"][_lang]);
          obj.addClass("mdx-blockquote-folder");
          obj.css("cursor", "pointer");
          obj.click(function() {
              toggleFoldingQuote($(this));
          });
      }
  });
}
/**
 * 展开/收起引用块
 **/
function toggleFoldingQuote(obj) {
  var quote = obj.next("blockquote");
  if (quote.css("display") == "block") {
      quote.css("display", "none");
      obj.attr("title", ["点击展开",
          "點擊展開",
          "Click to unfold",
          "Cliquez pour agrandir",
          "Нажмите, чтобы развернуть",
          "クリックして拡大",
          "확대하려면 클릭하십시오."][_lang]);
      obj.html(obj.html().replace("▼ ", "▶ "));
  }
  else {
      quote.css("display", "block");
      obj.attr("title", ["点击收起",
          "點擊收起",
          "Click to fold",
          "Cliquez pour fermer",
          "Нажмите, чтобы закрыть",
          "閉じる",
          "닫기를 클릭하십시오"][_lang]);
      obj.html(obj.html().replace("▶ ", "▼ "));
  }
}
/**
 * 初始化外部链接（http://、https://、ftp://等），为其添加target参数
 **/
function initExtLink() {
  $("a[href^='http']").each(function() {
      if (!$(this).attr("target"))
          $(this).attr("target", "_blank");
  });
  $("a[href^='ftp']").each(function() {
      if (!$(this).attr("target"))
          $(this).attr("target", "_blank");
  });
}
/**
 * 显示/隐藏大纲面板
 **/
function toggleOutline() {
  if (isOutlineShowed())
      hideOutline();
  else
      showOutline();
}
/**
 * 显示outline
 **/
function showOutline() {
  _outlineShowed = true;
  var toc = $(".mdx-toc-box");
  if (isOutlineShowed() && parseInt($(".mdx-toc-box").css("left")) < 0) {
      // 显示大纲工具栏
      toc.addClass("mdx-float-card");
      toc.animate({ left: 10 + _reboundOffset }, _animateSpeed).
      animate({ left: 10 }, _animateSpeed);

      // 自适应调整正文内容区
      adjustContent();
      adjustBreadNav();

      // 显示遮罩
      showMask(toc, hideOutline);
  }
}
/**
 * 隐藏大纲
 **/
function hideOutline() {
    _outlineShowed = false;
    var toc = $(".mdx-toc-box");
    var tocBoxWidth = toc.width();
    if (!isOutlineShowed() && parseInt($(".mdx-toc-box").css("left")) > 0) {
        toc.animate({ left: -tocBoxWidth }, _animateSpeed, function() {
          toc.removeClass("mdx-float-card");
        });

        // 自适应调整正文内容区
        adjustContent();
        hideMask();
    }

    // 显示工具栏新手提示：插图浏览器
    // if (window.localStorage && localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-t2"] == undefined) {
    //     hintWithShake($(".mdx-figure-launcher"), 1, 10);
    //     localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-t2"] = true;
    // }
}
/**
 * 隐藏遮罩
 **/
function hideMask() {
    var mask = $(".mdx-toc-mask");
    mask.off("click");
    mask.fadeOut(_animateSpeed);
    $("#write, .mdx-toolbar, .mdx-bread-nav").css({ "filter": "none" });

    $("body").css({
        "user-select": "text", // 恢复网页选择
        "overflow": "auto" // 恢复网页滚动
    });
}
/**
 * 自适应调整正文内容区
 **/
function adjustContent() {
    $("#write").animate({ marginLeft: 0 }, _animateSpeed);
}
/**
 * 根据实际目录结构初始化大纲折叠控件folder
 **/
function initFolderButton() {
  var folder = null;
  for (var i = 0; i < _foldItem.length; i++) {
      folder = _foldItem[i].html(_icoUnfold);
      folder.parent().attr({
          "data-node": "1", // 0:leaf, 1:folder
          "data-folding": "1" // 0:collect, 1:expand
      });
      folder.click(function() {
          foldingChapter($(this).parent().attr("id"));
          event.cancelBubble = true;
      });
  }
}
/**
 * 更新非叶子结点的父结点信息（未实现）
 **/
function updateFolderParentAttr() {
  var parents = [];
  parents.push(_foldItem[0]);
  var parentNode = _foldItem[0];
  var lastNode = parentNode;
  for (var i = 1; i < _foldItem.length; i++) {
      var hd1 = getCSSHeaderLevel(_foldItem[i]);
      var hd2 = getCSSHeaderLevel(lastNode);
      if (hd1 < hd2) {
          parentNode = _foldItem[i];
          _foldItem[i].attr("data-parent", parentNode.attr("id"));
      } else(hd1 > hd2);
      parentNode = _foldItem[i];
  }
}
/**
 * 页面滚动时高亮outline中的对应章节项
 **/
function followHeader() {
  var sTop = $("#toc-box-body").scrollTop();
  var sBottom = sTop + $("#toc-box-body").height();
  var currentIndex = -1;

  // 寻找当前屏幕显示的章节
  for (var i = 0; i < _headers.length; i++) {
      var obj = $("a[name='" + _headers[i] + "']");
      var headerHeight = obj.parent().height();
      /* console.log($("#oli-" + _headers[i]).text() + ": " + $(document).scrollTop() + ", " + hotArea); */
      if ((obj.offset().top - $(document).scrollTop()) > (headerHeight / 2)) { // 当前章节标题已滚过了屏幕顶部
          currentIndex = i;
          break;
      }
  }

  // 当前章节未变更
  if (_lastCurrentIndex == currentIndex)
      return;

  _lastCurrentIndex = currentIndex;
  // 当前屏幕内容为第1章或以后章节的内容
  if (currentIndex > 0 || // 非最后章节
      (currentIndex == -1 && _headers.length > 1)) { // 最后章节
      // 根据是否为最后章节修正当前章节索引
      currentIndex = currentIndex > 0 ? (currentIndex - 1) : (_headers.length - 1);

      // 清除大纲中上一次当前章节的样式
      if (_lastOutlineItem != null) {
          _lastOutlineItem.removeClass("mdx-header-current");
          _lastOutlineItem.removeClass("mdx-header-current-dark");
      }

      _lastOutlineItem = $("#oli-" + _headers[currentIndex]);
      _lastOutlineItem.addClass(_darkTheme ? "mdx-header-current-dark" : "mdx-header-current");
      var preDis = _lastOutlineItem.height() * 2;
      if (_lastOutlineItem.position().top < sTop)
          $("#toc-box-body").scrollTop(_lastOutlineItem.position().top);
      else if (_lastOutlineItem.position().top > (sBottom - preDis))
          $("#toc-box-body").scrollTop(_lastOutlineItem.position().top - $("#toc-box-body").height() + preDis);

      // 更新面包屑导航UI及数据
      updateBreadNav(currentIndex);

      // 显示面包屑导航
      showBreadNav();
  }
  else {
      // 隐藏面包屑导航
      hideBreadNav();
  }
}
/**
 * 更新面包屑导航UI及数据
 **/
function updateBreadNav(currentIndex) {
  // 更新导航栏内容
  var navText = $(".mdx-bread-nav-text");
  navText.text(_lastOutlineItem.text());
  navText.attr("data-anchor", _headers[currentIndex]);
  navText.click(function() {
      gotoHeader($(this));
  });

  // 面包屑导航：上一章
  var prev = $(".mdx-nav-prev");
  var prevText = $(".mdx-nav-prev-text");
  if (currentIndex > 0) {
      prev.css("display", "block");
      prevText.text($("#oli-" + _headers[currentIndex - 1]).text().trim());
      prevText.attr({
          "title": prevText.text(),
          "data-anchor": _headers[currentIndex - 1]
      });
  }
  else { // 当前章节为第1章时特殊处理
      prevText.text(["封面",
          "封面",
          "Cover",
          "Couverture",
          "передняя крышка",
          "カバー",
          "표지"][_lang]);
      prevText.attr({
          "title": prevText.text(),
          "data-anchor": "cover"
      });
  }

  // 面包屑导航：下一章
  var next = $(".mdx-nav-next");
  var nextText = $(".mdx-nav-next-text");
  if (currentIndex < _headers.length - 1) {
      next.css("display", "block");
      nextText.text($("#oli-" + _headers[currentIndex + 1]).text().trim());
      nextText.attr({
          "title": $(".mdx-nav-next-text").text(),
          "data-anchor": _headers[currentIndex + 1]
      });
  }
  else
      next.css("display", "none");
}
/**
 * 显示工具提示信息
 **/
function showToolTips(obj, msg, follow, align) {
    if (browser.device.mobile)
        return;

    obj.html(msg);
    var ow = obj.width();
    var ww = $(window).width();
    var left = follow.offset().left;
    obj.css({
        "border-top-left-radius": "0px",
        "border-top-right-radius": "15px"
    });

    if (align != null || (follow.offset().left + ow) > ww) {
        // align: right
        obj.css({
            "border-top-left-radius": "15px",
            "border-top-right-radius": "0px"
        });
        left = follow.offset().left - ow + follow.width();

        // align: center
        if (align == "center") {
            left = follow.offset().left + (follow.width() - ow) / 2;
            obj.css({
                "border-top-left-radius": "15px",
                "border-top-right-radius": "15px"
            });
        }
    }

    var fp = follow.parent();
    obj.css({
        "left": left,
        "top": fp.offset().top - $(document).scrollTop() + fp.height()
            + (fp.css("background-color") == "rgba(0, 0, 0, 0)" ? 0 : 10)
    });
    obj.fadeIn(_animateSpeed);

    // $("#write").css({ "filter": "blur(3px)" });
}
/**
 * 显示通知提示信息
 **/
function showInfoTips(obj, msg, delay) {
    clearTimeout(_tipsTimer);

    obj.html(msg);
    var ow = obj.width();
    var ww = $(window).width();
    obj.css({
        "left": (ww - ow) / 2,
        "top": ($(window).height() - obj.height()) / 2
    });
    obj.fadeIn(_animateSpeed);

    if (delay != null)
        _tipsTimer = setTimeout(function() {
            hideTips(obj, true);
        }, delay);

    // $("#write, .mdx-toolbar, .mdx-bread-nav").css({ "filter": "blur(3px)" });
}
/**
 * 隐藏提示信息
 **/
function hideTips(obj, ani) {
    if (ani == true)
        obj.fadeOut(_animateSpeed);
    else
        obj.hide();

    if (obj.attr("class").indexOf("mdx-info-tips") > -1)
        $("#write, .mdx-toolbar, .mdx-bread-nav").css({ "filter": "none" });
}
/**
 * 显示面包屑导航
 **/
function showBreadNav() {
    var nav = $(".mdx-bread-nav");
    // 若已显示则跳过
    if (parseInt(nav.css("top")) >= 0)
        return;

    adjustToolbar();

    nav.addClass("mdx-float-card");
    nav.animate({ top: 0}, _animateSpeed);

    // 同步处理工具栏
    var tb = $(".mdx-toolbar");
    // tb.animate({ top: 0 }, _animateSpeed);
    if (isSmallScreen())
        tb.animate({ top: 50 }, _animateSpeed);
    else
        tb.animate({ top: 0 }, _animateSpeed);

    // 显示新手提示：面包屑导航
    // if (window.localStorage && localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-bn"] == undefined) {
    //   hintWithShake($(".mdx-nav-prev"), 3, 10);
    //   hintWithShake($(".mdx-nav-next"), 4, 10);
    //   localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-bn"] = true;
    // }
}
/**
 * 隐藏面包屑导航
 **/
function hideBreadNav() {
    var nav = $(".mdx-bread-nav");
    if (parseInt(nav.css("top")) < 0)
        return;

    // 隐藏面包屑导航条
    nav.removeClass("mdx-float-card");
    nav.animate({ top: -50 }, _animateSpeed, function() {
        adjustToolbar();
    });
}
/**
 * 跳转至指定章节
 **/
function gotoHeader(obj) {
  var dataAnchor = obj.attr("data-anchor");
  if (dataAnchor == "cover")
      gotoTop();
  else
      window.location.href = "#" + obj.attr("data-anchor");
}
/**
 * 跳转至封面
 **/
function gotoTop() {
  $(window).scrollTop(0);
  if (_lastOutlineItem != null) {
      _lastOutlineItem.removeClass("mdx-header-current");
      _lastOutlineItem.removeClass("mdx-header-current-dark");
      _lastCurrentIndex = -2;
  }
}
/**
 * 跳转至脚注区域
 **/
function gotoFooterArea() {
  // hideFooterNote();
  window.location.href = "#xFooterArea";
}
/**
 * 返回上一个位置
 **/
function navBack() {
  window.history.back();
}
/**
 * 前去下一个位置
 **/
function navForward() {
  window.history.forward();
}
/**
 * 将image转换为base64
 **/
function getBase64Image(img) {
    var canvas = document.createElement("canvas");
    canvas.width = img.width;
    canvas.height = img.height;
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, img.width, img.height);
    var ext = img.src.substring(img.src.lastIndexOf(".")+1).toLowerCase();
    var dataURL = canvas.toDataURL("image/"+ext);
    return dataURL;
}
/**
 * 将HTML文件及图片资源保存为单一文件
 **/
function saveToUniFile() {
    $("img").each(function() {
        var src = $(this).attr("src");
        if (src.indexOf("http") == -1) {
            var image = new Image();
            // image.setAttribute('crossOrigin', 'anonymous');
            image.crossOrigin = 'Anonymous';
            image.src = src;
            // console.log(image.src);
            image.onload = function () {
                var canvas = document.createElement("canvas");
                var ctx = canvas.getContext("2d");
                ctx.drawImage(image, 0, 0);
                var ext = img.src.substring(img.src.lastIndexOf(".") + 1).toLowerCase();
                var base64 = canvas.toDataURL("image/" + ext);
                // console.log(base64);
            };
        }
    });
}
/**
 * 自适应显示工具栏
 **/
function adjustToolbar() {
    var tb = $(".mdx-toolbar");
    if (isFullscreen()) {
        $(".mdx-nav-back").css("visibility", "visible");
        $(".mdx-nav-forward").css("visibility", "visible");
    }
    else {
        $(".mdx-nav-back").css("visibility", "hidden");
        $(".mdx-nav-forward").css("visibility", "hidden");
    }

    // 如果是小屏，或回到封面位置（面包屑已隐藏）
    if (isSmallScreen() || _lastCurrentIndex == 0) {
        $(".mdx-toolbar > div").addClass("mdx-float-card");

        tb.css({background: "none"});
        tb.removeClass("mdx-float-card");
        tb.animate({
            top: 50,
            right: 10,
            width: $("#write").width() - 20
        }, _animateSpeed);

        if (_lastCurrentIndex == 0) // 如果回到封面位置（面包屑已隐藏），则进行二次调整
            tb.animate({ top: 10}, _animateSpeed);
    }
    else {
        $(".mdx-toolbar > div").removeClass("mdx-float-card");

        // var themeBgColor = _darkTheme ? $(".mdx-color-theme-bg-dark").css("color") : $(".mdx-color-theme-bg").css("color");
        tb.css("background-color", $(".mdx-bread-nav").css("background-color"));
        tb.addClass("mdx-float-card");
        tb.animate({
            top: 0,
            right: "auto",
            width: 350
        }, _animateSpeed);
    }

    $(".mdx-fullscreen").css("visibility", "visible");
    if (browser.device.mobile)
        $(".mdx-fullscreen").css("visibility", "hidden");
}
/**
 * 判断是否为小屏
 **/
function isSmallScreen() {
  return $(window).width() < _smallScreenWidth;
}
/**
 * 面包屑导航自适应显示
 **/
function adjustBreadNav() {
  var prev = $(".mdx-nav-prev");
  var prevText = $(".mdx-nav-prev-text");
  var next = $(".mdx-nav-next");
  var nextText = $(".mdx-nav-next-text");
  var nav = $(".mdx-bread-nav");
  var navText = $(".mdx-bread-nav-text");

  // 根据屏幕宽度显示/隐藏上下章节标题
  if (isSmallScreen()) {
      nav.css({ left: 10 });

      prevText.hide();
      nextText.hide();
      prev.css("width", "20%");
      next.css("width", "20%");

      // 调整面包屑导航样式
      navText.css({
          "margin-left": "40px",
          "margin-right": "40px"
      });
  }
  else {
      nav.css({left: 350 + 30});

      prevText.show();
      nextText.show();
      prev.css("width", "25%");
      next.css("width", "25%");

      // 调整面包屑导航样式
      navText.css({
          "margin-left": "200px",
          "margin-right": "200px"
      });
  }
}
/**
 * 收起/展开章节目录
* @param id 对象的id值
 **/
function foldingChapter(id) {
  var obj = $("#" + id);
  var folder = $("#fd-" + id);
  var folding = obj.attr("data-folding");
  if (folding == "0") {
      obj.attr("data-folding", "1");
      folder.html(_icoUnfold);
      disposeFolding(id, 1, true);
  } else if (folding == "1") {
      obj.attr("data-folding", "0");
      folder.html(_icoFold);
      disposeFolding(id, 0, true);
  }
}
/**
 * 处理展开或收起指定ID下的子章节
* @param id 对象的id值
* @param act 动作：0=收起，1=展开
* @param recu 是否遍历子元素
 **/
function disposeFolding(id, act, recu) {
  var lastItem = null;
  var itemSet = $("#" + id).nextAll();
  for (var i = 0; i < itemSet.length; i++) {
      var item = $(itemSet[i]);
      if (lastItem != null) {
          var hd1 = getCSSHeaderLevel(item);
          var hd2 = getCSSHeaderLevel(lastItem);
          if (hd1 > hd2) continue;
          else if (hd1 < hd2) break;
      }
      // 如果是目录节点，同时是已展开的，才进行递归调用展开子节点
      if (recu == true && item.attr("data-node") == "1" && item.attr("data-folding") == "1") {
          disposeFolding(item.attr("id"), act, recu);
      }
      if (act == 0) // 收起
          item.css("display", "none");
      else if (act == 1) // 展开
          item.css("display", "block");
      lastItem = item;
  }
}
/**
 * 返回指定对象的CSS的header的样式层级
 **/
function getCSSHeaderLevel(obj) {
  var cname = obj.attr("class");
  return cname.substr(cname.indexOf("md-toc-h") + "md-toc-h".length, 1)
}
/**
 * 新手提示：向左抖动。@direct 1:top，2:bottom, 3:left, 4:right
 **/
function hintWithShake(obj, direct, step) {
    var org = 0;
    var speed = 400;

    if (obj.attr("data-hinted") == "true")
        return;

    switch(direct) {
        case 1:
            org = parseInt(obj.css("margin-top"));
            obj.animate({ marginTop: org - step }, speed)
                .animate({ marginTop: org + step }, speed)
                .animate({ marginTop: org - step }, speed)
                .animate({ marginTop: org + step }, speed)
                .animate({ marginTop: org - step }, speed)
                .animate({ marginTop: org + step }, speed, function() {
                obj.attr("data-hinted", "true");
                obj.animate( {marginTop: org }, speed);
            });
            break;
        case 2:
            org = parseInt(obj.css("margin-bottom"));
            obj.animate({ marginBottom: org - step }, speed)
                .animate({ marginBottom: org + step }, speed)
                .animate({ marginBottom: org - step }, speed)
                .animate({ marginBottom: org + step }, speed)
                .animate({ marginBottom: org - step }, speed)
                .animate({ marginBottom: org + step }, speed, function() {
                    obj.attr("data-hinted", "true");
                    obj.animate( {marginBottom: org }, speed);
                });
            break;
        case 3:
            org = parseInt(obj.css("margin-left"));
            obj.animate({ marginLeft: org - step }, speed)
                .animate({ marginLeft: org + step }, speed)
                .animate({ marginLeft: org - step }, speed)
                .animate({ marginLeft: org + step }, speed)
                .animate({ marginLeft: org - step }, speed)
                .animate({ marginLeft: org + step }, speed, function() {
                    obj.attr("data-hinted", "true");
                    obj.animate( {marginLeft: org }, speed);
                });
            break;
        case 4:
            org = parseInt(obj.css("margin-right"));
            obj.animate({ marginRight: org - step }, speed)
                .animate({ marginRight: org + step }, speed)
                .animate({ marginRight: org - step }, speed)
                .animate({ marginRight: org + step }, speed)
                .animate({ marginRight: org - step }, speed)
                .animate({ marginRight: org + step }, speed, function() {
                    obj.attr("data-hinted", "true");
                    obj.animate( {marginRight: org }, speed);
                });
            break;
    }
}
/**
 * 指定某节点后向上逐层展开（未实现）
* @param id 对象的id值
 **/
function expandBubble(id) {
  var expandParent = [];
  for (var i = 0; i < itemSet.length; i++) {
      if (itemSet[i].attr("class")) expandParent.push(itemSet.attr("id"));
  }
  var lastItem = null;
  var itemSet = $("#" + id).prevAll();
  for (var i = (itemSet.length - 1); i >= 0; i--) {
      var item = $(itemSet[i]);
      for (var k = 0; k < expandParent.length; k--) {
          if (expandParent[k] == item.attr("id")) {
              item.attr("data-folding", "1");
              break;
          }
      }
      if (item.attr("data-node") == "1" && item.attr("data-folding") == "1") {
          $("#fd-" + item.attr("id")).html(_icoUnfold);
          disposeFolding(item.attr("id"), 1, true);
      }
      item.css("display", "block");
      lastItem = item;
  }
}
/**
 * 更新任务列表的勾选框样式
 **/
function restyleTaskListCheckbox() {
  var obj = $(".md-task-list-item > input:disabled");
  obj.removeAttr("disabled");
  obj.css("pointer-events", "none");
}
/**
 * 更新指定内容的code标记样式
 **/
function restyleCode() {
  // 更新指定内容的<code>标签样式
  $("code").each(function() {
      // 将非英文竖线替换为半角
      if ($(this).text().length > 2) {
          $(this).text($(this).text().replaceAll("｜｜｜｜｜｜", " |||||| "));
          $(this).text($(this).text().replaceAll("｜｜｜｜｜", " ||||| "));
          $(this).text($(this).text().replaceAll("｜｜｜｜", " |||| "));
          $(this).text($(this).text().replaceAll("｜｜｜", " ||| "));
          $(this).text($(this).text().replaceAll("｜｜", " || "));
          $(this).text($(this).text().replaceAll("｜", " | "));
          $(this).text($(this).text().replaceAll("丨丨丨丨丨丨", " |||||| "));
          $(this).text($(this).text().replaceAll("丨丨丨丨丨", " ||||| "));
          $(this).text($(this).text().replaceAll("丨丨丨丨", " |||| "));
          $(this).text($(this).text().replaceAll("丨丨丨", " ||| "));
          $(this).text($(this).text().replaceAll("丨丨", " || "));
          $(this).text($(this).text().replaceAll("丨", " | "));
      }

      // ========== 药丸样式 ==========
      var codeText = $(this).text();
      // 新语法（风格2）
      var codeTags = new Array("==", "++", "**", "--", "!!", "##");
      var flag = false;
      for (var i=0; i<codeTags.length; i++) {
          var si = codeText.indexOf(" | ");
          if (codeText.length > 7
              && codeText.startWith(codeTags[i] + " ")
              && codeText.endWith(" " + codeTags[i])
              && si > 2) {
              rebuildSegmentCode2($(this), codeTags[i] + " ", si, "", i+1);
              flag = true;
              break;
          }
      }
      // 新语法（风格1）
      if (flag == true) return;
      codeTags = new Array("=", "+", "*", "-", "!", "#");
      // flag = false;
      for (var i=0; i<codeTags.length; i++) {
          var si = codeText.indexOf(" | ");
          if (codeText.length > 5
              && codeText.startWith(codeTags[i] + " ")
              && codeText.endWith(" " + codeTags[i])
              && si > 1) {
              rebuildSegmentCode2($(this), codeTags[i] + " ", si, "", i+1);
              flag = true;
              break;
          }
      }

      // ========== 标签式 ==========
      codeText = $(this).text();
      // 新语法（风格2）
      codeTags = new Array("==", "++", "**", "--", "!!", "##");
      // flag = false;
      for (var i=0; i<codeTags.length; i++) {
          if (codeText.length > 6 && codeText.startWith(codeTags[i] + " ") && codeText.endWith(" " + codeTags[i])) {
              rebuildCode2($(this), codeTags[i] + " ", "", i + 1);
              flag = true;
              break;
          }
      }
      // 新语法（风格1）
      if (flag == true) return;
      codeTags = new Array("=", "+", "*", "-", "!", "#");
      // flag = false;
      for (var i=0; i<codeTags.length; i++) {
          if (codeText.length > 4 && codeText.startWith(codeTags[i] + " ") && codeText.endWith(" " + codeTags[i])) {
              rebuildCode2($(this), codeTags[i] + " ", "", i + 1);
              flag = true;
              break;
          }
      }

      // ========== 药丸样式（旧语法）==========
      if (flag == true) return;
      codeTags = new Array(" | ", " || ", " ||| ", " |||| ", " ||||| ", " |||||| ");
      // flag = false;
      for (var i=5; i>=0; i--) {
          if (codeText.length > 5 && !codeText.startWith("`") && !codeText.endWith("`") && codeText.indexOf(codeTags[i]) > 0) {
              rebuildSegmentCode($(this), codeTags[i], i+1);
              flag = true;
              break;
          }
      }

      // 普通标签增加样式标识，以用于深色模式时的识别
      if (flag == true)
          return;
      $(this).addClass("mdx-std-code");
  });
}
/**
 * 替换所有内容
 **/
String.prototype.replaceAll = function(f,e){
  var reg = new RegExp(f, "g");
  return this.replace(reg, e);
}
/**
 * 以分类标签样式重新设置code的渲染样式（旧语法）
 **/
function rebuildCode(obj, split, flag, number) {
  var codeText = obj.text();
  var si = codeText.indexOf(split);
  obj.text(codeText.substring(si + split.length, codeText.length));
  obj.attr("class", "mdx-code-c" + number + flag);
}
/**
 * 以分类标签样式重新设置code的渲染样式（新语法）
 **/
function rebuildCode2(obj, split, flag, number) {
  var codeText = obj.text();
  var si = codeText.indexOf(split);
  obj.text(codeText.substring(si + split.length, codeText.length - split.length));
  obj.attr("class", "mdx-code-c" + number + flag);
}
/**
 * 以分类标签样式重新设置code block中指定内容的渲染样式（新语法）
 **/
function rebuildCodeFences(obj, split, flag, number) {
    var codeText = obj.text().substring(1, obj.text().length - 1);
    var si = codeText.indexOf(split);
    obj.text(codeText.substring(si + split.length, codeText.length - split.length));
    obj.attr("class", "mdx-code-c" + number + flag);
}
/**
 * 以药丸样式重建code标签结构与内容（旧语法）
 **/
function rebuildSegmentCode(obj, split, number) {
  var codeText = obj.text();
  var si = codeText.indexOf(split);
  obj.before("<code class='mdx-code-name" + number + "'>" + codeText.substr(0, si) + "</code>");
  obj.text(codeText.substr(si + split.length, codeText.length));
  obj.attr("class", "mdx-code-value" + number);
}
/**
 * 以药丸样式重建code标签结构与内容（新语法）
 **/
function rebuildSegmentCode2(obj, iden, si, flag, number) {
  var codeText = obj.text();
  obj.before("<code class='mdx-code-name" + number + flag + "'>" + codeText.substring(iden.length, si) + "</code>");
  obj.text(codeText.substring(si + 3, codeText.length - iden.length));
  obj.attr("class", "mdx-code-value" + number + flag);
}
/**
 * 更新指定内容的mermaid时序图的角色样式
 **/
function restyleMermaidStyle() {
  $(".md-diagram-panel svg[id^='mermaidChart'] > g > rect[class='actor']").each(function() {
      var textObj = $(this).next("text").children(); // actor rect object
      var person = /\@.*/g; // 人物
      var keySys = /\=.*\=/g; // 重点系统
      var extSys = /\-.*\-/g; // 外部系统

      // 更新<人物角色>样式
      if (person.test(textObj.text()) == true) {
          var h = $(this).height();
          $(this).css({
                  "rx": h / 2,
                  "ry": h / 2
          });
          textObj.text(textObj.text().substring(1, textObj.text().length));
      }
      // 更新 重点系统 样式
      else if (keySys.test(textObj.text()) == true) {
          $(this).css("stroke-width", "2"); // actor / rect
          textObj.css("font-weight", "bold"); // actor text
          textObj.text(textObj.text().substring(1, textObj.text().length - 1));
      }
      // 更新 外部系统 样式
      else if (extSys.test(textObj.text()) == true) {
          $(this).css("stroke-dasharray", "5 2"); // actor / rect
          textObj.text(textObj.text().substring(1, textObj.text().length - 1));
      }
  });

  // 更新loop/opt标签样式
  $(".md-diagram-panel svg g text[class='labelText'] > tspan").each(function() {
      var textObj = $(this);
      var g = textObj.parent().parent();
      // default opt
      var bgColor = $(".mdx-color-third-alt").css("color");
      var borderColor = $(".mdx-color-third-fade").css("color");
      var textColor = $(".mdx-color-third").css("color");
      if (textObj.text() == "loop") { // loop
          bgColor = $(".mdx-color-fourth-alt").css("color");
          borderColor = $(".mdx-color-fourth-fade").css("color");
          textColor = $(".mdx-color-fourth").css("color");
      }
      if (textObj.text() == "loop" || textObj.text() == "opt") {
          g.children("polygon.labelBox").css("fill", bgColor);
          g.children("line.loopLine").css("stroke", borderColor);
          g.children("text.labelText").css("fill", textColor);
          g.children("text.labelText").children("tspan").css("fill", textColor);
          g.children("text.loopText").children("tspan").css("fill", textColor);
      }
  });
}
/**
 * 更新多行代码块code block/fences样式
 * 主要处理三类情况：
 * 1. span包裹标准格式全部内容。如：`= sourcecode =`
 * 2. span分别包裹标准格式的不同部分。如：(`)(=) (sourcecode) (=)(`)
 * 3. span包裹标准格式及其他所有内容。如：sourcecode`= sourcecode =`sourcecode
 **/
function restyleCodeFences() {
    // $(".CodeMirror-line").each(function() {
    $("span[class^='cm-']").each(function() {
        var reg = /`[=|\+|\*|\-|\!|#] (([^`])+[a-z]|[A-Z]|[\S])+ [=|\+|\*|\-|\!|#]`/g;
        var codeTags = new Array("=", "+", "*", "-", "!", "#");
        var result = $(this).text().match(reg);
        if (result != null) {
            var codeText = $(this).text().substring(1, $(this).text().length - 1);
            // console.log(codeText);
            for (var i=0; i<codeTags.length; i++) {
                if (codeText.length > 4 && codeText.startWith(codeTags[i] + " ") && codeText.endWith(" " + codeTags[i])) {
                    rebuildCodeFences($(this), codeTags[i] + " ", "", i + 1);
                    // console.log($(this).text().substring(1, $(this).text().length - 1));
                    break;
                }
            }
        }
    });
}
/**
 * 初始化全屏
 **/
function initFullscreen() {
  document.addEventListener("fullscreenchange", function () {
      updateFullscreenUI();
  }, false);

  document.addEventListener("mozfullscreenchange", function () {
      updateFullscreenUI();
  }, false);

  document.addEventListener("webkitfullscreenchange", function () {
      updateFullscreenUI();
  }, false);

  document.addEventListener("msfullscreenchange", function () {
      updateFullscreenUI();
  }, false);
}
/**
 * 切换全屏显示
 **/
function toggleFullscreen() {
  if (isFullscreen())
      exitFullscreen();
  else
      startFullscreen();
  // updateFullscfreenUI();
}
/**
 * 是否已全屏
 **/
function isFullscreen() {
  return document.fullscreenEnabled || window.fullScreen || document.webkitIsFullScreen || document.msFullscreenEnabled;
}
/**
 * 更新全屏UI样式
 **/
function updateFullscreenUI() {
    if (isFullscreen()) {
        $(".mdx-fullscreen").html("<svg width='20px' height='18px'><use xlink:href='#icoExitFullscreen' class='mdx-svg-ico-light'/></svg>");

        //要执行的动作
        $(".mdx-nav-back, .mdx-nav-forward").css("visibility", "visible");
    }
    else {
        $(".mdx-fullscreen").html("<svg width='20px' height='18px'><use xlink:href='#icoStartFullscreen' class='mdx-svg-ico-light'/></svg>");
        $(".mdx-nav-back, .mdx-nav-forward").css("visibility", "hidden");
    }

    adjustBreadNav();
    adjustToolbar();
}
/**
 * 进入全屏
 **/
function startFullscreen() {
  var docElm = document.documentElement;
  //W3C
  if (docElm.requestFullscreen) {
      docElm.requestFullscreen();
  }
  //FireFox
  else if (docElm.mozRequestFullScreen) {
      docElm.mozRequestFullScreen();
  }
  //Chrome等
  else if (docElm.webkitRequestFullScreen) {
      docElm.webkitRequestFullScreen();
  }
  //IE11
  else if (elem.msRequestFullscreen) {
      elem.msRequestFullscreen();
  }
}
/**
 * 退出全屏
 **/
function exitFullscreen() {
    if (document.exitFullscreen)
        document.exitFullscreen();
    else if (document.mozCancelFullScreen)
        document.mozCancelFullScreen();
    else if (document.webkitCancelFullScreen)
        document.webkitCancelFullScreen();
    else if (document.msExitFullscreen)
        document.msExitFullscreen();
}
/**
 * 打开/关闭聚光灯
 **/
function toggleSpotlight() {
    var obj = $(".mdx-spotlight");
    if (obj.css("display")　==　"none") {
        // $("body").css({"user-select":"none"});
        // obj.fadeIn(_animateSpeed);
        obj.show();
        var e = window.event;

        if (e.clientX != undefined) {
            _clientX =  e.clientX;
            _clientY =  e.clientY;
        }
        updateSpotlight();
    }
    else {
        // $("body").css({"user-select":"auto"});
        // obj.fadeOut(_animateSpeed);
        obj.hide();

        // 显示工具栏新手提示：暗色主题
        // if (window.localStorage && localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-t4"] == undefined) {
        //     hintWithShake($(".mdx-theme-exchange"), 1, 10);
        //     localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-t4"] = true;
        // }
    }
}
/**
 * 切换字体样式
 **/
function toggleFontStyle() {
    if ($("body").attr("class").indexOf("mdx-font-text-sans") == -1) {
        showInfoTips($(".mdx-info-tips"),
            ["非衬线 字体",
            "非襯線 字體",
            "Sans Font",
            "Sans Fuente",
            "Без шрифта",
            "Sans フォント",
            "Sans 글꼴"][_lang],
            2000);
        applyFontStyle("sans");
    }
    else {
        showInfoTips($(".mdx-info-tips"),
            ["衬线 字体",
            "襯線 字體",
            "Serif Font",
            "Serif Police",
            "Шрифт с засечками",
            "Serif フォント",
            "Serif 폰트"][_lang],
            2000);
        applyFontStyle("serif");
    }
}
/**
 * 应用指定字体样式：sans, serif
 **/
function applyFontStyle(style) {
    var text = "html, body, text[text-anchor=\"start\"] > tspan, .edgeLabel, .messageText, .noteText, .noteText tspan, .MathJax_SVG g text";
    var title = "#write > h6:first-of-type, #write > h6:last-of-type";
    var tag = ".mdx-code-c1-alt, .mdx-code-c2-alt, .mdx-code-c3-alt, .mdx-code-c4-alt, .mdx-code-c5-alt, .mdx-code-c6-alt, .mdx-code-c1, .mdx-code-c2, .mdx-code-c3, .mdx-code-c4, .mdx-code-c5, .mdx-code-c6, .mdx-code-name1-alt, .mdx-code-name2-alt, .mdx-code-name3-alt, .mdx-code-name4-alt, .mdx-code-name5-alt, .mdx-code-name6-alt, .mdx-code-name1, .mdx-code-name2, .mdx-code-name3, .mdx-code-name4, .mdx-code-name5, .mdx-code-name6, .mdx-code-value1-alt, .mdx-code-value2-alt, .mdx-code-value3-alt, .mdx-code-value4-alt, .mdx-code-value5-alt, .mdx-code-value6-alt, .mdx-code-value1, .mdx-code-value2, .mdx-code-value3, .mdx-code-value4, .mdx-code-value5, .mdx-code-value6";
    var header = "h1, h2, h3, h4, h5, h6";
    var bold = "strong, #write > h6:first-of-type strong, #write > h6:first-of-type em, table tr th, .mdx-table-td-bold, .mdx-toc-box-title, .mdx-toc-box-header, .mdx-loading-done, .mdx-tool-tips, .mdx-info-tips, .mdx-toc-box-header, .mdx-bread-nav-text, .mdx-nav-prev-text, .mdx-nav-next-text, .mdx-toc-box-title, .mdx-figure-alt, rect + text[text-anchor=\"middle\"] > tspan, rect + rect + text[text-anchor=\"middle\"] > tspan, .outline-item, a[name^=\"ref-footnote-\"], .md-toc-h1, .md-toc-h2, .md-toc-h3, .md-toc-h4, .md-toc-h5, .md-fn-count, .mdx-toc-info, mdx-toc-info2";
    var code = "code, tt, .md-fences, kbd";

    if (_currentFontStyle != null) {
        $(code).removeClass("mdx-font-code-" + _currentFontStyle);
        $(tag).removeClass("mdx-font-code-" + _currentFontStyle);
        $(tag).removeClass("mdx-font-bold-" + _currentFontStyle);
        $(text).removeClass("mdx-font-text-" + _currentFontStyle);
        $(header).removeClass("mdx-font-header-" + _currentFontStyle);
        $(title).removeClass("mdx-font-title-" + _currentFontStyle);
        $(bold).removeClass("mdx-font-bold-" + _currentFontStyle);
    }
    _currentFontStyle = style;
    $(".mdx-font-exchange").html("<svg width='18px' height='16px'><use xlink:href='#icoFont-" + style + "' class='mdx-svg-ico-light'/></svg>");

    $(code).addClass("mdx-font-code-" + style);
    $(tag).removeClass("mdx-font-code-" + _currentFontStyle);
    $(tag).addClass("mdx-font-bold-" + style);
    $(text).addClass("mdx-font-text-" + style);
    $(header).addClass("mdx-font-header-" + style);
    $(title).addClass("mdx-font-title-" + style);
    $(bold).addClass("mdx-font-bold-" + style);

    localStorage["VLOOK-" + _version + "-font-style"] = _currentFontStyle;
}
/**
 * 切换Dark主题
 **/
function toggleTheme() {
    _darkTheme = !_darkTheme;
    if (_darkTheme == true) {
        $(".mdx-theme-exchange").html("<svg width='18px' height='18px'><use xlink:href='#icoDarkTheme' class='mdx-svg-ico-light'/></svg>");
        showInfoTips($(".mdx-info-tips"),
            ["黑暗模式",
            "黑暗模式",
            "Dark Mode",
            "Mode Sombre",
            "Темный режим",
            "ダークモード",
            "다크 모드"][_lang],
            2000);
    }
    else {
        $(".mdx-theme-exchange").html("<svg width='20px' height='20px'><use xlink:href='#icoLightTheme' class='mdx-svg-ico-light'/></svg>");
        showInfoTips($(".mdx-info-tips"),
            ["明亮模式",
            "明亮模式",
            "Light Mode",
            "Mode lumière",
            "Легкий режим",
            "ライトモード",
            "라이트 모드"][_lang],
            2000);
    }

    // 正文
    $("body").toggleClass("mdx-dark-body");
    $("strong").toggleClass("mdx-dark-strong");
    $("a").toggleClass("mdx-dark-a");
    $(".mdx-figure-alt").toggleClass("mdx-dark-figure-alt");
    $(".MathJax_SVG").toggleClass("mdx-dark-mathjax_svg");

    // 脚注
    $(".mdx-footer-note").toggleClass("mdx-dark-body");
    $(".md-footnote").toggleClass("mdx-dark-body");

    // 封面&封底
    $("#write > h6:first-of-type, #write > h6:last-of-type").toggleClass("mdx-dark-cover");

    // 工具栏、面包屑导航
    $(".mdx-toolbar, .mdx-bread-nav").toggleClass("mdx-dark-bar");

    // 大纲
    $(".mdx-toc-box-body-scroll").toggleClass("mdx-dark-toc");
    // $(".mdx-toc-box-title").hover(function () {
    //     $(this).css("color", aHoverColor);
    // }, function () {
    //     $(this).css("color", aColor);
    // });
    // $(".mdx-toc-box-title").hover(function () {
    //     $(this).css("background-color", docbgColorAlt);
    // }, function () {});
    // $(".md-toc-h1 a, .md-toc-h2 a, .md-toc-h3 a, .md-toc-h4 a, .md-toc-h5 a").css("color", foreColor);
    // $(".md-toc-h1 a, .md-toc-h2 a, .md-toc-h3 a, .md-toc-h4 a, .md-toc-h5 a").hover(function () {
    //     $(this).css("color", ahover);
    // }, function () {
    //     $(this).css("color", foreColor);
    // });
    // $(".mdx-header-current").toggleClass("mdx-dark-header-current");
    // _lastOutlineItem.removeClass("mdx-header-current");
    // _lastOutlineItem.removeClass("mdx-header-current-dark");
    if (_lastOutlineItem != null) {
        _lastOutlineItem.removeClass(_darkTheme ? "mdx-header-current" : "mdx-header-current-dark");
        _lastOutlineItem.addClass(_darkTheme ? "mdx-header-current-dark" : "mdx-header-current");
    }
    // _lastOutlineItem.removeClass(_darkTheme ? "mdx-header-current-dark" : "mdx-header-current");
    $(".md-toc-item > a, .mdx-toc-box-title").toggleClass("mdx-dark-toc-item");
    // $(".mdx-header-current a").toggleClass("mdx-dark-header-current");

    // 插图
    $("img, .md-diagram-panel svg").toggleClass("mdx-dark-figure");

    // 插图浏览器
    $(".mdx-figure-content").toggleClass("mdx-dark-body");

    // 表格
    $("table").toggleClass("mdx-dark-table");
    $("table tr th").toggleClass("mdx-dark-table-tr-th");
    $("table tr:nth-child(2n)").toggleClass("mdx-dark-table-tr");

    // kbd
    $("kbd").toggleClass("mdx-dark-kbd");

    // 代码行、代码段
    $(".mdx-std-code").toggleClass("mdx-dark-std-code");
    $("blockquote .mdx-std-code").toggleClass("mdx-dark-blockquote-std-code");
    $(".md-fences").toggleClass("mdx-dark-fences");
    $(".CodeMirror-gutters").toggleClass("mdx-dark-CodeMirror-gutters");

    // 引用
    $("blockquote").toggleClass("mdx-dark-blockquote");
    $("blockquote li").toggleClass("mdx-dark-body");

    // 删除线
    $("del").toggleClass("mdx-dark-del");

    localStorage["VLOOK-" + _version + "-theme"] = _darkTheme ? "dark" : "light";
}
/**
 * 应用主题
* @theme light:浅色主题，dark:深色主题
 **/
function applyTheme(theme) {
  _darkTheme = (theme == "dark") ? false : true;
  toggleTheme();
}
/**
 * 弱化工具栏显示
 **/
function fadeOutToolbar() {
  if ($(document).scrollTop() != _topValue && !isOutlineShowed()) // 如完成了滚动测弱化显示
  _topValue = $(document).scrollTop();
}
/**
 * 大纲是否已显示
 **/
function isOutlineShowed() {
  return _outlineShowed;
}
/**
 * 增强脚注
 **/
function initFooterNote() {
  // 将脚注调整到封底前
  $(".footnotes-area").insertBefore($("#write > h6:last"));

  // 移除默认的跳转属性
  $("a[name^='ref-footnote-']").removeAttr("href");

  // 将脚注角标的事件替换为指定的处理事件
  $("a[name^='ref-footnote-']").click(function() {
      var obj = $("a[name='df" + $(this).attr("name") + "']").parent().clone();

      // 主题样式处理
      var foreColor = _darkTheme ? $(".mdx-color-fore-dark").css("color") : $(".mdx-color-fore-light").css("color");
      obj.css({
          "background-color": "",
          "color": foreColor,
          "display": "table-cell",
          "vertical-align": "middle"
      });

      // 更新脚注弹层内容
      $(".mdx-footer-note-content").html(obj);
      obj.find("a[name^='dfref-footnote']")[0].remove(); // 移除默认的返回链接

      // 显示脚注弹层
      showFooterNote();

      updateScroolBottomShadow($(".mdx-footer-note-content"), $(".mdx-footer-note-toolbar"), 30);
  });

  // outline内容滚动时，根据内容是否滚动未结束，未结束时添加阴影效果
  $(".mdx-footer-note-content").scroll(function() {
      updateScroolBottomShadow($(".mdx-footer-note-content"), $(".mdx-footer-note-toolbar"), 30);
  });

  // 将脚注区锚点调整到生成HTML后的实际位置
  $("a[name='xFooterArea']").insertBefore($(".footnotes-area"));
}
/**
 * 根据内容是否滚动离开开始位置，已离开开始位置则添加阴影效果
 **/
function updateScroolTopShadow(scrollObj, topObj, offset) {
  if (scrollObj.scrollTop() > offset)
      topObj.addClass("mdx-header-shadow");
  else
      topObj.removeClass("mdx-header-shadow");
}
/**
 * 根据内容是否滚动未结束，未结束时添加阴影效果
 **/
function updateScroolBottomShadow(scrollObj, bottomObj, offset) {
  if ((scrollObj.get(0).scrollHeight - scrollObj.height() - scrollObj.scrollTop()) <= offset)
      bottomObj.removeClass("mdx-footer-shadow");
  else
      bottomObj.addClass("mdx-footer-shadow");
}
/**
 * 更新聚光灯显示
 **/
function updateSpotlight() {
    document.documentElement.style.setProperty('--x', _clientX);
    document.documentElement.style.setProperty('--y', _clientY);
    document.documentElement.style.setProperty('--r', _spotlightR);
}
/**
 * 显示脚注弹层
 **/
function showFooterNote() {
    var footerNote = $(".mdx-footer-note");
    showMask(footerNote, hideFooterNote);

    if (isSmallScreen())
        footerNote.css({
            "left": "20px",
            "right": "20px"});
    else
        footerNote.css({
            "left": "15%",
            "right": "15%"});

    $(".mdx-footer-note").show().animate({ bottom: 20 + _reboundOffset }, _animateSpeed)
        .animate({ bottom: 20 }, _animateSpeed);
}
/**
 * 显示遮罩
 **/
function showMask(under, callback) {
    $("body").css({
        "user-select": "none", // 网页选择
        "overflow": "hidden" // 网页滚动
    });
    $("#write, .mdx-toolbar, .mdx-bread-nav").css({ "filter": "blur(5px)" });

    var mask =  $(".mdx-toc-mask");
    mask.css("z-index", under.css("z-index") - 1);
    mask.on("click", callback);
    mask.fadeIn(_animateSpeed);
}
/**
 * 隐藏脚注弹层
 **/
function hideFooterNote() {
  var footerNote = $(".mdx-footer-note");
  footerNote.animate({ bottom: -150 }, _animateSpeed, function() {
      hideMask();
      $(this).hide();
  });
}
/**
 * 初始化热键
 **/
function initHotkeys() {
  // 窗口缩放事件
  $(window).on("resize", function() {
      updateFullscreenUI();
  });

  // 键盘按下事件
  $(document).keydown(function(event) {
      var code = event.keyCode||event.which||event.charCode;
      // console.log(code);

      // 按了组合键时忽略
      if (event.shiftKey || event.ctrlKey || event.altKey || event.metaKey)
          return;

      // J
      if (code == 74) {
          nextBlockFocusItem(1); // 步长1
      }
      // K
      else if (code == 75) {
          prevBlockFocusItem(1); // 步长1
      }
      // H
      else if (code == 72) {
          prevBlockFocusItem(10); // 步长10，快速移动
      }
      // L
      else if (code == 76) {
          nextBlockFocusItem(10); // 步长10，快速移动
      }
      // ←
      else if (code == 37) {
          if ($(".mdx-figure-viewer").css("display") == "block")
              prevFigure();
          else
              gotoHeader($(".mdx-nav-prev-text"));
      }
      // →
      else  if (code == 39) {
          if ($(".mdx-figure-viewer").css("display") == "block")
              nextFigure();
          else {
              if (parseInt($(".mdx-bread-nav").css("top")) < 0)
                  $(".mdx-nav-next-text").attr("data-anchor", _headers[0]);
              gotoHeader($(".mdx-nav-next-text"));
          }
      }
      // F
      // else if (code == 70)
      //     toggleFullscreen();
      // O
      else if (code == 79) {
          // $(".mdx-spotlight").fadeOut(_animateSpeed);
          hideFigureViewer();
          toggleOutline();
      }
      // I
      else if (code == 73) {
          // $(".mdx-spotlight").fadeOut(_animateSpeed);
          hideOutline();
          if ($(".mdx-figure-viewer").css("display") == "none")
              showFigureViewer();
          else
              hideFigureViewer();
      }
      // T
      else if (code == 84)
          toggleTheme();
      // A
      else if (code == 65)
          toggleFontStyle();
      // P
      else if (code == 80)
          window.print();
      // S
      else if (code == 83)
          toggleSpotlight();
      // ENTER
      else if (code == 13) {
          var obj = $("#mdx-blockfocus-" + _blockFocusItemIndex);
          if (obj.attr("class").indexOf("mdx-blockquote-folder") != -1)
              obj.click();
      }
      // ESC
      else if (code == 27) {
          var spot = $(".mdx-spotlight");
          hideTips($(".mdx-tool-tips"), true);
          hideTips($(".mdx-info-tips"), true);
          if (spot.css("display") == "block")
              spot.hide();
          else if ($(".mdx-figure-viewer").css("display") == "block")
              hideFigureViewer();
          else {
              if (isOutlineShowed())
                  hideOutline();
              hideLastCrossTd();
              hideFocusBlock();
          }
      }
      // Z
      else if (code == 90) {
          _spotlightR = _spotlightR > 180 ? 180 : 240;
          updateSpotlight();
      }
  });
}
/**
 * 隐藏聚焦内容块
 */
function hideFocusBlock() {
    if (_lastBlockFocusItem != null)
        _lastBlockFocusItem.removeClass("mdx-current-blockfocus-item");
}
/**
 * 获取url中的参数
 */
function getQueryString() {
  var qs = location.search.substr(1), // 获取url中"?"符后的字串
      args = {}, // 保存参数数据的对象
      items = qs.length ? qs.split("&") : [], // 取得每一个参数项,
      item = null,
      len = items.length;

  for(var i = 0; i < len; i++) {
      item = items[i].split("=");
      var name = decodeURIComponent(item[0]),
          value = decodeURIComponent(item[1]);
      if(name) {
          args[name] = value;
      }
  }
  return args;
}
/**
 * 聚光灯照明
 **/
function spotlighting() {
    // document.documentElement.style.setProperty('--x', e.clientX);
    // document.documentElement.style.setProperty('--y', e.clientY);
    document.addEventListener('mousemove', function(e) {
        document.documentElement.style.setProperty('--x', e.clientX);
        document.documentElement.style.setProperty('--y', e.clientY);
    });
    // onmousemove="spotlighting(window.event)";
}
/**
 * HTML文档加载完成后执行主流程
 **/
$(document).ready(function() {
    console.log("init VLOOK ...");

    // 初始化国际化UI
    initUIi18n();

    if (browser.device.chrome == false && browser.device.firefox == false)
        alert(["为获得最佳兼容性，建议使用 Google Chrome / Firefox 浏览器",
            "為獲得最佳兼容性，建議使用 Google Chrome / Firefox 瀏覽器",
            "For best compatibility, we recommend using Google Chrome / Firefox",
            "Pour une meilleure compatibilité, nous vous recommandons d’utiliser Google Chrome / Firefox",
            "Для лучшей совместимости мы рекомендуем использовать Google Chrome / Firefox",
            "最高の互換性を得るために、Google Chrome / Firefox の使用をお勧めします",
            "최상의 호환성을 위해 Chrome / Firefox 사용을 권장합니다."][_lang]);

    $(".mdx-toc-box").css("user-select", "none");
    $(".mdx-bread-nav").css("user-select", "none");
    // 检查页内链接坏链
    checkInnerBadLink();
    // 检查重复的Header
    checkDuplicateHeader();
    // 创建水印背景
    //createWatermark();
    // 绑定文档的滚动事件
    $(document).scroll(function() {
        followHeader();
    });
    // 绑定窗口大小缩放事件
    $(window).resize(function() {
        // adjustOutline();
        // followHeader();
        // adjustContent();
        // adjustBreadNav();
        // adjustToolbar();
        // updateDocbarPos();
    });

    // 初始化插图数据
    initFigureData();
    console.log("init FigureData " + ((new Date().getTime() - _lastTimer) / 1000) + "s");
    _lastTimer = new Date().getTime();

    // 初始化列表
    initBlockFocus();
    console.log("init BlockFocus " + ((new Date().getTime() - _lastTimer) / 1000) + "s");
    _lastTimer = new Date().getTime();

    // 初始化表格
    initTable();
    console.log("init Table " + ((new Date().getTime() - _lastTimer) / 1000) + "s");
    _lastTimer = new Date().getTime();

    // 初始化引用块
    initBlockquote();
    console.log("init Blockquote " + ((new Date().getTime() - _lastTimer) / 1000) + "s");
    _lastTimer = new Date().getTime();

    // 初始化外部链接
    initExtLink();
    console.log("init ExtLink " + ((new Date().getTime() - _lastTimer) / 1000) + "s");
    _lastTimer = new Date().getTime();

    // 初始化全屏
    // initFullscreen();
    // 增强脚注
    initFooterNote();
    console.log("init FooterNote " + ((new Date().getTime() - _lastTimer) / 1000) + "s");
    _lastTimer = new Date().getTime();

    // 初始化全局热键
    initHotkeys();
    console.log("init Hotkeys " + ((new Date().getTime() - _lastTimer) / 1000) + "s");
    _lastTimer = new Date().getTime();

    // 重置脚本化图表样式
    restyleMermaidStyle();
    console.log("init MermaidStyle " + ((new Date().getTime() - _lastTimer) / 1000) + "s");
    _lastTimer = new Date().getTime();

    // 重置行内代码code样式
    restyleCode();
    // 重置多行代码块code block样式
    restyleCodeFences();
    console.log("init RestyleCode/Fences " + ((new Date().getTime() - _lastTimer) / 1000) + "s");
    _lastTimer = new Date().getTime();

    // 重置任务列表样式
    restyleTaskListCheckbox();
    console.log("init TaskListCheckbox " + ((new Date().getTime() - _lastTimer) / 1000) + "s");
    _lastTimer = new Date().getTime();

    // displayBrowserInfo();

    // 初始化Outline数据
    if (initOutlineData()) {
        // 更新Outline上的目录节点按钮
        initFolderButton();

        // 更新工具栏标题
        $(".mdx-toc-box-title").text($(document).attr("title"));

        // 自适应页面内容显示
        // adjustOutline();
        followHeader();
        adjustContent();
        adjustBreadNav();
        adjustToolbar();

        console.log("init OutlineData " + ((new Date().getTime() - _lastTimer) / 1000) + "s");
        _lastTimer = new Date().getTime();
    }

    // 根据设备类型自适应hover样式
    adjustHoverStyle();

    // 清空历史存储
    if (getQueryString()["reset"] == "1") {
        // localStorage.removeItem("VLOOK-" + _version + "-hint-for-green-hand-step-t1");
        // localStorage.removeItem("VLOOK-" + _version + "-hint-for-green-hand-step-t2");
        // localStorage.removeItem("VLOOK-" + _version + "-hint-for-green-hand-step-t3");
        // localStorage.removeItem("VLOOK-" + _version + "-hint-for-green-hand-step-t4");
        // localStorage.removeItem("VLOOK-" + _version + "-hint-for-green-hand-step-s");
        // localStorage.removeItem("VLOOK-" + _version + "-hint-for-green-hand-step-bn");
        // localStorage.removeItem("VLOOK-" + _version + "-hint-for-green-hand-step-nf");
        localStorage.removeItem("VLOOK-" + _version + "-hint-for-green-hand-step-bf");
    }

    // 显示工具栏新手提示：大纲
    // if (window.localStorage && localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-t1"] == undefined) {
    //     hintWithShake($(".mdx-outline"), 1, 10);
    //     localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-t1"] = true;
    // }

    // 绑定文档双击事件，激活/关闭聚光灯
    document.addEventListener("dblclick", function(){
        toggleSpotlight();
    });

    // 绑定文档鼠标移动事件，聚光灯跟随鼠标移动
    document.addEventListener("mousemove", function() {
        var obj = $(".mdx-spotlight");
        var e = window.event;
        _clientX = e.clientX;
        _clientY = e.clientY;
        if (obj.css("display")　==　"block") {
            updateSpotlight();
        }
    });

    // 默认应用指定主题
    // if (getQueryString()["theme"] == "dark")
    //     applyTheme("dark");
    if (window.localStorage && localStorage["VLOOK-" + _version + "-theme"] == "dark")
        applyTheme("dark");

    // 设置字体样式
    var style = localStorage["VLOOK-" + _version + "-font-style"];
    if (window.localStorage && style != undefined)
        applyFontStyle(style);
    else
        applyFontStyle("serif");

    // 绑定文档鼠标点击事件，显示使用聚光灯提示
    // document.addEventListener('click', function() {
    //     // 显示新手提示：双击显示聚光灯
    //     if (window.localStorage && localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-s"] == undefined) {
    //         alert(["双击文档或热键[S]可以打开/关闭聚光灯！",
    //             "雙擊文檔或熱鍵[S]打開/關閉聚光燈！",
    //             "Double-click the document or shortcut [S] to turn the spotlight ON/OFF!",
    //             "Double-cliquez sur le document ou sur le raccourci clavier [S] pour allumer / éteindre le projecteur!",
    //             "Дважды щелкните документ или горячую клавишу [S], чтобы включить / выключить прожектор!",
    //             "ドキュメントまたはホットキー[S]をダブルクリックして、スポットライトをオン/オフにします。",
    //             "문서 또는 단축 키 [S]를 두 번 클릭하여 스포트라이트를 켜거나 끕니다!"][_lang]);
    //         localStorage["VLOOK-" + _version + "-hint-for-green-hand-step-s"] = true;
    //     }
    // });

    hideFigureAction(null);
    
    //saveToUniFile();
    console.log("DONE " + ((new Date().getTime() - _lastTimer) / 1000) + "s");

    $(".mdx-loading-done").animate({opacity: 1}, _animateSpeed, function() {
        $(".mdx-loading").css("cursor", "default");
    });

    $(".mdx-loading-done").text(["轻一点，轻轻一点",
        "輕一點，輕輕一點",
        "Gently to Start",
        "Doucement pour commencer",
        "Осторожно, чтобы начать",
        "やさしく始める",
        "부드럽게 시작"][_lang]);
    $(".mdx-loading-done").css("cursor", "pointer");
    $(".mdx-loading-done").click(function (){
        // $("body").css({
        //     "overflow": "auto" // 恢复网页滚动
        // });
        $(".mdx-loading").fadeOut(_animateSpeed);
        // leavePanel($(".mdx-toolbar"), 5000);
        // leavePanel($(".mdx-bread-nav"), 5000);
    });
});
</script>
<!--========================================================================-->
<!--                              END OF VLOOK                              -->
<!--========================================================================-->


<div  id='write'  class = 'is-node'><div class='md-toc' mdtype='toc'><p class="md-toc-content"><span class="md-toc-item md-toc-h1" data-ref="n2"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2">Data Analysis</a></span><span class="md-toc-item md-toc-h2" data-ref="n5"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n5">第1章 数据科学基础</a></span><span class="md-toc-item md-toc-h3" data-ref="n9"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n9">Python基础</a></span><span class="md-toc-item md-toc-h2" data-ref="n13"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n13">第2章 多维数据结构与运算</a></span><span class="md-toc-item md-toc-h3" data-ref="n14"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n14">一维数组对象</a></span><span class="md-toc-item md-toc-h3" data-ref="n39"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n39">二维数组对象</a></span><span class="md-toc-item md-toc-h3" data-ref="n56"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n56"><em>Homework(Week2)</em></a></span><span class="md-toc-item md-toc-h3" data-ref="n58"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n58">多维数组运算</a></span><span class="md-toc-item md-toc-h4" data-ref="n179"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n179"><em>Practice_w2</em></a></span><span class="md-toc-item md-toc-h3" data-ref="n181"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n181">随机游走</a></span><span class="md-toc-item md-toc-h4" data-ref="n190"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n190"><em>Practice_w3</em></a></span><span class="md-toc-item md-toc-h3" data-ref="n199"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n199"><em>Homework(Week3)</em></a></span><span class="md-toc-item md-toc-h2" data-ref="n204"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n204">第3章 数据汇总与统计</a></span><span class="md-toc-item md-toc-h3" data-ref="n205"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n205">pandas数据结构</a></span><span class="md-toc-item md-toc-h4" data-ref="n216"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n216">Series对象创建</a></span><span class="md-toc-item md-toc-h4" data-ref="n227"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n227">Series对象访问</a></span><span class="md-toc-item md-toc-h4" data-ref="n244"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n244">DataFrame对象创建</a></span><span class="md-toc-item md-toc-h4" data-ref="n251"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n251">DataFrame对象访问</a></span><span class="md-toc-item md-toc-h3" data-ref="n270"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n270"><em>Homework(Week4)</em></a></span><span class="md-toc-item md-toc-h3" data-ref="n272"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n272">数据文件读写</a></span><span class="md-toc-item md-toc-h4" data-ref="n276"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n276">读取CSV文件</a></span><span class="md-toc-item md-toc-h4" data-ref="n298"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n298">读取TXT文件</a></span><span class="md-toc-item md-toc-h4" data-ref="n307"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n307">保存为CSV文件</a></span><span class="md-toc-item md-toc-h4" data-ref="n327"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n327">读取Excel文件</a></span><span class="md-toc-item md-toc-h3" data-ref="n337"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n337">数据清洗</a></span><span class="md-toc-item md-toc-h4" data-ref="n338"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n338">数据滤除</a></span><span class="md-toc-item md-toc-h4" data-ref="n354"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n354">数据填充</a></span><span class="md-toc-item md-toc-h4" data-ref="n368"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n368">数据去重</a></span><span class="md-toc-item md-toc-h3" data-ref="n370"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n370"><em>Homework(Week5)</em></a></span><span class="md-toc-item md-toc-h3" data-ref="n374"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n374">数据规整化</a></span><span class="md-toc-item md-toc-h4" data-ref="n375"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n375">数据合并</a></span><span class="md-toc-item md-toc-h5" data-ref="n376"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n376">行数据据追加</a></span><span class="md-toc-item md-toc-h5" data-ref="n379"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n379">列数据连接</a></span><span class="md-toc-item md-toc-h4" data-ref="n408"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n408">数据排序</a></span><span class="md-toc-item md-toc-h5" data-ref="n409"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n409">值排序</a></span><span class="md-toc-item md-toc-h5" data-ref="n411"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n411">排名</a></span><span class="md-toc-item md-toc-h3" data-ref="n413"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n413">统计分析</a></span><span class="md-toc-item md-toc-h4" data-ref="n414"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n414">通用函数与运算</a></span><span class="md-toc-item md-toc-h4" data-ref="n438"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n438">统计函数</a></span><span class="md-toc-item md-toc-h4" data-ref="n486"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n486">相关性分析</a></span><span class="md-toc-item md-toc-h4" data-ref="n500"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n500">调查反馈表分析</a></span><span class="md-toc-item md-toc-h3" data-ref="n503"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n503"><em>Homework(Week6)</em></a></span><span class="md-toc-item md-toc-h2" data-ref="n506"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n506">第4章 数据可视化</a></span><span class="md-toc-item md-toc-h3" data-ref="n507"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n507">pandas快速绘图</a></span><span class="md-toc-item md-toc-h3" data-ref="n511"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n511">matplotlib精细绘图</a></span><span class="md-toc-item md-toc-h4" data-ref="n512"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n512">绘图</a></span><span class="md-toc-item md-toc-h4" data-ref="n1014"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1014">多子图</a></span><span class="md-toc-item md-toc-h4" data-ref="n520"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n520">设置图元属性和说明</a></span><span class="md-toc-item md-toc-h4" data-ref="n524"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n524">保存图表到文件</a></span><span class="md-toc-item md-toc-h3" data-ref="n538"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n538"><em>Homework(Week7)</em></a></span><span class="md-toc-item md-toc-h3" data-ref="n543"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n543">绘制常用图形</a></span><span class="md-toc-item md-toc-h4" data-ref="n544"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n544">函数绘制</a></span><span class="md-toc-item md-toc-h4" data-ref="n548"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n548">散点图</a></span><span class="md-toc-item md-toc-h4" data-ref="n555"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n555">柱状图</a></span><span class="md-toc-item md-toc-h4" data-ref="n561"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n561">折线图</a></span><span class="md-toc-item md-toc-h4" data-ref="n565"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n565">直方图</a></span><span class="md-toc-item md-toc-h4" data-ref="n568"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n568">密度图</a></span><span class="md-toc-item md-toc-h4" data-ref="n571"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n571">饼图</a></span><span class="md-toc-item md-toc-h4" data-ref="n574"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n574">箱型图</a></span><span class="md-toc-item md-toc-h3" data-ref="n579"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n579"><em>Homework(Week8)</em></a></span><span class="md-toc-item md-toc-h3" data-ref="n600"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n600"><em>Homework(Week9)</em></a></span><span class="md-toc-item md-toc-h3" data-ref="n604"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n604"><em>Homework(Week10)</em></a></span><span class="md-toc-item md-toc-h2" data-ref="n623"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n623">第5章 机器学习与建模分析</a></span><span class="md-toc-item md-toc-h3" data-ref="n626"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n626">回归分析</a></span><span class="md-toc-item md-toc-h4" data-ref="n632"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n632">性能评估</a></span><span class="md-toc-item md-toc-h3" data-ref="n652"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n652"><em>Homework(Week11)</em></a></span><span class="md-toc-item md-toc-h3" data-ref="n654"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n654">分类分析</a></span><span class="md-toc-item md-toc-h4" data-ref="n659"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n659">决策树</a></span><span class="md-toc-item md-toc-h4" data-ref="n682"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n682">支持向量机</a></span><span class="md-toc-item md-toc-h3" data-ref="n688"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n688"><em>Homework(Week12)</em></a></span><span class="md-toc-item md-toc-h3" data-ref="n690"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n690">聚类分析</a></span><span class="md-toc-item md-toc-h4" data-ref="n696"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n696">K-means</a></span><span class="md-toc-item md-toc-h4" data-ref="n723"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n723">性能评估</a></span><span class="md-toc-item md-toc-h5" data-ref="n724"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n724">有分类标签</a></span><span class="md-toc-item md-toc-h5" data-ref="n729"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n729">无分类标签</a></span><span class="md-toc-item md-toc-h5" data-ref="n734"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n734">确定初始值K</a></span><span class="md-toc-item md-toc-h3" data-ref="n741"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n741">神经网络和深度学习</a></span><span class="md-toc-item md-toc-h3" data-ref="n772"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n772"><em>Homework(Week13)</em></a></span><span class="md-toc-item md-toc-h2" data-ref="n783"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n783">第6章 文本数据处理</a></span><span class="md-toc-item md-toc-h3" data-ref="n785"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n785">常见任务</a></span><span class="md-toc-item md-toc-h3" data-ref="n806"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n806">基本步骤</a></span><span class="md-toc-item md-toc-h3" data-ref="n821"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n821">中文处理</a></span><span class="md-toc-item md-toc-h4" data-ref="n822"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n822">jieba</a></span><span class="md-toc-item md-toc-h3" data-ref="n858"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n858">特征提取</a></span><span class="md-toc-item md-toc-h4" data-ref="n859"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n859">词袋模型</a></span><span class="md-toc-item md-toc-h4" data-ref="n882"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n882">TF-IDF 模型</a></span><span class="md-toc-item md-toc-h3" data-ref="n885"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n885">垃圾邮件实例</a></span><span class="md-toc-item md-toc-h3" data-ref="n894"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n894"><em>Homework(Week14)</em></a></span><span class="md-toc-item md-toc-h2" data-ref="n897"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n897">第7章 数字图像处理</a></span><span class="md-toc-item md-toc-h3" data-ref="n898"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n898">数字图像类型</a></span><span class="md-toc-item md-toc-h3" data-ref="n907"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n907">数字图像处理</a></span><span class="md-toc-item md-toc-h3" data-ref="n919"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n919">基本操作</a></span><span class="md-toc-item md-toc-h3" data-ref="n929"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n929">基于Keras的CNN 的图像分类</a></span><span class="md-toc-item md-toc-h4" data-ref="n930"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n930">卷积神经网络CNN</a></span><span class="md-toc-item md-toc-h4" data-ref="n940"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n940">深度学习库Keras</a></span><span class="md-toc-item md-toc-h4" data-ref="n960"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n960">基于keras的图像分类</a></span><span class="md-toc-item md-toc-h4" data-ref="n978"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n978">使用预训练模型进行图像分类</a></span><span class="md-toc-item md-toc-h2" data-ref="n985"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n985">第8章 时序数据与语音处理</a></span><span class="md-toc-item md-toc-h4" data-ref="n986"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n986">时序数据特征的提取</a></span><span class="md-toc-item md-toc-h4" data-ref="n1004"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1004">语音识别实例</a></span></p></div><h1><a name='header-n2' class='md-header-anchor '></a>Data Analysis</h1><p><strong><em>Created by yunTaoScripts&copy;</em></strong></p><p><strong><em>Email:<a href='mailto:woshixianren@outlook.com' target='_blank' class='url'>woshixianren@outlook.com</a></em></strong></p><h2><a name='header-n5' class='md-header-anchor '></a>第1章 数据科学基础</h2><ul><li>科学计算集成环境Anaconda   <a href='https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/'>下载</a></li></ul><h3><a name='header-n9' class='md-header-anchor '></a>Python基础</h3><ul><li>参见  <a href='https://yuntaoscripts.github.io/pythonNotebook/'>Python Basic</a></li></ul><h2><a name='header-n13' class='md-header-anchor '></a>第2章 多维数据结构与运算</h2><h3><a name='header-n14' class='md-header-anchor '></a>一维数组对象</h3><ul><li>标准 Python 不支持多维数组，为此NumPy 库提供了支持丰富数据表示方式的多维数组ndarray，方便一维、二维甚至多维的数组处理。ndarray 数组对象所有元素类型必须相同，且大小固定，在创建时定义，使用过程中不可改变。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 27px;"></div><div class="CodeMirror-gutters" style="display: none; height: 27px;"></div></div></div></pre><ul><li>创建一维ndarray 对象。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span> = <span class="cm-variable">np</span>.<span class="cm-property">array</span>([<span class="cm-string">'王微'</span>, <span class="cm-string">'肖良英'</span>, <span class="cm-string">'方绮雯'</span>, <span class="cm-string">'刘旭阳'</span>,<span class="cm-string">'钱易铭'</span>])</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">subjects</span> = <span class="cm-variable">np</span>.<span class="cm-property">array</span>([<span class="cm-string">'Math'</span>, <span class="cm-string">'English'</span>, <span class="cm-string">'Python'</span>, <span class="cm-string">'Chinese'</span>,<span class="cm-string">'Art'</span>,<span class="cm-string">'Database'</span>, <span class="cm-string">'Physics'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-string">'王微'</span>, <span class="cm-string">'肖良英'</span>, <span class="cm-string">'方绮雯'</span>, <span class="cm-string">'刘旭阳'</span>,<span class="cm-string">'钱易铭'</span>], <span class="cm-variable">dtype</span>=<span class="cm-string">'&lt;U3'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-string">'Math'</span>, <span class="cm-string">'English'</span>, <span class="cm-string">'Python'</span>, <span class="cm-string">'Chinese'</span>, <span class="cm-string">'Art'</span>, <span class="cm-string">'Database'</span>,<span class="cm-string">'Physics'</span>], <span class="cm-variable">dtype</span>=<span class="cm-string">'&lt;U8'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 133px;"></div><div class="CodeMirror-gutters" style="display: none; height: 133px;"></div></div></div></pre><ul><li>查看数组属性</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span>.<span class="cm-property">ndim</span> <span class="cm-comment">#数组维度</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span>.<span class="cm-property">size</span> <span class="cm-comment">#数组元素个数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span>.<span class="cm-property">dtype</span> <span class="cm-comment">#数组数据类型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>(<span class="cm-string">'&lt;U3'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 187px;"></div><div class="CodeMirror-gutters" style="display: none; height: 187px;"></div></div></div></pre><ul><li>访问元素</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span>[<span class="cm-number">2</span>]</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span>[<span class="cm-operator">-</span><span class="cm-number">3</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">'方绮雯'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">'方绮雯'</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 133px;"></div><div class="CodeMirror-gutters" style="display: none; height: 133px;"></div></div></div></pre><ul><li>数组切片</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">subjects</span>[ [<span class="cm-number">0</span>,<span class="cm-number">2</span>,<span class="cm-number">4</span>] ]</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span>[ <span class="cm-number">1</span>:<span class="cm-number">4</span> ] <span class="cm-comment">#抽取索引为1、2、3 的元素</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">subjects</span>[ : <span class="cm-operator">-</span><span class="cm-number">1</span>:<span class="cm-number">2</span>] <span class="cm-comment">#抽取索引为0、2、4 的元素</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-string">'Math'</span>, <span class="cm-string">'Python'</span>, <span class="cm-string">'Art'</span>], <span class="cm-variable">dtype</span>=<span class="cm-string">'&lt;U8'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-string">'肖良英'</span> <span class="cm-string">'方绮雯'</span> <span class="cm-string">'刘旭阳'</span>], <span class="cm-variable">dtype</span>=<span class="cm-string">'&lt;U3'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-string">'Math'</span>, <span class="cm-string">'Python'</span>, <span class="cm-string">'Art'</span>], <span class="cm-variable">dtype</span>=<span class="cm-string">'&lt;U8'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 187px;"></div><div class="CodeMirror-gutters" style="display: none; height: 187px;"></div></div></div></pre><ul><li>条件筛选</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mask</span> = (<span class="cm-variable">names</span> == <span class="cm-string">'王微'</span>) <span class="cm-operator">|</span> (<span class="cm-variable">names</span>== <span class="cm-string">'钱易铭'</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span>[ <span class="cm-variable">mask</span> ]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([ <span class="cm-keyword">True</span>, <span class="cm-keyword">False</span>, <span class="cm-keyword">False</span>, <span class="cm-keyword">False</span>, <span class="cm-keyword">True</span>], <span class="cm-variable">dtype</span>=<span class="cm-builtin">bool</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-string">'王微'</span>, <span class="cm-string">'钱易铭'</span>], <span class="cm-variable">dtype</span>=<span class="cm-string">'&lt;U3'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 133px;"></div><div class="CodeMirror-gutters" style="display: none; height: 133px;"></div></div></div></pre><h3><a name='header-n39' class='md-header-anchor '></a>二维数组对象</h3><ul><li>创建二维ndarray 对象。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span> = <span class="cm-variable">np</span>.<span class="cm-property">array</span>([[<span class="cm-number">70</span>,<span class="cm-number">85</span>,<span class="cm-number">77</span>,<span class="cm-number">90</span>,<span class="cm-number">82</span>,<span class="cm-number">84</span>,<span class="cm-number">89</span>],</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>[<span class="cm-number">60</span>,<span class="cm-number">64</span>,<span class="cm-number">80</span>,<span class="cm-number">75</span>,<span class="cm-number">80</span>,<span class="cm-number">92</span>,<span class="cm-number">90</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>[<span class="cm-number">90</span>,<span class="cm-number">93</span>,<span class="cm-number">88</span>,<span class="cm-number">87</span>,<span class="cm-number">86</span>,<span class="cm-number">90</span>,<span class="cm-number">91</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>[<span class="cm-number">80</span>,<span class="cm-number">82</span>,<span class="cm-number">91</span>,<span class="cm-number">88</span>,<span class="cm-number">83</span>,<span class="cm-number">86</span>,<span class="cm-number">80</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>[<span class="cm-number">88</span>,<span class="cm-number">72</span>,<span class="cm-number">78</span>,<span class="cm-number">90</span>,<span class="cm-number">91</span>,<span class="cm-number">73</span>,<span class="cm-number">80</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">arange</span>(<span class="cm-number">0</span>,<span class="cm-number">11</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">arange</span>(<span class="cm-number">3</span>,<span class="cm-number">11</span>,<span class="cm-number">2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">arange</span>(<span class="cm-number">0.3</span>,<span class="cm-number">1.5</span>,<span class="cm-number">0.3</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">arange</span>(<span class="cm-number">0</span>,<span class="cm-number">15</span>).<span class="cm-property">reshape</span>(<span class="cm-number">3</span>,<span class="cm-number">5</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">zeros</span>((<span class="cm-number">3</span>,<span class="cm-number">4</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">ones</span>((<span class="cm-number">4</span>,<span class="cm-number">3</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">70</span>, <span class="cm-number">85</span>, <span class="cm-number">77</span>, <span class="cm-number">90</span>, <span class="cm-number">82</span>, <span class="cm-number">84</span>, <span class="cm-number">89</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">60</span>, <span class="cm-number">64</span>, <span class="cm-number">80</span>, <span class="cm-number">75</span>, <span class="cm-number">80</span>, <span class="cm-number">92</span>, <span class="cm-number">90</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">90</span>, <span class="cm-number">93</span>, <span class="cm-number">88</span>, <span class="cm-number">87</span>, <span class="cm-number">86</span>, <span class="cm-number">90</span>, <span class="cm-number">91</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">80</span>, <span class="cm-number">82</span>, <span class="cm-number">91</span>, <span class="cm-number">88</span>, <span class="cm-number">83</span>, <span class="cm-number">86</span>, <span class="cm-number">80</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">88</span>, <span class="cm-number">72</span>, <span class="cm-number">78</span>, <span class="cm-number">90</span>, <span class="cm-number">91</span>, <span class="cm-number">73</span>, <span class="cm-number">80</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([ <span class="cm-number">0</span>, <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>, <span class="cm-number">5</span>, <span class="cm-number">6</span>, <span class="cm-number">7</span>, <span class="cm-number">8</span>, <span class="cm-number">9</span>, <span class="cm-number">10</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-number">3</span>, <span class="cm-number">5</span>, <span class="cm-number">7</span>, <span class="cm-number">9</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([ <span class="cm-number">0.3</span>, <span class="cm-number">0.6</span>, <span class="cm-number">0.9</span>, <span class="cm-number">1.2</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[ <span class="cm-number">0</span>, <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">5</span>, <span class="cm-number">6</span>, <span class="cm-number">7</span>, <span class="cm-number">8</span>, <span class="cm-number">9</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">10</span>, <span class="cm-number">11</span>, <span class="cm-number">12</span>, <span class="cm-number">13</span>, <span class="cm-number">14</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[ <span class="cm-number">0.</span>, <span class="cm-number">0.</span>, <span class="cm-number">0.</span>, <span class="cm-number">0.</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">0.</span>, <span class="cm-number">0.</span>, <span class="cm-number">0.</span>, <span class="cm-number">0.</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">0.</span>, <span class="cm-number">0.</span>, <span class="cm-number">0.</span>, <span class="cm-number">0.</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[ <span class="cm-number">1.</span>, <span class="cm-number">1.</span>, <span class="cm-number">1.</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">1.</span>, <span class="cm-number">1.</span>, <span class="cm-number">1.</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">1.</span>, <span class="cm-number">1.</span>, <span class="cm-number">1.</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">1.</span>, <span class="cm-number">1.</span>, <span class="cm-number">1.</span>]])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 803px;"></div><div class="CodeMirror-gutters" style="display: none; height: 803px;"></div></div></div></pre><ul><li>查看属性</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>.<span class="cm-property">ndim</span> <span class="cm-comment">#数组维数</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>.<span class="cm-property">size</span> <span class="cm-comment">#数组元素总数＝行数×列数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>.<span class="cm-property">shape</span> <span class="cm-comment">#数组的行数和列数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>.<span class="cm-property">dtype</span> <span class="cm-comment">#数组元素的类型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">35</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(<span class="cm-number">5</span>, <span class="cm-number">7</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>(<span class="cm-string">'int32'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 240px;"></div><div class="CodeMirror-gutters" style="display: none; height: 240px;"></div></div></div></pre><ul><li>二维数组切片</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[<span class="cm-number">1</span>,<span class="cm-number">0</span>]  <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#访问指定行、列的元素，给出行和列两个索引值。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[[<span class="cm-number">1</span>,<span class="cm-number">3</span>],[<span class="cm-number">0</span>,<span class="cm-number">1</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[[<span class="cm-number">1</span>,<span class="cm-number">3</span>]]<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#访问部分行元素，给出行列表即可，列索引的“:”可以省略</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[: , [<span class="cm-number">0</span>,<span class="cm-number">1</span>]] <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">#访问部分列元素，前面的行索引“:”不能省略，否则无法识别是对列切片。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[ [<span class="cm-number">0</span>,<span class="cm-number">3</span>], <span class="cm-number">1</span>:<span class="cm-number">4</span> ]<span class="cm-comment">#访问部分行和列数据。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[[<span class="cm-number">1</span>,<span class="cm-number">3</span>]][:,[<span class="cm-number">0</span>,<span class="cm-number">1</span>]]<span class="cm-comment">#指定某些行中指定列的所有元素，则需要进行两层切片。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">======================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">60</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-number">60</span>, <span class="cm-number">82</span>])<span class="cm-comment">#注意上例中在方括号中给出行切片[1,3]和列切片[0,1]，表示抽取行序号为1、列序号为0，以及行序号为3、列序号为1 的元素，得到一维的ndarray 数组。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">60</span>, <span class="cm-number">64</span>, <span class="cm-number">80</span>, <span class="cm-number">75</span>, <span class="cm-number">80</span>, <span class="cm-number">92</span>, <span class="cm-number">90</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">80</span>, <span class="cm-number">82</span>, <span class="cm-number">91</span>, <span class="cm-number">88</span>, <span class="cm-number">83</span>, <span class="cm-number">86</span>, <span class="cm-number">80</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">70</span>, <span class="cm-number">85</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">60</span>, <span class="cm-number">64</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">90</span>, <span class="cm-number">93</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">80</span>, <span class="cm-number">82</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">88</span>, <span class="cm-number">72</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">85</span>, <span class="cm-number">77</span>, <span class="cm-number">90</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">82</span>, <span class="cm-number">91</span>, <span class="cm-number">88</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">60</span>, <span class="cm-number">64</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">80</span>, <span class="cm-number">82</span>]])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 535px;"></div><div class="CodeMirror-gutters" style="display: none; height: 535px;"></div></div></div></pre><ul><li>条件筛选</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[(<span class="cm-variable">names</span> == <span class="cm-string">'肖良英'</span>) <span class="cm-operator">|</span> (<span class="cm-variable">names</span> == <span class="cm-string">'方绮雯'</span>), :]</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[(<span class="cm-variable">names</span> == <span class="cm-string">'肖良英'</span>) <span class="cm-operator">|</span> (<span class="cm-variable">names</span> == <span class="cm-string">'方绮雯'</span>)][:,(<span class="cm-variable">subjects</span> == <span class="cm-string">'Math'</span>)<span class="cm-operator">|</span>(<span class="cm-variable">subjects</span> == <span class="cm-string">'Python'</span>)]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">60</span>, <span class="cm-number">64</span>, <span class="cm-number">80</span>, <span class="cm-number">75</span>, <span class="cm-number">80</span>, <span class="cm-number">92</span>, <span class="cm-number">90</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">90</span>, <span class="cm-number">93</span>, <span class="cm-number">88</span>, <span class="cm-number">87</span>, <span class="cm-number">86</span>, <span class="cm-number">90</span>, <span class="cm-number">91</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">60</span>, <span class="cm-number">80</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">90</span>, <span class="cm-number">88</span>]])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 187px;"></div><div class="CodeMirror-gutters" style="display: none; height: 187px;"></div></div></div></pre><h3><a name='header-n56' class='md-header-anchor '></a><em>Homework(Week2)</em></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#在subjects 数组中选择并显示序号1、2、4 门课的名称，使用倒序索引选择并显示names 数组中“方绮雯”。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span> = <span class="cm-variable">np</span>.<span class="cm-property">array</span>([<span class="cm-string">'王微'</span>, <span class="cm-string">'肖良英'</span>, <span class="cm-string">'方绮雯'</span>, <span class="cm-string">'刘旭阳'</span>,<span class="cm-string">'钱易铭'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">subjects</span> = <span class="cm-variable">np</span>.<span class="cm-property">array</span>([<span class="cm-string">'Math'</span>, <span class="cm-string">'English'</span>, <span class="cm-string">'Python'</span>, <span class="cm-string">'Chinese'</span>,<span class="cm-string">'Art'</span>,<span class="cm-string">'Database'</span>, <span class="cm-string">'Physics'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">subjects</span>[[<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">4</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">11</span>]: <span class="cm-variable">array</span>([<span class="cm-string">'English'</span>, <span class="cm-string">'Python'</span>, <span class="cm-string">'Art'</span>], <span class="cm-variable">dtype</span>=<span class="cm-string">'&lt;U8'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span>[<span class="cm-operator">-</span><span class="cm-number">3</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">12</span>]: <span class="cm-string">'方绮雯'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#选择并显示names 数组从2 到最后的数组元素；选择并显示subjects 数组正序2～4的数组元素。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span>[<span class="cm-number">2</span>:]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">14</span>]: <span class="cm-variable">array</span>([<span class="cm-string">'方绮雯'</span>, <span class="cm-string">'刘旭阳'</span>, <span class="cm-string">'钱易铭'</span>], <span class="cm-variable">dtype</span>=<span class="cm-string">'&lt;U3'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">subjects</span>[<span class="cm-number">2</span>:<span class="cm-number">4</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">15</span>]: <span class="cm-variable">array</span>([<span class="cm-string">'Python'</span>, <span class="cm-string">'Chinese'</span>], <span class="cm-variable">dtype</span>=<span class="cm-string">'&lt;U8'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#使用布尔条件选择并显示subjects 数组中的英语和物理科目名称。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">subjects</span>[(<span class="cm-variable">subjects</span>==<span class="cm-string">'English'</span>)<span class="cm-operator">|</span>(<span class="cm-variable">subjects</span>==<span class="cm-string">'physics'</span>)]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">18</span>]: <span class="cm-variable">array</span>([<span class="cm-string">'English'</span>], <span class="cm-variable">dtype</span>=<span class="cm-string">'&lt;U8'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#选择并显示scores 数组的1、4 行。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span> = <span class="cm-variable">np</span>.<span class="cm-property">array</span>([[<span class="cm-number">70</span>,<span class="cm-number">85</span>,<span class="cm-number">77</span>,<span class="cm-number">90</span>,<span class="cm-number">82</span>,<span class="cm-number">84</span>,<span class="cm-number">89</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>[<span class="cm-number">60</span>,<span class="cm-number">64</span>,<span class="cm-number">80</span>,<span class="cm-number">75</span>,<span class="cm-number">80</span>,<span class="cm-number">92</span>,<span class="cm-number">90</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>[<span class="cm-number">90</span>,<span class="cm-number">93</span>,<span class="cm-number">88</span>,<span class="cm-number">87</span>,<span class="cm-number">86</span>,<span class="cm-number">90</span>,<span class="cm-number">91</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>[<span class="cm-number">80</span>,<span class="cm-number">82</span>,<span class="cm-number">91</span>,<span class="cm-number">88</span>,<span class="cm-number">83</span>,<span class="cm-number">86</span>,<span class="cm-number">80</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>[<span class="cm-number">88</span>,<span class="cm-number">72</span>,<span class="cm-number">78</span>,<span class="cm-number">90</span>,<span class="cm-number">91</span>,<span class="cm-number">73</span>,<span class="cm-number">80</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[[<span class="cm-number">1</span>,<span class="cm-number">4</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">21</span>]: <span class="cm-variable">array</span>([[<span class="cm-number">60</span>, <span class="cm-number">64</span>, <span class="cm-number">80</span>, <span class="cm-number">75</span>, <span class="cm-number">80</span>, <span class="cm-number">92</span>, <span class="cm-number">90</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  [<span class="cm-number">88</span>, <span class="cm-number">72</span>, <span class="cm-number">78</span>, <span class="cm-number">90</span>, <span class="cm-number">91</span>, <span class="cm-number">73</span>, <span class="cm-number">80</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#选择并显示scores 数组中行序2、4 学生的数学和Python 成绩。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[[<span class="cm-number">2</span>,<span class="cm-number">4</span>]][:,(<span class="cm-variable">subjects</span>==<span class="cm-string">'Math'</span>)<span class="cm-operator">|</span>(<span class="cm-variable">subjects</span>==<span class="cm-string">'Python'</span>)]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">24</span>]: <span class="cm-variable">array</span>([[<span class="cm-number">90</span>, <span class="cm-number">88</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  [<span class="cm-number">88</span>, <span class="cm-number">78</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#选择并显示scores 数组中所有学生的数学和艺术课程成绩。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[:,(<span class="cm-variable">subjects</span>==<span class="cm-string">'Math'</span>)<span class="cm-operator">|</span>(<span class="cm-variable">subjects</span>==<span class="cm-string">'Art'</span>)]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">7</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">70</span>, <span class="cm-number">82</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">60</span>, <span class="cm-number">80</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">90</span>, <span class="cm-number">86</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">80</span>, <span class="cm-number">83</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">88</span>, <span class="cm-number">91</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#选择并显示scores 数组中“王微”和“刘旭阳”的英语和艺术课程成绩。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[(<span class="cm-variable">names</span>==<span class="cm-string">'王微'</span>)<span class="cm-operator">|</span>(<span class="cm-variable">names</span>==<span class="cm-string">'刘旭阳'</span>)][:,(<span class="cm-variable">subjects</span>==<span class="cm-string">'English'</span>)<span class="cm-operator">|</span>(<span class="cm-variable">subjects</span>==<span class="cm-string">'Art'</span>)]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">29</span>]: <span class="cm-variable">array</span>([[<span class="cm-number">85</span>, <span class="cm-number">82</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  [<span class="cm-number">82</span>, <span class="cm-number">83</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#生成由整数10～19 组成的2×5 的二维数组。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">arange</span>(<span class="cm-number">10</span>,<span class="cm-number">20</span>).<span class="cm-property">reshape</span>(<span class="cm-number">2</span>,<span class="cm-number">5</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">31</span>]: <span class="cm-variable">array</span>([[<span class="cm-number">10</span>, <span class="cm-number">11</span>, <span class="cm-number">12</span>, <span class="cm-number">13</span>, <span class="cm-number">14</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  [<span class="cm-number">15</span>, <span class="cm-number">16</span>, <span class="cm-number">17</span>, <span class="cm-number">18</span>, <span class="cm-number">19</span>]])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1176px;"></div></div></div></pre><h3><a name='header-n58' class='md-header-anchor '></a>多维数组运算</h3><ul><li>Python 支持的常见算术运算，如“+”、“-”、“*”、“/”、“**”（平方）等都可以在多维数组上直接使用。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span> <span class="cm-operator">+</span> <span class="cm-number">5</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">#为所有学生的所有课程成绩增加5分。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#&lt;==&gt;scores + np.ones((5,7))*5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span> <span class="cm-operator">+</span> <span class="cm-variable">np</span>.<span class="cm-property">array</span>([<span class="cm-number">3</span>,<span class="cm-number">4</span>,<span class="cm-number">5</span>,<span class="cm-number">3</span>,<span class="cm-number">6</span>,<span class="cm-number">7</span>,<span class="cm-number">2</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#加法操作用到了广播机制，NumPy 首先将一维数组bonus 变成每列值相同的5×7 二维数组，然后再和scores 相加。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[<span class="cm-variable">names</span> == <span class="cm-string">'肖良英'</span>, <span class="cm-variable">subjects</span> == <span class="cm-string">'English'</span>] <span class="cm-operator">+</span> <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===========================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">75</span>, <span class="cm-number">90</span>, <span class="cm-number">82</span>, <span class="cm-number">95</span>, <span class="cm-number">87</span>, <span class="cm-number">89</span>, <span class="cm-number">94</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">65</span>, <span class="cm-number">69</span>, <span class="cm-number">85</span>, <span class="cm-number">80</span>, <span class="cm-number">85</span>, <span class="cm-number">97</span>, <span class="cm-number">95</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">95</span>, <span class="cm-number">98</span>, <span class="cm-number">93</span>, <span class="cm-number">92</span>, <span class="cm-number">91</span>, <span class="cm-number">95</span>, <span class="cm-number">96</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">85</span>, <span class="cm-number">87</span>, <span class="cm-number">96</span>, <span class="cm-number">93</span>, <span class="cm-number">88</span>, <span class="cm-number">91</span>, <span class="cm-number">85</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">93</span>, <span class="cm-number">77</span>, <span class="cm-number">83</span>, <span class="cm-number">95</span>, <span class="cm-number">96</span>, <span class="cm-number">78</span>, <span class="cm-number">85</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">73</span>, <span class="cm-number">89</span>, <span class="cm-number">82</span>, <span class="cm-number">93</span>, <span class="cm-number">88</span>, <span class="cm-number">91</span>, <span class="cm-number">91</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">63</span>, <span class="cm-number">68</span>, <span class="cm-number">85</span>, <span class="cm-number">78</span>, <span class="cm-number">86</span>, <span class="cm-number">99</span>, <span class="cm-number">92</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">93</span>, <span class="cm-number">97</span>, <span class="cm-number">93</span>, <span class="cm-number">90</span>, <span class="cm-number">92</span>, <span class="cm-number">97</span>, <span class="cm-number">93</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">83</span>, <span class="cm-number">86</span>, <span class="cm-number">96</span>, <span class="cm-number">91</span>, <span class="cm-number">89</span>, <span class="cm-number">93</span>, <span class="cm-number">82</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">91</span>, <span class="cm-number">76</span>, <span class="cm-number">83</span>, <span class="cm-number">93</span>, <span class="cm-number">97</span>, <span class="cm-number">80</span>, <span class="cm-number">82</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-number">69</span>])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 454px;"></div><div class="CodeMirror-gutters" style="display: none; height: 454px;"></div></div></div></pre><ul><li>函数</li></ul><figure><table><thead><tr><th style='text-align:center;' >函数</th><th style='text-align:center;' >描述</th></tr></thead><tbody><tr><td style='text-align:center;' >abs</td><td style='text-align:center;' >计算整数、浮点数或复数的绝对值</td></tr><tr><td style='text-align:center;' >sqrt</td><td style='text-align:center;' >计算各元素的平方根</td></tr><tr><td style='text-align:center;' >square</td><td style='text-align:center;' >计算各元素的平方</td></tr><tr><td style='text-align:center;' >exp</td><td style='text-align:center;' >计算各元素的指数</td></tr><tr><td style='text-align:center;' >log</td><td style='text-align:center;' >自然对数、底数为10 的log</td></tr><tr><td style='text-align:center;' >sign</td><td style='text-align:center;' >计算各元素的正负号</td></tr><tr><td style='text-align:center;' >ceil</td><td style='text-align:center;' >计算各元素的ceiling 值，即大于或等于该值的最小整数</td></tr><tr><td style='text-align:center;' >floor</td><td style='text-align:center;' >计算各元素的floor 值，即小于或等于该值的最大整数</td></tr><tr><td style='text-align:center;' >cos、cosh、sin、sinh、tan、tanh、</td><td style='text-align:center;' >普通和双曲型三角函数</td></tr></tbody></table></figure><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">floor</span>(<span class="cm-variable">scores</span><span class="cm-operator">/</span><span class="cm-number">10</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==========================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[ <span class="cm-number">7.</span>, <span class="cm-number">8.</span>, <span class="cm-number">7.</span>, <span class="cm-number">9.</span>, <span class="cm-number">8.</span>, <span class="cm-number">8.</span>, <span class="cm-number">8.</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">6.</span>, <span class="cm-number">6.</span>, <span class="cm-number">8.</span>, <span class="cm-number">7.</span>, <span class="cm-number">8.</span>, <span class="cm-number">9.</span>, <span class="cm-number">9.</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">9.</span>, <span class="cm-number">9.</span>, <span class="cm-number">8.</span>, <span class="cm-number">8.</span>, <span class="cm-number">8.</span>, <span class="cm-number">9.</span>, <span class="cm-number">9.</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">8.</span>, <span class="cm-number">8.</span>, <span class="cm-number">9.</span>, <span class="cm-number">8.</span>, <span class="cm-number">8.</span>, <span class="cm-number">8.</span>, <span class="cm-number">8.</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">8.</span>, <span class="cm-number">7.</span>, <span class="cm-number">7.</span>, <span class="cm-number">9.</span>, <span class="cm-number">9.</span>, <span class="cm-number">7.</span>, <span class="cm-number">8.</span>]])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 187px;"></div><div class="CodeMirror-gutters" style="display: none; height: 187px;"></div></div></div></pre><figure><table><thead><tr><th style='text-align:center;' >函数</th><th style='text-align:center;' >描述</th></tr></thead><tbody><tr><td style='text-align:center;' >add</td><td style='text-align:center;' >将数据中对应的元素相加</td></tr><tr><td style='text-align:center;' >substract</td><td style='text-align:center;' >从第一个数组中减去第二个数组中的元素</td></tr><tr><td style='text-align:center;' >multiply</td><td style='text-align:center;' >数组元素相乘</td></tr><tr><td style='text-align:center;' >divide</td><td style='text-align:center;' >数组对应元素相除</td></tr><tr><td style='text-align:center;' >power</td><td style='text-align:center;' >对第一个数组中的元素A，根据第二个数组中的相应元素B，计算A<sup>B</sup></td></tr><tr><td style='text-align:center;' >mod</td><td style='text-align:center;' >元素级的求模运算</td></tr><tr><td style='text-align:center;' >copysign</td><td style='text-align:center;' >将第二个数组中的值的符号复制给第一个数组中的值</td></tr><tr><td style='text-align:center;' >equal,not_equal</td><td style='text-align:center;' >执行元素级的比较运算，产生布尔型数组</td></tr></tbody></table></figure><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">subtract</span>(<span class="cm-variable">scores</span>, <span class="cm-number">3</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">67</span>, <span class="cm-number">82</span>, <span class="cm-number">74</span>, <span class="cm-number">87</span>, <span class="cm-number">79</span>, <span class="cm-number">81</span>, <span class="cm-number">86</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">57</span>, <span class="cm-number">61</span>, <span class="cm-number">77</span>, <span class="cm-number">72</span>, <span class="cm-number">77</span>, <span class="cm-number">89</span>, <span class="cm-number">87</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">87</span>, <span class="cm-number">90</span>, <span class="cm-number">85</span>, <span class="cm-number">84</span>, <span class="cm-number">83</span>, <span class="cm-number">87</span>, <span class="cm-number">88</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">77</span>, <span class="cm-number">79</span>, <span class="cm-number">88</span>, <span class="cm-number">85</span>, <span class="cm-number">80</span>, <span class="cm-number">83</span>, <span class="cm-number">77</span>]])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 133px;"></div><div class="CodeMirror-gutters" style="display: none; height: 133px;"></div></div></div></pre><ul><li>聚集函数</li></ul><figure><table><thead><tr><th style='text-align:center;' >函数</th><th style='text-align:center;' >描述</th></tr></thead><tbody><tr><td style='text-align:center;' >sum</td><td style='text-align:center;' >求和</td></tr><tr><td style='text-align:center;' >mean</td><td style='text-align:center;' >算术平均值</td></tr><tr><td style='text-align:center;' >min、max</td><td style='text-align:center;' >最大值和最小值</td></tr><tr><td style='text-align:center;' >argmin、argmax</td><td style='text-align:center;' >最大值和最小值索引</td></tr><tr><td style='text-align:center;' >cumsum</td><td style='text-align:center;' >从0开始向前累加</td></tr><tr><td style='text-align:center;' >cumprod</td><td style='text-align:center;' >从1开始向前累乘</td></tr></tbody></table></figure><ul><li>对于二维数组对象，可以指定聚集函数是在行上操作还是在列上操作。当参数axis 为0 时，函数操作的对象是同一列不同行的数组元素；当参数axis 为1 时，函数操作的对象是同一行不同列的数组元素。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>.<span class="cm-property">sum</span>(<span class="cm-variable">axis</span> = <span class="cm-number">0</span>) <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> <span class="cm-comment">#按列求和</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[<span class="cm-variable">names</span> == <span class="cm-string">'王微'</span>].<span class="cm-property">mean</span>()<span class="cm-tab" role="presentation" cm-text="	">    </span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; &nbsp;<span class="cm-comment">#求“王微”所有课程成绩的平均分。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">names</span>[ <span class="cm-variable">scores</span>[:,<span class="cm-variable">subjects</span> == <span class="cm-string">'English'</span>].<span class="cm-property">argmax</span>()] <span class="cm-comment">#查询英语考试成绩最高的学生的姓名。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-number">388</span>, <span class="cm-number">396</span>, <span class="cm-number">414</span>, <span class="cm-number">430</span>, <span class="cm-number">422</span>, <span class="cm-number">425</span>, <span class="cm-number">430</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">82.42</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">'方绮雯'</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 188px;"></div><div class="CodeMirror-gutters" style="display: none; height: 188px;"></div></div></div></pre><ul><li>随机函数</li></ul><figure><table><thead><tr><th style='text-align:center;' >函数</th><th style='text-align:center;' >描述</th></tr></thead><tbody><tr><td style='text-align:center;' >random</td><td style='text-align:center;' >随机产生[0,1)之间的浮点值</td></tr><tr><td style='text-align:center;' >randint</td><td style='text-align:center;' >随机生成给定范围内的一组整数</td></tr><tr><td style='text-align:center;' >uniform</td><td style='text-align:center;' >随机生成给定范围内服从均匀分布的一组浮点数</td></tr><tr><td style='text-align:center;' >choice</td><td style='text-align:center;' >在给定的序列内随机选择元素</td></tr><tr><td style='text-align:center;' >normal</td><td style='text-align:center;' >随机生成一组服从给定均值和方差的正态分布随机数</td></tr></tbody></table></figure><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">random</span>.<span class="cm-property">randint</span>(<span class="cm-number">0</span>,<span class="cm-number">6</span>,<span class="cm-number">10</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">random</span>.<span class="cm-property">randint</span>(<span class="cm-number">0</span>, <span class="cm-number">2</span>, <span class="cm-variable">size</span> = (<span class="cm-number">5</span>,<span class="cm-number">6</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">random</span>.<span class="cm-property">normal</span>( <span class="cm-number">0</span>,<span class="cm-number">1</span>, <span class="cm-variable">size</span> = (<span class="cm-number">4</span>,<span class="cm-number">5</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-number">5</span>, <span class="cm-number">5</span>, <span class="cm-number">0</span>, <span class="cm-number">2</span>, <span class="cm-number">4</span>, <span class="cm-number">3</span>, <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">5</span>, <span class="cm-number">4</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">1</span>, <span class="cm-number">1</span>, <span class="cm-number">1</span>, <span class="cm-number">0</span>, <span class="cm-number">1</span>, <span class="cm-number">0</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-number">1</span>, <span class="cm-number">1</span>, <span class="cm-number">0</span>, <span class="cm-number">1</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">0</span>, <span class="cm-number">1</span>, <span class="cm-number">1</span>, <span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-number">0</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">0</span>, <span class="cm-number">1</span>, <span class="cm-number">0</span>, <span class="cm-number">1</span>, <span class="cm-number">1</span>, <span class="cm-number">1</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">1</span>, <span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-number">1</span>, <span class="cm-number">1</span>, <span class="cm-number">0</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[ <span class="cm-number">0.50293855</span>, <span class="cm-operator">-</span><span class="cm-number">0.65924346</span>, <span class="cm-number">1.10370417</span>, <span class="cm-number">0.97295644</span>, <span class="cm-operator">-</span><span class="cm-number">0.94182097</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-operator">-</span><span class="cm-number">0.10743896</span>, <span class="cm-operator">-</span><span class="cm-number">0.62138498</span>, <span class="cm-operator">-</span><span class="cm-number">0.70710979</span>, <span class="cm-operator">-</span><span class="cm-number">0.31265519</span>, <span class="cm-operator">-</span><span class="cm-number">0.10357636</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">1.32282187</span>, <span class="cm-number">0.91143092</span>, <span class="cm-operator">-</span><span class="cm-number">1.1728774</span> , <span class="cm-number">0.51703585</span>, <span class="cm-operator">-</span><span class="cm-number">1.38091545</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-operator">-</span><span class="cm-number">2.02050138</span>, <span class="cm-operator">-</span><span class="cm-number">0.936194</span>, <span class="cm-number">1.47082363</span>, <span class="cm-number">1.73261098</span>, <span class="cm-operator">-</span><span class="cm-number">0.42447148</span>]])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 400px;"></div><div class="CodeMirror-gutters" style="display: none; height: 400px;"></div></div></div></pre><h4><a name='header-n179' class='md-header-anchor '></a><em>Practice_w2</em></h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将scores 数组中所有学生的英语成绩减去3分别显示。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>[:,(<span class="cm-variable">subjects</span>==<span class="cm-string">'English'</span>)]<span class="cm-operator">-</span><span class="cm-number">3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">50</span>]: <span class="cm-variable">array</span>([[<span class="cm-number">82</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  [<span class="cm-number">61</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  [<span class="cm-number">90</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  [<span class="cm-number">79</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  [<span class="cm-number">69</span>]])<span class="cm-variable">·</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#统计scores 数组中每名学生所有科目的平均分并显示。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span>.<span class="cm-property">mean</span>(<span class="cm-variable">axis</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">56</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([<span class="cm-number">82.42857143</span>, <span class="cm-number">77.28571429</span>, <span class="cm-number">89.28571429</span>, <span class="cm-number">84.28571429</span>, <span class="cm-number">81.71428571</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#使用随机函数生成[-1,1]之间服从均匀分布的3×4 二维数组，并计算所有元素的和。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">random</span>.<span class="cm-property">uniform</span>(<span class="cm-operator">-</span><span class="cm-number">1</span>,<span class="cm-number">1</span>,<span class="cm-variable">size</span>=(<span class="cm-number">3</span>,<span class="cm-number">4</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">61</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-operator">-</span><span class="cm-number">0.80187894</span>, <span class="cm-operator">-</span><span class="cm-number">0.07307981</span>, &nbsp;<span class="cm-number">0.93094026</span>, <span class="cm-operator">-</span><span class="cm-number">0.08913848</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-operator">-</span><span class="cm-number">0.0531952</span> , <span class="cm-operator">-</span><span class="cm-number">0.09151311</span>, <span class="cm-operator">-</span><span class="cm-number">0.1656102</span> , <span class="cm-operator">-</span><span class="cm-number">0.1818393</span> ],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">0.14782607</span>, <span class="cm-operator">-</span><span class="cm-number">0.99591722</span>, <span class="cm-operator">-</span><span class="cm-number">0.10164152</span>, <span class="cm-operator">-</span><span class="cm-number">0.97713788</span>]])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 453px;"></div><div class="CodeMirror-gutters" style="display: none; height: 453px;"></div></div></div></pre><h3><a name='header-n181' class='md-header-anchor '></a>随机游走</h3><ul><li><p>思路</p><ul><li>为了模拟物体在x 轴和y 轴上每步的随机运动，首先创建一个2×n 的二维数组，行序
0 表示x 轴上的运动，行序1 表示y 轴上的运动，n 为移动总步数。数组元素取值为-1 或1，
1 表示向正向移动一个单位，-1 表示负向移动一个单位。</li><li>在 x 轴、y 轴不同方向上的移动概率相同，可以使用randint()函数在两个整数之间生成
2n 个随机数。由于randint()函数只能在连续整数范围内生成随机数，因此先生成由0 和1
组成的随机数组，然后再将所有的0 替换为-1。</li></ul></li></ul><h4><a name='header-n190' class='md-header-anchor '></a><em>Practice_w3</em></h4><ol start='' ><li>将随机游走的步数增加到100 步，计算物体最终到原点的距离。</li></ol><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">step</span> = <span class="cm-number">100</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pos</span> = <span class="cm-variable">np</span>.<span class="cm-property">random</span>.<span class="cm-property">randint</span>(<span class="cm-number">0</span>,<span class="cm-number">2</span>,<span class="cm-variable">size</span>=(<span class="cm-number">2</span>,<span class="cm-variable">step</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pos</span> = <span class="cm-variable">np</span>.<span class="cm-property">where</span>(<span class="cm-variable">pos</span><span class="cm-operator">&gt;</span><span class="cm-number">0</span>,<span class="cm-number">1</span>,<span class="cm-operator">-</span><span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pos</span> = <span class="cm-variable">pos</span>.<span class="cm-property">cumsum</span>(<span class="cm-variable">axis</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dist</span> = <span class="cm-variable">np</span>.<span class="cm-property">sqrt</span>(<span class="cm-variable">pos</span>[<span class="cm-number">0</span>]<span class="cm-operator">**</span><span class="cm-number">2</span><span class="cm-operator">+</span><span class="cm-variable">pos</span>[<span class="cm-number">1</span>]<span class="cm-operator">**</span><span class="cm-number">2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mean_dist</span> = <span class="cm-variable">dist</span>.<span class="cm-property">mean</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">set_printoptions</span>(<span class="cm-variable">precision</span> = <span class="cm-number">4</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">count</span> = (<span class="cm-variable">dist</span> <span class="cm-operator">&gt;</span> <span class="cm-variable">mean_dist</span>).<span class="cm-property">sum</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'============================'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">dist</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">dist</span>.<span class="cm-property">max</span>())</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">dist</span>.<span class="cm-property">min</span>())</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">count</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'============================'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">x</span>=<span class="cm-variable">pos</span>[<span class="cm-number">0</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span>=<span class="cm-variable">pos</span>[<span class="cm-number">1</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">x</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">y</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span> <span class="cm-comment">#导入图形库</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">plot</span>(<span class="cm-variable">x</span>,<span class="cm-variable">y</span>, <span class="cm-variable">c</span>=<span class="cm-string">'g'</span>,<span class="cm-variable">marker</span>=<span class="cm-string">'*'</span>) <span class="cm-comment">#画折线图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">scatter</span>(<span class="cm-number">0</span>,<span class="cm-number">0</span>,<span class="cm-variable">c</span>=<span class="cm-string">'r'</span>,<span class="cm-variable">marker</span>=<span class="cm-string">'o'</span>) <span class="cm-comment">#单独画原点</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">text</span>(<span class="cm-number">.1</span>, <span class="cm-operator">-</span><span class="cm-number">.1</span>, <span class="cm-string">'origin'</span>) <span class="cm-comment">#添加原点说明文字</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">scatter</span>(<span class="cm-variable">x</span>[<span class="cm-operator">-</span><span class="cm-number">1</span>],<span class="cm-variable">y</span>[<span class="cm-operator">-</span><span class="cm-number">1</span>], <span class="cm-variable">c</span>=<span class="cm-string">'r'</span>, <span class="cm-variable">marker</span>=<span class="cm-string">'o'</span>) <span class="cm-comment">#单独画终点</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">text</span>(<span class="cm-variable">x</span>[<span class="cm-operator">-</span><span class="cm-number">1</span>]<span class="cm-operator">+</span><span class="cm-number">.1</span>, <span class="cm-variable">y</span>[<span class="cm-operator">-</span><span class="cm-number">1</span>]<span class="cm-operator">-</span><span class="cm-number">.1</span>, <span class="cm-string">'stop'</span>) <span class="cm-comment">#添加终点说明文字</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">show</span>()</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 693px;"></div><div class="CodeMirror-gutters" style="display: none; height: 693px;"></div></div></div></pre><ol start='2' ><li>重复多次随机游走过程，物体到原点距离的变化趋势是什么。</li></ol><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">oneRandom</span>():</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">step</span> = <span class="cm-number">100</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">pos</span> = <span class="cm-variable">np</span>.<span class="cm-property">random</span>.<span class="cm-property">randint</span>(<span class="cm-number">0</span>,<span class="cm-number">2</span>,<span class="cm-variable">size</span>=(<span class="cm-number">2</span>,<span class="cm-variable">step</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">pos</span> = <span class="cm-variable">np</span>.<span class="cm-property">where</span>(<span class="cm-variable">pos</span><span class="cm-operator">&gt;</span><span class="cm-number">0</span>,<span class="cm-number">1</span>,<span class="cm-operator">-</span><span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">pos</span> = <span class="cm-variable">pos</span>.<span class="cm-property">cumsum</span>(<span class="cm-variable">axis</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">dist</span> = <span class="cm-variable">np</span>.<span class="cm-property">sqrt</span>(<span class="cm-variable">pos</span>[<span class="cm-number">0</span>][<span class="cm-operator">-</span><span class="cm-number">1</span>]<span class="cm-operator">**</span><span class="cm-number">2</span><span class="cm-operator">+</span><span class="cm-variable">pos</span>[<span class="cm-number">1</span>][<span class="cm-operator">-</span><span class="cm-number">1</span>]<span class="cm-operator">**</span><span class="cm-number">2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">dist</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span> = []</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-variable">i</span> <span class="cm-keyword">in</span> <span class="cm-builtin">range</span>(<span class="cm-number">100</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">dist</span> = <span class="cm-builtin">round</span>(<span class="cm-variable">oneRandom</span>(),<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">res</span>.<span class="cm-property">append</span>(<span class="cm-variable">dist</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">res</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 347px;"></div><div class="CodeMirror-gutters" style="display: none; height: 347px;"></div></div></div></pre><h3><a name='header-n199' class='md-header-anchor '></a><em>Homework(Week3)</em></h3><p>1．“大润发”、“沃尔玛”、“好德”和“农工商”四个超市都卖苹果、香蕉、橘子和芒果四种水果。使用NumPy 的ndarray 实现以下功能。</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 346.667px; left: 85.3333px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）创建两个一维数组分别存储超市名称和水果名称。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">market</span> = <span class="cm-variable">np</span>.<span class="cm-property">array</span>([<span class="cm-string">'大润发'</span>,<span class="cm-string">'沃尔玛'</span>,<span class="cm-string">'好德'</span>,<span class="cm-string">'农工商'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fruit</span> = <span class="cm-variable">np</span>.<span class="cm-property">array</span>([<span class="cm-string">'苹果'</span>,<span class="cm-string">'香蕉'</span>,<span class="cm-string">'橘子'</span>,<span class="cm-string">'芒果'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）创建一个4×4 的二维数组存储不同超市的水果价格，其中价格由4～10 范围内的随机数生成。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">price</span> = <span class="cm-variable">np</span>.<span class="cm-property">random</span>.<span class="cm-property">uniform</span>(<span class="cm-number">4</span>,<span class="cm-number">10</span>,<span class="cm-variable">size</span>=(<span class="cm-number">4</span>,<span class="cm-number">4</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">set_printoptions</span>(<span class="cm-variable">precision</span> = <span class="cm-number">2</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">price</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">102</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">4.47</span>, <span class="cm-number">6.12</span>, <span class="cm-number">8.93</span>, <span class="cm-number">8.17</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">5.76</span>, <span class="cm-number">4.17</span>, <span class="cm-number">7.22</span>, <span class="cm-number">5.12</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">7.44</span>, <span class="cm-number">4.9</span> , <span class="cm-number">8.36</span>, <span class="cm-number">4.02</span>],</span></pre><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">9.66</span>, <span class="cm-number">8.8</span> , <span class="cm-number">9.19</span>, <span class="cm-number">8.76</span>]])</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3）选择“大润发”的苹果和“好德”的香蕉，并将价格增加1 元。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">price</span>[<span class="cm-variable">fruit</span>==<span class="cm-string">'苹果'</span>,<span class="cm-variable">market</span>==<span class="cm-string">'大润发'</span>] += <span class="cm-number">1</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">price</span>[<span class="cm-variable">fruit</span>==<span class="cm-string">'苹果'</span>,<span class="cm-variable">market</span>==<span class="cm-string">'大润发'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">112</span>]: <span class="cm-variable">array</span>([<span class="cm-number">5.47</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">price</span>[<span class="cm-variable">fruit</span>==<span class="cm-string">'香蕉'</span>,<span class="cm-variable">market</span>==<span class="cm-string">'好德'</span>] += <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">price</span>[<span class="cm-variable">fruit</span>==<span class="cm-string">'香蕉'</span>,<span class="cm-variable">market</span>==<span class="cm-string">'好德'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">115</span>]: <span class="cm-variable">array</span>([<span class="cm-number">8.22</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#4）“农工商”水果大减价，所有水果价格减2 元。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">price</span>[:,<span class="cm-variable">market</span>==<span class="cm-string">'农工商'</span>] -= <span class="cm-number">2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">price</span>[:,<span class="cm-variable">market</span>==<span class="cm-string">'农工商'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">120</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">6.17</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">3.12</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">2.02</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">6.76</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#5）统计四个超市苹果和芒果的销售均价。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">price</span>[(<span class="cm-variable">fruit</span>==<span class="cm-string">'苹果'</span>)<span class="cm-operator">|</span>(<span class="cm-variable">fruit</span>==<span class="cm-string">'芒果'</span>)].<span class="cm-property">mean</span>(<span class="cm-variable">axis</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">121</span>]: <span class="cm-variable">array</span>([<span class="cm-number">6.67</span>, <span class="cm-number">8.6</span> ])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#6）找出橘子价格最贵的超市名称（不是编号）。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">market</span>[<span class="cm-variable">price</span>[<span class="cm-variable">fruit</span>==<span class="cm-string">'橘子'</span>].<span class="cm-property">argmax</span>()]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">123</span>]: <span class="cm-string">'好德'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===========================================</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1067px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1067px;"></div></div></div></pre><p>2．基于2.3 节中随机游走的例子，使用ndarray 和随机数生成函数模拟一个物体在三维空间随机游走的过程。</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）创建3×10 的二维数组，记录物体每步在三个轴向上的移动距离。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; 在每个轴向的移动距离服从标准正态分布（期望为0，方差为1）。行序0、1、2 分别对应x 轴、y 轴和z 轴。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">move_step</span> = <span class="cm-variable">np</span>.<span class="cm-property">random</span>.<span class="cm-property">normal</span>(<span class="cm-number">0</span>,<span class="cm-number">1</span>,<span class="cm-variable">size</span>=(<span class="cm-number">3</span>,<span class="cm-number">10</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">move_step</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">136</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[ <span class="cm-number">0.73</span>, <span class="cm-operator">-</span><span class="cm-number">1.61</span>, &nbsp;<span class="cm-number">0.63</span>, <span class="cm-operator">-</span><span class="cm-number">1.1</span> , <span class="cm-operator">-</span><span class="cm-number">0.77</span>, <span class="cm-operator">-</span><span class="cm-number">0.24</span>, <span class="cm-operator">-</span><span class="cm-number">0.07</span>, &nbsp;<span class="cm-number">0.8</span> , &nbsp;<span class="cm-number">0.96</span>,<span class="cm-operator">-</span><span class="cm-number">0.</span>  ],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">0.38</span>, <span class="cm-operator">-</span><span class="cm-number">1.55</span>, <span class="cm-operator">-</span><span class="cm-number">0.19</span>, &nbsp;<span class="cm-number">0.16</span>, <span class="cm-operator">-</span><span class="cm-number">0.84</span>, <span class="cm-operator">-</span><span class="cm-number">1.71</span>, &nbsp;<span class="cm-number">0.51</span>, <span class="cm-operator">-</span><span class="cm-number">2.22</span>, <span class="cm-operator">-</span><span class="cm-number">1.08</span>,<span class="cm-number">1.23</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-operator">-</span><span class="cm-number">0.96</span>, &nbsp;<span class="cm-number">0.8</span> , &nbsp;<span class="cm-number">0.95</span>, &nbsp;<span class="cm-number">1.78</span>, <span class="cm-operator">-</span><span class="cm-number">0.43</span>, &nbsp;<span class="cm-number">0.46</span>, <span class="cm-operator">-</span><span class="cm-number">0.32</span>, &nbsp;<span class="cm-number">0.71</span>, <span class="cm-operator">-</span><span class="cm-number">0.18</span>,<span class="cm-number">1.31</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）计算每步走完后物体在三维空间的位置。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pos</span> = <span class="cm-variable">np</span>.<span class="cm-property">cumsum</span>(<span class="cm-variable">move_step</span>,<span class="cm-variable">axis</span> = <span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pos</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">137</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[ <span class="cm-number">0.73</span>, <span class="cm-operator">-</span><span class="cm-number">0.88</span>, <span class="cm-operator">-</span><span class="cm-number">0.25</span>, <span class="cm-operator">-</span><span class="cm-number">1.36</span>, <span class="cm-operator">-</span><span class="cm-number">2.13</span>, <span class="cm-operator">-</span><span class="cm-number">2.37</span>, <span class="cm-operator">-</span><span class="cm-number">2.44</span>, <span class="cm-operator">-</span><span class="cm-number">1.64</span>, <span class="cm-operator">-</span><span class="cm-number">0.67</span>, <span class="cm-operator">-</span><span class="cm-number">0.68</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [ <span class="cm-number">0.38</span>, <span class="cm-operator">-</span><span class="cm-number">1.18</span>, <span class="cm-operator">-</span><span class="cm-number">1.36</span>, <span class="cm-operator">-</span><span class="cm-number">1.21</span>, <span class="cm-operator">-</span><span class="cm-number">2.05</span>, <span class="cm-operator">-</span><span class="cm-number">3.76</span>, <span class="cm-operator">-</span><span class="cm-number">3.25</span>, <span class="cm-operator">-</span><span class="cm-number">5.47</span>, <span class="cm-operator">-</span><span class="cm-number">6.55</span>,<span class="cm-operator">-</span><span class="cm-number">5.31</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-operator">-</span><span class="cm-number">0.96</span>, <span class="cm-operator">-</span><span class="cm-number">0.16</span>, &nbsp;<span class="cm-number">0.8</span> , &nbsp;<span class="cm-number">2.58</span>, &nbsp;<span class="cm-number">2.15</span>, &nbsp;<span class="cm-number">2.61</span>, &nbsp;<span class="cm-number">2.29</span>, &nbsp;<span class="cm-number">3.</span>  , &nbsp;<span class="cm-number">2.81</span>,<span class="cm-number">4.12</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3）计算每步走完后物体到原点的距离（只显示两位小数）。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dist</span> = <span class="cm-variable">np</span>.<span class="cm-property">sqrt</span>(<span class="cm-variable">pos</span>[<span class="cm-number">0</span>]<span class="cm-operator">**</span><span class="cm-number">2</span><span class="cm-operator">+</span><span class="cm-variable">pos</span>[<span class="cm-number">1</span>]<span class="cm-operator">**</span><span class="cm-number">2</span><span class="cm-operator">+</span><span class="cm-variable">pos</span>[<span class="cm-number">2</span>]<span class="cm-operator">**</span><span class="cm-number">2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dist</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">141</span>]: <span class="cm-variable">array</span>([<span class="cm-number">1.26</span>, <span class="cm-number">1.48</span>, <span class="cm-number">1.6</span> , <span class="cm-number">3.16</span>, <span class="cm-number">3.65</span>, <span class="cm-number">5.15</span>, <span class="cm-number">4.66</span>, <span class="cm-number">6.45</span>, <span class="cm-number">7.16</span>, <span class="cm-number">6.76</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#4）统计物体在z 轴上到达的最远距离。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">zmax</span> = <span class="cm-variable">np</span>.<span class="cm-property">abs</span>(<span class="cm-variable">pos</span>[<span class="cm-number">2</span>]).<span class="cm-property">max</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">zmax</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">143</span>]: <span class="cm-number">4.121912570118772</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#5）统计物体在三维空间距离原点的最近值。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">omin</span> = <span class="cm-variable">dist</span>.<span class="cm-property">min</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">omin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">146</span>]: <span class="cm-number">1.260574267821751</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===============================================</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 773px;"></div><div class="CodeMirror-gutters" style="display: none; height: 773px;"></div></div></div></pre><h2><a name='header-n204' class='md-header-anchor '></a>第3章 数据汇总与统计</h2><h3><a name='header-n205' class='md-header-anchor '></a>pandas数据结构</h3><ul><li>pandas 基于NumPy 提供了更方便的数据加载方法，从各种数据源汇集数据，处理缺失数据，对数据进行切片、聚合、整形和汇总统计，实现数据可视化。</li><li>在 Anaconda 中，已经默认安装了统计分析库pandas，使用前只需导入即可。使用pandas进行数据分析时，通常也会用到NumPy 的函数，可同时导入。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">Numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 53px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><ul><li>pandas 设计了两种新型数据结构—Series 和DataFrame，它将多种数据类型的一维、二维甚至多维数据组织成类似于Excel、数据库的表结构，方便关系型数据库处理。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">import</span> <span class="cm-variable">Series</span>, <span class="cm-variable">DataFrame</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 27px;"></div><div class="CodeMirror-gutters" style="display: none; height: 27px;"></div></div></div></pre><h4><a name='header-n216' class='md-header-anchor '></a>Series对象创建</h4><ul><li>Series 是类似于数组的一维数据结构，由两个相关联的数组组成，名为“values”的值数组存放数据（任意类型的数据），每个元素都有一个与之关联的标签，存储在名为“index”的索引数组中。</li><li>创建 5 名篮球运动员身高的Series 对象height，值是身高，索引为球衣号码。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>=<span class="cm-variable">Series</span>([<span class="cm-number">187</span>,<span class="cm-number">190</span>,<span class="cm-number">185</span>,<span class="cm-number">178</span>,<span class="cm-number">185</span>],<span class="cm-variable">index</span>=[<span class="cm-string">'13'</span>,<span class="cm-string">'14'</span>,<span class="cm-string">'7'</span>,<span class="cm-string">'2'</span>,<span class="cm-string">'9'</span>])</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">13</span> <span class="cm-number">187</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14</span> <span class="cm-number">190</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> <span class="cm-number">185</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">178</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> <span class="cm-number">185</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>: <span class="cm-variable">int64</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 240px;"></div><div class="CodeMirror-gutters" style="display: none; height: 240px;"></div></div></div></pre><ul><li>用字典创建Series 对象，将字典的key 作为索引。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height1</span>=<span class="cm-variable">Series</span>({<span class="cm-string">'13'</span>:<span class="cm-number">187</span>,<span class="cm-string">'14'</span>:<span class="cm-number">190</span>,<span class="cm-string">'7'</span>:<span class="cm-number">185</span>,<span class="cm-string">'2'</span>:<span class="cm-number">178</span>,<span class="cm-string">'9'</span>:<span class="cm-number">185</span>})</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 27px;"></div><div class="CodeMirror-gutters" style="display: none; height: 27px;"></div></div></div></pre><h4><a name='header-n227' class='md-header-anchor '></a>Series对象访问</h4><ul><li>查询</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>[<span class="cm-string">'13'</span>] <span class="cm-comment">#检索13 号球员身高， 同 height[0]</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">187</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>[ [<span class="cm-string">'13'</span>,<span class="cm-string">'2'</span>,<span class="cm-string">'7'</span>] ] <span class="cm-comment">#检索13 号、2 号、7 号球员身高同 height[[0,3,2]]</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">13</span> <span class="cm-number">187</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">178</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> <span class="cm-number">185</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>: <span class="cm-variable">int64</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>[<span class="cm-number">1</span>:<span class="cm-number">3</span>] <span class="cm-comment">#检索位置序号1~2 的球员身高</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14</span> <span class="cm-number">190</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> <span class="cm-number">185</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>[ <span class="cm-variable">height</span>.<span class="cm-property">values</span><span class="cm-operator">&gt;</span>=<span class="cm-number">186</span> ] <span class="cm-comment">#检索高于186 的球员</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">13</span> <span class="cm-number">187</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14</span> <span class="cm-number">190</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>: <span class="cm-variable">int64</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 453px;"></div><div class="CodeMirror-gutters" style="display: none; height: 453px;"></div></div></div></pre><ul><li>修改值或者索引</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>[<span class="cm-string">'13'</span>] = <span class="cm-number">188</span> <span class="cm-comment">#将13 号队员的身高修改为188</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>[<span class="cm-string">'13'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">188</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>[<span class="cm-number">1</span>:<span class="cm-number">3</span>] = <span class="cm-number">160</span> <span class="cm-comment">#修改位置序号1、2 的数据，标量赋值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">13</span> <span class="cm-number">188</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14</span> <span class="cm-number">160</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> <span class="cm-number">160</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">178</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> <span class="cm-number">185</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>: <span class="cm-variable">int64</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>.<span class="cm-property">index</span>=[<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>,<span class="cm-number">4</span>,<span class="cm-number">5</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-number">188</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">160</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-number">160</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> <span class="cm-number">178</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> <span class="cm-number">185</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#注意，如果Series 对象的index 本身为数值类型，基于位置序号的访问需要使用iloc方式实现。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#索引是数字类型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>=<span class="cm-variable">Series</span>([<span class="cm-number">187</span>,<span class="cm-number">190</span>,<span class="cm-number">185</span>,<span class="cm-number">178</span>,<span class="cm-number">185</span>],<span class="cm-variable">index</span>=[<span class="cm-number">13</span>,<span class="cm-number">14</span>,<span class="cm-number">7</span>,<span class="cm-number">2</span>,<span class="cm-number">9</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">13</span> <span class="cm-number">187</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14</span> <span class="cm-number">190</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> <span class="cm-number">185</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">178</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> <span class="cm-number">185</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>: <span class="cm-variable">int64</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>[ [<span class="cm-number">14</span>,<span class="cm-number">7</span>] ] <span class="cm-comment">#使用索引访问</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14</span> <span class="cm-number">190</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> <span class="cm-number">185</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>: <span class="cm-variable">int64</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span>.<span class="cm-property">iloc</span>[<span class="cm-number">0</span>] <span class="cm-comment">#基于位置序号的访问</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">187</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1013px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1013px;"></div></div></div></pre><ul><li>增加：<mark>append()函数将两个Series 拼接产生一个新的Series，原Series 不变。</mark></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">a</span> = <span class="cm-variable">Series</span>([<span class="cm-number">190</span>,<span class="cm-number">187</span>], <span class="cm-variable">index</span>=[<span class="cm-string">'23'</span>,<span class="cm-string">'5'</span>]) <span class="cm-comment">#创建新球员的Series 对象a</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">newheight</span> = <span class="cm-variable">height</span>.<span class="cm-property">append</span>( <span class="cm-variable">a</span> ) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">#取出height 对象值添加a 后赋给newheight</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">newheight</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">13</span> <span class="cm-number">188</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14</span> <span class="cm-number">160</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> <span class="cm-number">160</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">178</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> <span class="cm-number">185</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">23</span> <span class="cm-number">190</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> <span class="cm-number">187</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>: <span class="cm-variable">int64</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">======================================================================== &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">height</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">13</span> <span class="cm-number">188</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14</span> <span class="cm-number">160</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> <span class="cm-number">160</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">178</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> <span class="cm-number">185</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>: <span class="cm-variable">int64</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 507px;"></div><div class="CodeMirror-gutters" style="display: none; height: 507px;"></div></div></div></pre><ul><li>删除：Series 的drop()函数不删除原始对象的数据。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">newheight</span> = <span class="cm-variable">height</span>.<span class="cm-property">drop</span>( [<span class="cm-string">'13'</span>,<span class="cm-variable">’9’</span>] ) <span class="cm-comment">#删除13 号和9 号球员数据</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">newheight</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14</span> <span class="cm-number">160</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> <span class="cm-number">160</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">178</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>: <span class="cm-variable">int64</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 160px;"></div><div class="CodeMirror-gutters" style="display: none; height: 160px;"></div></div></div></pre><h4><a name='header-n244' class='md-header-anchor '></a>DataFrame对象创建</h4><ul><li>DataFrame 类似于表格的二维数据结构，如图3-3 所示，包括值（values）、行索引（index）和列索引（columns）3 部分。DataFrame 对象的任意一行数据或一列数据都可视为Series对象。通常DataFrame 对象中每列表示一个总体的所有样本，每行为某个体在各个总体中的值。</li><li>创建 DataFrame 对象students 记录3 名学生的信息，行索引为数字序号；列索引为age、weight 和height。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = [[<span class="cm-number">19</span>,<span class="cm-number">170</span>,<span class="cm-number">68</span>],[<span class="cm-number">20</span>,<span class="cm-number">165</span>,<span class="cm-number">65</span>],[<span class="cm-number">18</span>,<span class="cm-number">175</span>,<span class="cm-number">65</span>]]</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>=<span class="cm-variable">DataFrame</span>(<span class="cm-variable">data</span>,<span class="cm-variable">index</span>=[<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>],<span class="cm-variable">columns</span>=[<span class="cm-string">'age'</span>,<span class="cm-string">'height'</span>,<span class="cm-string">'weight'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">age</span> <span class="cm-variable">height</span> <span class="cm-variable">weight</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; <span class="cm-number">19</span> &nbsp; <span class="cm-number">170</span> &nbsp; &nbsp;<span class="cm-number">68</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; <span class="cm-number">20</span> &nbsp; <span class="cm-number">165</span> &nbsp; &nbsp;<span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; <span class="cm-number">18</span> &nbsp; <span class="cm-number">175</span> &nbsp; &nbsp;<span class="cm-number">65</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 213px;"></div><div class="CodeMirror-gutters" style="display: none; height: 213px;"></div></div></div></pre><h4><a name='header-n251' class='md-header-anchor '></a>DataFrame对象访问</h4><ul><li>查询</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">loc</span>[ <span class="cm-number">1</span>, <span class="cm-string">'age'</span>] <span class="cm-comment">#查询1 号学生的年龄，index 是数字，不是字符19</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">loc</span>[[<span class="cm-number">1</span>,<span class="cm-number">3</span>], [<span class="cm-string">'height'</span>,<span class="cm-string">'weight'</span>]] <span class="cm-comment">#查询1、3 号学生的身高和体重</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">height</span> <span class="cm-variable">weight</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">170</span> &nbsp; &nbsp; <span class="cm-number">68</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">175</span> &nbsp; &nbsp; <span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">iloc</span>[[<span class="cm-number">0</span>,<span class="cm-number">2</span>],[<span class="cm-number">0</span>,<span class="cm-number">1</span>]] <span class="cm-comment">#查询第0、2 行的第0、1 列的值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">age</span> <span class="cm-variable">height</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">19</span> &nbsp;<span class="cm-number">170</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">18</span> &nbsp;<span class="cm-number">175</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">loc</span>[: , [<span class="cm-string">'height'</span>,<span class="cm-string">'weight'</span>]] <span class="cm-comment">#行索引用“:”，表示所有行的数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">height</span> <span class="cm-variable">weight</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">170</span> &nbsp; &nbsp; <span class="cm-number">68</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp;<span class="cm-number">165</span> &nbsp; &nbsp; <span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">175</span> &nbsp; &nbsp; <span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>[[<span class="cm-string">'height'</span>,<span class="cm-string">'weight'</span>]] <span class="cm-comment">#查询所有学生的身高和体重</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">height</span> <span class="cm-variable">weight</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">170</span> &nbsp; &nbsp; <span class="cm-number">68</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp;<span class="cm-number">165</span> &nbsp; &nbsp; <span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">175</span> &nbsp; &nbsp; <span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">iloc</span>[<span class="cm-number">1</span>:, <span class="cm-number">0</span>:<span class="cm-number">2</span>] <span class="cm-comment">#通过切片抽取某些行和列的数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">age</span> <span class="cm-variable">height</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp;<span class="cm-number">20</span> <span class="cm-number">165</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">18</span> <span class="cm-number">175</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>[<span class="cm-number">1</span>:<span class="cm-number">3</span>] <span class="cm-comment">#抽取行数据，列的“:”可以省略</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">age</span> <span class="cm-variable">height</span> <span class="cm-variable">weight</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">20</span> &nbsp; <span class="cm-number">165</span> &nbsp; &nbsp;<span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-number">18</span> &nbsp; <span class="cm-number">175</span> &nbsp; &nbsp;<span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mask</span> = <span class="cm-variable">students</span>[<span class="cm-string">'height'</span>]<span class="cm-operator">&gt;</span>=<span class="cm-number">168</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mask</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-keyword">True</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-keyword">True</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Name</span>: <span class="cm-variable">height</span>, <span class="cm-variable">dtype</span>: <span class="cm-builtin">bool</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">mask</span>, [<span class="cm-string">'height'</span>,<span class="cm-string">'weight'</span>] ]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">height</span> &nbsp;<span class="cm-variable">weight</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; <span class="cm-number">170</span> &nbsp; &nbsp; <span class="cm-number">68</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; <span class="cm-number">175</span> &nbsp; &nbsp; <span class="cm-number">65</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1147px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1147px;"></div></div></div></pre><ul><li>增加</li><li>DataFrame 对象可以添加新的列，但不能直接增加新的行。当新增的列索引标签不存在时，添加新列；若存在则修改列值。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>[<span class="cm-string">'expense'</span>] = [<span class="cm-number">1500</span>,<span class="cm-number">1600</span>,<span class="cm-number">1200</span>] <span class="cm-comment">#为students 增加月消费数据</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable">students</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">age</span> <span class="cm-variable">height</span> <span class="cm-variable">weight</span> <span class="cm-variable">expense</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">19</span> &nbsp;<span class="cm-number">170</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">68</span> &nbsp; &nbsp;<span class="cm-number">1500</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp;<span class="cm-number">20</span> &nbsp;<span class="cm-number">165</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">65</span> &nbsp; &nbsp;<span class="cm-number">1600</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">18</span> &nbsp;<span class="cm-number">175</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">65</span> &nbsp; &nbsp;<span class="cm-number">1200</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 160px;"></div><div class="CodeMirror-gutters" style="display: none; height: 160px;"></div></div></div></pre><ul><li>修改</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>[<span class="cm-string">'expense'</span>] = <span class="cm-number">1000</span> <span class="cm-comment">#选中月消费列，用标量赋值</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">age</span> <span class="cm-variable">height</span> <span class="cm-variable">weight</span> <span class="cm-variable">expense</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">19</span> &nbsp;<span class="cm-number">170</span> &nbsp; &nbsp;<span class="cm-number">68</span> &nbsp; &nbsp; <span class="cm-number">1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp;<span class="cm-number">20</span> &nbsp;<span class="cm-number">165</span> &nbsp; &nbsp;<span class="cm-number">65</span> &nbsp; &nbsp; <span class="cm-number">1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">18</span> &nbsp;<span class="cm-number">175</span> &nbsp; &nbsp;<span class="cm-number">65</span> &nbsp; &nbsp; <span class="cm-number">1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">loc</span>[<span class="cm-number">1</span>, :] = [<span class="cm-number">21</span>,<span class="cm-number">188</span>,<span class="cm-number">70</span>,<span class="cm-number">20</span>] <span class="cm-comment">#修改1 号学生的数据，使用列表赋值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">age</span> <span class="cm-variable">height</span> <span class="cm-variable">weight</span> <span class="cm-variable">expense</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-number">21</span> &nbsp; <span class="cm-number">188</span> &nbsp; &nbsp; <span class="cm-number">70</span> &nbsp; &nbsp; <span class="cm-number">20</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">20</span> &nbsp; <span class="cm-number">165</span> &nbsp; &nbsp; <span class="cm-number">65</span> &nbsp; &nbsp; <span class="cm-number">1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-number">18</span> &nbsp; <span class="cm-number">175</span> &nbsp; &nbsp; <span class="cm-number">65</span> &nbsp; &nbsp; <span class="cm-number">1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">loc</span>[<span class="cm-variable">students</span>[<span class="cm-string">'expense'</span>]<span class="cm-operator">&lt;</span><span class="cm-number">500</span>, <span class="cm-string">'expense'</span> ] = <span class="cm-number">1200</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">age</span> <span class="cm-variable">height</span> <span class="cm-variable">weight</span> <span class="cm-variable">expense</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-number">21</span> &nbsp; <span class="cm-number">180</span> &nbsp; &nbsp; <span class="cm-number">70</span> &nbsp; &nbsp;<span class="cm-number">1200</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">20</span> &nbsp; <span class="cm-number">165</span> &nbsp; &nbsp; <span class="cm-number">65</span> &nbsp; &nbsp;<span class="cm-number">1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-number">18</span> &nbsp; <span class="cm-number">175</span> &nbsp; &nbsp; <span class="cm-number">65</span> &nbsp; &nbsp;<span class="cm-number">1000</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 533px;"></div><div class="CodeMirror-gutters" style="display: none; height: 533px;"></div></div></div></pre><ul><li>删除</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">drop</span>(<span class="cm-number">1</span>, <span class="cm-variable">axis</span>=<span class="cm-number">0</span>) <span class="cm-comment">#axis=0 表示行</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">age</span> <span class="cm-variable">height</span> <span class="cm-variable">weight</span> <span class="cm-variable">expense</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">20</span> &nbsp; <span class="cm-number">165</span> &nbsp; &nbsp; <span class="cm-number">65</span> &nbsp; &nbsp;<span class="cm-number">1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-number">18</span> &nbsp; <span class="cm-number">175</span> &nbsp; &nbsp; <span class="cm-number">65</span> &nbsp; &nbsp;<span class="cm-number">1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">drop</span>(<span class="cm-string">'expense'</span>, <span class="cm-variable">axis</span>=<span class="cm-number">1</span>) <span class="cm-comment">#删除expense 列，axis=1 表示列</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">age</span> <span class="cm-variable">height</span> <span class="cm-variable">weight</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-number">21</span> &nbsp; <span class="cm-number">180</span> &nbsp; &nbsp; <span class="cm-number">70</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">20</span> &nbsp; <span class="cm-number">165</span> &nbsp; &nbsp; <span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-number">18</span> &nbsp; <span class="cm-number">175</span> &nbsp; &nbsp; <span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">drop</span>([<span class="cm-number">1</span>, <span class="cm-number">2</span>], <span class="cm-variable">axis</span>=<span class="cm-number">0</span>) <span class="cm-comment">#删除多行</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">age</span> <span class="cm-variable">height</span> <span class="cm-variable">weight</span> <span class="cm-variable">expense</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">18</span> &nbsp; <span class="cm-number">175</span> &nbsp; &nbsp; <span class="cm-number">65</span> &nbsp; &nbsp;<span class="cm-number">1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">students</span>.<span class="cm-property">drop</span>([<span class="cm-string">'age'</span>,<span class="cm-string">'weight'</span>], <span class="cm-variable">axis</span>=<span class="cm-number">1</span>, <span class="cm-variable">inplace</span>=<span class="cm-keyword">True</span>)<span class="cm-comment">#删除多列，并修改students对象</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">height</span> <span class="cm-variable">expense</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">180</span> &nbsp; &nbsp;<span class="cm-number">1200</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp;<span class="cm-number">165</span> &nbsp; &nbsp;<span class="cm-number">1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">175</span> &nbsp; &nbsp;<span class="cm-number">1000</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 533px;"></div><div class="CodeMirror-gutters" style="display: none; height: 533px;"></div></div></div></pre><h3><a name='header-n270' class='md-header-anchor '></a><em>Homework(Week4)</em></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1) 创建3×3DataFrame数据对象：数据内容为1-9；行索引为字符a，b，c；列索引为字符串one，two，three；</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">============================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">arange</span>(<span class="cm-number">1</span>,<span class="cm-number">10</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">161</span>]: <span class="cm-variable">array</span>([<span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>, <span class="cm-number">5</span>, <span class="cm-number">6</span>, <span class="cm-number">7</span>, <span class="cm-number">8</span>, <span class="cm-number">9</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">============================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">np</span>.<span class="cm-property">arange</span>(<span class="cm-number">1</span>,<span class="cm-number">10</span>).<span class="cm-property">reshape</span>(<span class="cm-number">3</span>,<span class="cm-number">3</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">162</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>([[<span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">4</span>, <span class="cm-number">5</span>, <span class="cm-number">6</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; [<span class="cm-number">7</span>, <span class="cm-number">8</span>, <span class="cm-number">9</span>]])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=============================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">np</span>.<span class="cm-property">arange</span>(<span class="cm-number">1</span>,<span class="cm-number">10</span>).<span class="cm-property">reshape</span>(<span class="cm-number">3</span>,<span class="cm-number">3</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df_objct</span> = <span class="cm-variable">pd</span>.<span class="cm-property">DataFrame</span>(<span class="cm-variable">data</span>,<span class="cm-variable">index</span> = [<span class="cm-string">'a'</span>,<span class="cm-string">'b'</span>,<span class="cm-string">'c'</span>],<span class="cm-variable">columns</span> = [<span class="cm-string">'one'</span>,<span class="cm-string">'two'</span>,<span class="cm-string">'three'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df_objct</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">166</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">one</span> &nbsp;<span class="cm-variable">two</span> &nbsp;<span class="cm-variable">three</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">a</span> &nbsp; &nbsp;<span class="cm-number">1</span> &nbsp; &nbsp;<span class="cm-number">2</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">b</span> &nbsp; &nbsp;<span class="cm-number">4</span> &nbsp; &nbsp;<span class="cm-number">5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">6</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">c</span> &nbsp; &nbsp;<span class="cm-number">7</span> &nbsp; &nbsp;<span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">9</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==============================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2) 查询列索引为two和three两列数据；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df_objct</span>[[<span class="cm-string">'two'</span>,<span class="cm-string">'three'</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">167</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">two</span> &nbsp;<span class="cm-variable">three</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">a</span> &nbsp; &nbsp;<span class="cm-number">2</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">b</span> &nbsp; &nbsp;<span class="cm-number">5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">6</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">c</span> &nbsp; &nbsp;<span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">9</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3) 查询第0行、第2行、第0列、第2列数据；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df_objct</span>.<span class="cm-property">iloc</span>[[<span class="cm-number">0</span>,<span class="cm-number">2</span>],[<span class="cm-number">0</span>,<span class="cm-number">2</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">168</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">one</span> &nbsp;<span class="cm-variable">three</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">a</span> &nbsp; <span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-number">3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">c</span> &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; <span class="cm-number">9</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#4) 筛选第1列中值大于2的所有行数据，另存为data1对象；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df_objct</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">1</span>]<span class="cm-operator">&gt;</span><span class="cm-number">2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">171</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">a</span> &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">b</span> &nbsp; &nbsp; <span class="cm-keyword">True</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">c</span> &nbsp; &nbsp; <span class="cm-keyword">True</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Name</span>: <span class="cm-variable">two</span>, <span class="cm-variable">dtype</span>: <span class="cm-builtin">bool</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===============================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span> = <span class="cm-variable">df_objct</span>.<span class="cm-property">loc</span>[<span class="cm-variable">df_objct</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">1</span>]<span class="cm-operator">&gt;</span><span class="cm-number">2</span>,:]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">175</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">one</span> &nbsp;<span class="cm-variable">two</span> &nbsp;<span class="cm-variable">three</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">b</span> &nbsp; &nbsp;<span class="cm-number">4</span> &nbsp; &nbsp;<span class="cm-number">5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">6</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">c</span> &nbsp; &nbsp;<span class="cm-number">7</span> &nbsp; &nbsp;<span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">9</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#5) 为data1添加一列数据，列索引为four，值都为10；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span>[<span class="cm-string">'four'</span>] = <span class="cm-number">10</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#__main__:1: SettingWithCopyWarning: </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#A value is trying to be set on a copy of a slice from a DataFrame.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Try using .loc[row_indexer,col_indexer] = value instead</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#See the caveats in the documentation: http://pandas.pydata.org/pandas-#docs/stable/indexing.html#indexing-view-versus-copy</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">177</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">one</span> &nbsp;<span class="cm-variable">two</span> &nbsp;<span class="cm-variable">three</span> &nbsp;<span class="cm-variable">four</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">b</span> &nbsp; &nbsp;<span class="cm-number">4</span> &nbsp; &nbsp;<span class="cm-number">5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">6</span> &nbsp; &nbsp;<span class="cm-number">10</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">c</span> &nbsp; &nbsp;<span class="cm-number">7</span> &nbsp; &nbsp;<span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">9</span> &nbsp; &nbsp;<span class="cm-number">10</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span> = <span class="cm-variable">data1</span>.<span class="cm-property">copy</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span>[<span class="cm-string">'four'</span>] = <span class="cm-number">10</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">182</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">one</span> &nbsp;<span class="cm-variable">two</span> &nbsp;<span class="cm-variable">three</span> &nbsp;<span class="cm-variable">four</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">b</span> &nbsp; &nbsp;<span class="cm-number">4</span> &nbsp; &nbsp;<span class="cm-number">5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">6</span> &nbsp; &nbsp;<span class="cm-number">10</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">c</span> &nbsp; &nbsp;<span class="cm-number">7</span> &nbsp; &nbsp;<span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">9</span> &nbsp; &nbsp;<span class="cm-number">10</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#6) 将data1所有值大于9的数据修改为8；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span><span class="cm-operator">&gt;</span><span class="cm-number">9</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">183</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">one</span> &nbsp; &nbsp;<span class="cm-variable">two</span> &nbsp;<span class="cm-variable">three</span> &nbsp;<span class="cm-variable">four</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">b</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">True</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">c</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">True</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===============================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span>[<span class="cm-variable">data1</span><span class="cm-operator">&gt;</span><span class="cm-number">9</span>] </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">184</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">one</span> &nbsp;<span class="cm-variable">two</span> &nbsp;<span class="cm-variable">three</span> &nbsp;<span class="cm-variable">four</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">b</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp; &nbsp;<span class="cm-variable">NaN</span> &nbsp; &nbsp;<span class="cm-number">10</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">c</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp; &nbsp;<span class="cm-variable">NaN</span> &nbsp; &nbsp;<span class="cm-number">10</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span>[<span class="cm-variable">data1</span><span class="cm-operator">&gt;</span><span class="cm-number">9</span>]=<span class="cm-number">8</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">186</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">one</span> &nbsp;<span class="cm-variable">two</span> &nbsp;<span class="cm-variable">three</span> &nbsp;<span class="cm-variable">four</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">b</span> &nbsp; &nbsp;<span class="cm-number">4</span> &nbsp; &nbsp;<span class="cm-number">5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">6</span> &nbsp; &nbsp; <span class="cm-number">8</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">c</span> &nbsp; &nbsp;<span class="cm-number">7</span> &nbsp; &nbsp;<span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">9</span> &nbsp; &nbsp; <span class="cm-number">8</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#7) 删除data1中第0行和第1行数据。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span> = <span class="cm-variable">data1</span>.<span class="cm-property">drop</span>([<span class="cm-string">'b'</span>,<span class="cm-string">'c'</span>], <span class="cm-variable">axis</span> = <span class="cm-number">0</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">194</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Empty</span> <span class="cm-variable">DataFrame</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Columns</span>: [<span class="cm-variable">one</span>, <span class="cm-variable">two</span>, <span class="cm-variable">three</span>, <span class="cm-variable">four</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Index</span>: []</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 2507px;"></div><div class="CodeMirror-gutters" style="display: none; height: 2507px;"></div></div></div></pre><h3><a name='header-n272' class='md-header-anchor '></a>数据文件读写</h3><ul><li>数据分析的数据可能来自于多种数据源，如文件、数据库、网页或应用程序API 等，pandas 支持多种格式
的数据导入和导出，本节只介绍CSV、TXT、Excel 三种文件的数据读写方法。</li></ul><h4><a name='header-n276' class='md-header-anchor '></a>读取CSV文件</h4><ul><li><p>CSV（Comma Separated Value）是一种特殊的文本文件，通常使用逗号作为字段之间的分隔符，用换行符作为记录之间的分隔符。</p></li><li><p><code>pd.read_csv(file, sep=&#39;,&#39;, header=&#39;infer&#39;, index_col=None, names, skiprows)</code></p></li><li><p>参数说明：</p><ul><li>file：字符串，文件路径和文件名。</li><li>sep：字符串，每行各数据之间的分隔符，默认为“,”。</li><li>header：header=None，文件中第一行不是列索引。</li><li>index_col：数字，用作行索引的列序号。</li><li>names：列表，定义列索引，默认文件中第一行为列索引。</li><li>skiprows：整数或列表，需要忽略的行数或需要跳过的行号列表。</li></ul></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#从 student1.csv 文件读出数据，保存为DataFrame对象。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>( <span class="cm-string">'data\student1.csv '</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student</span>[<span class="cm-operator">-</span><span class="cm-number">3</span>:] <span class="cm-comment">#显示最后3 条数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">序号</span> <span class="cm-variable">性别</span> <span class="cm-variable">年龄</span> <span class="cm-variable">身高</span> <span class="cm-variable">体重</span> <span class="cm-variable">省份</span> &nbsp; &nbsp; <span class="cm-variable">成绩</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> <span class="cm-number">22</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">62</span> <span class="cm-variable">FuJian</span> &nbsp; <span class="cm-number">57</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> <span class="cm-number">20</span> &nbsp;<span class="cm-number">177</span> &nbsp;<span class="cm-number">72</span> <span class="cm-variable">LiaoNing</span> <span class="cm-number">79</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> <span class="cm-number">20</span> &nbsp;<span class="cm-number">172</span> &nbsp;<span class="cm-number">74</span> <span class="cm-variable">ShanDong</span> <span class="cm-number">91</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#由于文件中每个学生已经有序号了，可以在读取时将其导入为行索引。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>( <span class="cm-string">'data\student1.csv '</span>, <span class="cm-variable">index_col</span> = <span class="cm-number">0</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student</span>[ :<span class="cm-number">3</span>] <span class="cm-comment">#从开始到序号为3 的行</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> <span class="cm-variable">性别</span> <span class="cm-variable">年龄</span> <span class="cm-variable">身高</span> <span class="cm-variable">体重</span> <span class="cm-variable">省份</span> &nbsp; &nbsp; <span class="cm-variable">成绩</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> <span class="cm-number">20</span> &nbsp;<span class="cm-number">170</span> &nbsp;<span class="cm-number">70</span> <span class="cm-variable">LiaoNing</span> <span class="cm-number">71</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> <span class="cm-number">22</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">71</span> <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">77</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> <span class="cm-number">22</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">62</span> <span class="cm-variable">FuJian</span> &nbsp; <span class="cm-number">57</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 485px;"></div><div class="CodeMirror-gutters" style="display: none; height: 485px;"></div></div></div></pre><h4><a name='header-n298' class='md-header-anchor '></a>读取TXT文件</h4><ul><li>如果文件不是以逗号作为分隔符的文本（TXT）文件，则读取时需要设置分隔符参数sep。分隔符可以是指定字符串，也可以是正则表达式。</li><li>从 student2.txt文件中读取数据，保存为DataFrame 对象。</li><li>student2.txt 是以制表符作为分割符的，读取时需要指定分割符。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">colNames</span> = [<span class="cm-string">'性别'</span>,<span class="cm-string">'年龄'</span>,<span class="cm-string">'身高'</span>,<span class="cm-string">'体重'</span>,<span class="cm-string">'省份'</span>,<span class="cm-string">'成绩'</span>]</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'data\student2.txt'</span>, <span class="cm-variable">sep</span>=<span class="cm-string">'\t'</span>, <span class="cm-variable">index_col</span>=<span class="cm-number">0</span>,<span class="cm-variable">header</span>=<span class="cm-keyword">None</span>, <span class="cm-variable">names</span>= <span class="cm-variable">colNames</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student</span>[:<span class="cm-number">2</span>]</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 80px;"></div><div class="CodeMirror-gutters" style="display: none; height: 80px;"></div></div></div></pre><h4><a name='header-n307' class='md-header-anchor '></a>保存为CSV文件</h4><ul><li><p><code>pd.to_csv(file, sep, mode, index, header, ...)</code></p></li><li><p>参数说明：</p><ul><li>file：文件路径和文件名。</li><li>sep：分隔符，默认为逗号。</li><li>mode：导出模式，&#39;w&#39;为导出到新文件，&#39;a&#39;为追加到现有文件。</li><li>index：是否导出行索引，默认为True。</li><li>header：是否导出列索引，默认为True。</li></ul></li><li><p>新建 DataFrame 对象student，并将数据保存到out.csv 文件中。</p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = [[<span class="cm-number">19</span>,<span class="cm-number">68</span>,<span class="cm-number">170</span>],[<span class="cm-number">20</span>,<span class="cm-number">65</span>,<span class="cm-number">165</span>],[<span class="cm-number">18</span>,<span class="cm-number">65</span>,<span class="cm-number">175</span>]]</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student</span> = <span class="cm-variable">DataFrame</span>(<span class="cm-variable">data</span>,<span class="cm-variable">index</span>=[<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>],<span class="cm-variable">columns</span>=[<span class="cm-string">'age'</span>,<span class="cm-string">'weight'</span>,<span class="cm-string">'height'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#不包括行索引</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student</span>.<span class="cm-property">to_csv</span>(<span class="cm-string">'out.csv'</span>, <span class="cm-variable">mode</span>=<span class="cm-string">'w'</span>, <span class="cm-variable">header</span>=<span class="cm-keyword">True</span>, <span class="cm-variable">index</span>=<span class="cm-keyword">False</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 107px;"></div><div class="CodeMirror-gutters" style="display: none; height: 107px;"></div></div></div></pre><h4><a name='header-n327' class='md-header-anchor '></a>读取Excel文件</h4><ul><li>从 student3.xlsx 文件名为Group1 的表单中读取数据，保存为DataFrame 对象。</li><li>文件前3 行是说明文本，不是数据，读入DataFrame 时需声明忽略。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>( <span class="cm-string">'data\student3.xlsx'</span>, <span class="cm-string">'Group1'</span>, <span class="cm-variable">index_col</span>=<span class="cm-number">0</span>,<span class="cm-variable">skiprows</span>=<span class="cm-number">3</span> )</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student</span>[:<span class="cm-number">2</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">性别</span> &nbsp; <span class="cm-variable">年龄</span><span class="cm-tab" role="presentation" cm-text="	"> </span> <span class="cm-variable">身高</span> <span class="cm-variable">体重</span> <span class="cm-variable">省份</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">成绩</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span>  <span class="cm-tab" role="presentation" cm-text="	"> </span> <span class="cm-variable">male</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">20</span> <span class="cm-tab" role="presentation" cm-text="	"> </span> <span class="cm-number">170</span> &nbsp;<span class="cm-number">70</span> <span class="cm-variable">LiaoNing</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">71</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span>  <span class="cm-tab" role="presentation" cm-text="	"> </span> <span class="cm-variable">male</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">22</span> &nbsp; <span class="cm-number">180</span> &nbsp;<span class="cm-number">71</span> <span class="cm-variable">GuangXi</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">77</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 135px;"></div><div class="CodeMirror-gutters" style="display: none; height: 135px;"></div></div></div></pre><ul><li>其中 skiprows = 3，表示忽略前3 行，即0、1、2 行。如果只忽略指定行，skiprows=[1,2]。</li></ul><h3><a name='header-n337' class='md-header-anchor '></a>数据清洗</h3><h4><a name='header-n338' class='md-header-anchor '></a>数据滤除</h4><ul><li><p>从文件studentsInfo.xlsx 的Group1 表单中读取数据，滤除部分缺失数据，填充部分缺失数据。</p></li><li><p><code>DataFrame.dropna(axis, how, thresh)</code></p></li><li><p>参数说明：</p><ul><li>axis：0 表示按行滤除，1 表示按列滤除，默认为axis=0。</li><li>how：&#39;all&#39;表示滤除全部值都为NaN 的行或列。</li><li>thresh：只留下有效数据数大于或等于thresh 值的行或列。</li></ul></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>(<span class="cm-string">'data\studentsInfo.xlsx'</span>,<span class="cm-string">'Group1'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">性别</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">年龄</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">身高</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">体重</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">省份</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">成绩</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">月生活费</span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">课程兴趣</span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp; <span class="cm-number">20.0</span> <span class="cm-number">170</span> &nbsp; <span class="cm-number">70.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">LiaoNing</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">800.0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp; <span class="cm-number">22.0</span> <span class="cm-number">180</span> &nbsp; <span class="cm-number">71.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">GuangXi</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">77.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">1300.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp;<span class="cm-number">180</span> &nbsp; <span class="cm-number">62.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">FuJian</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">57.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">1000.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp; <span class="cm-number">20.0</span> <span class="cm-number">177</span> &nbsp; <span class="cm-number">72.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">LiaoNing</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">79.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">900.0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp; <span class="cm-number">20.0</span> <span class="cm-number">172</span> &nbsp; <span class="cm-variable">NaN</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">ShanDong</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">91.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">======================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>.<span class="cm-property">dropna</span>() <span class="cm-comment">#默认删除包含缺失值的行（序号1、3、5 的行被滤除）</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> <span class="cm-variable">性别</span><span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">年龄</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">身高</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">体重</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">省份</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">成绩</span><span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp;<span class="cm-variable">月生活费</span><span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp;<span class="cm-variable">课程兴趣</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp;<span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">71.0</span> <span class="cm-variable">GuangXi</span> &nbsp; <span class="cm-number">77.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">1300.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp;<span class="cm-number">20.0</span> &nbsp;<span class="cm-number">177</span> &nbsp;<span class="cm-number">72.0</span> <span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">79.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">900.0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp;<span class="cm-number">20.0</span> &nbsp;<span class="cm-number">179</span> &nbsp;<span class="cm-number">75.0</span> <span class="cm-variable">YunNan</span> &nbsp; &nbsp;<span class="cm-number">92.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">950.0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">======================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>.<span class="cm-property">dropna</span>(<span class="cm-variable">thresh</span>=<span class="cm-number">8</span>) <span class="cm-comment">#保留有效数据个数≥8 的行(序号5 的行被滤除)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">性别</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">年龄</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">身高</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">体重</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">省份</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">成绩</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">月生活费</span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">课程兴趣</span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp; <span class="cm-number">20.0</span> <span class="cm-number">170</span> &nbsp;<span class="cm-number">70.0</span> <span class="cm-variable">LiaoNing</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">Nan</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">800.0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp; <span class="cm-number">22.0</span> <span class="cm-number">180</span> &nbsp;<span class="cm-number">71.0</span> <span class="cm-variable">GuangXi</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">77.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">1300.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp; <span class="cm-variable">Nan</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">62.0</span> <span class="cm-variable">FuJian</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">57.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">1000.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp; <span class="cm-number">20.0</span> <span class="cm-number">177</span> &nbsp;<span class="cm-number">72.0</span> <span class="cm-variable">LiaoNing</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">79.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">900.0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp; <span class="cm-number">20.0</span> <span class="cm-number">179</span> &nbsp;<span class="cm-number">75.0</span> <span class="cm-variable">YunNan</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">92.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">950.0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 597px;"></div><div class="CodeMirror-gutters" style="display: none; height: 597px;"></div></div></div></pre><h4><a name='header-n354' class='md-header-anchor '></a>数据填充</h4><ul><li><p><code>DataFrame.fillna(value, method, inplace)</code></p></li><li><p>参数说明：</p><ul><li>value：填充值，可以是标量、字典、Series 或DataFrame。</li><li>method：&#39;ffill&#39;为用同列前一行数据填充缺失值，&#39;bfill&#39;为用后一行数据填充。</li><li>inplace：是否修改原始数据的值，默认为False，产生一个新的数据对象。</li></ul></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>.<span class="cm-property">fillna</span>({<span class="cm-string">'年龄'</span>:<span class="cm-number">20</span>, <span class="cm-string">'体重'</span>:<span class="cm-variable">stu</span>[<span class="cm-string">'体重'</span>].<span class="cm-property">mean</span>()} )</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> <span class="cm-variable">性别</span> &nbsp;<span class="cm-variable">年龄</span> <span class="cm-variable">身高</span> &nbsp; &nbsp;<span class="cm-variable">体重</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">省份</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">成绩</span><span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp;<span class="cm-variable">月生活费</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">课程兴趣</span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> <span class="cm-number">20.0</span> <span class="cm-number">170</span> <span class="cm-number">70.000000</span> <span class="cm-variable">LiaoNing</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">800.0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> <span class="cm-number">22.0</span> <span class="cm-number">180</span> <span class="cm-number">71.000000</span> <span class="cm-variable">GuangXi</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">77.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">1300.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> <span class="cm-number">20.0</span> <span class="cm-number">180</span> <span class="cm-number">62.000000</span> <span class="cm-variable">FuJian</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">57.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">1000.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> <span class="cm-number">20.0</span> <span class="cm-number">177</span> <span class="cm-number">72.000000</span> <span class="cm-variable">LiaoNing</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">79.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">900.0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> <span class="cm-number">20.0</span> <span class="cm-number">172</span> <span class="cm-number">63.666667</span> <span class="cm-variable">ShanDong</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">91.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">============================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>.<span class="cm-property">fillna</span>(<span class="cm-variable">method</span>=<span class="cm-string">'ffill'</span>) <span class="cm-comment">#每个空值用上一行同列的值填充</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> <span class="cm-variable">性别</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">年龄</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">身高</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">体重</span><span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp;<span class="cm-variable">省份</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">成绩</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">月生活费</span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">课程兴趣</span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; <span class="cm-variable">male</span> &nbsp;<span class="cm-number">20.0</span> &nbsp;<span class="cm-number">170</span> &nbsp;<span class="cm-number">70.0</span> <span class="cm-variable">LiaoNing</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span> <span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp;<span class="cm-number">800.0</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp;<span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">71.0</span> <span class="cm-variable">GuangXi</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">77.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1300.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp;<span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">62.0</span> <span class="cm-variable">FuJian</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">57.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1000.0</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp;<span class="cm-number">20.0</span> &nbsp;<span class="cm-number">177</span> &nbsp;<span class="cm-number">72.0</span> <span class="cm-variable">LiaoNing</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">79.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">900.0</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp;<span class="cm-number">20.0</span> &nbsp;<span class="cm-number">172</span> &nbsp;<span class="cm-number">72.0</span> <span class="cm-variable">ShanDong</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">91.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">900.0</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 408px;"></div><div class="CodeMirror-gutters" style="display: none; height: 408px;"></div></div></div></pre><h4><a name='header-n368' class='md-header-anchor '></a>数据去重</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>(<span class="cm-string">'data\studentsInfo.xlsx'</span>,<span class="cm-string">'Group1'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>.<span class="cm-property">drop_duplicates</span>() <span class="cm-comment">#序号9 的行被滤除</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> <span class="cm-variable">性别</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">年龄</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">身高</span> <span class="cm-variable">体重</span> &nbsp; <span class="cm-variable">省份</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp;<span class="cm-variable">成绩</span> <span class="cm-variable">月生活费</span> <span class="cm-variable">课程兴趣</span> <span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp;<span class="cm-number">20.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">170</span> <span class="cm-number">70.0</span> <span class="cm-variable">LiaoNing</span> <span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp;<span class="cm-variable">NaN</span> &nbsp; <span class="cm-number">800.0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">male</span> &nbsp;<span class="cm-number">22.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">180</span> <span class="cm-number">71.0</span> <span class="cm-variable">GuangXi</span> <span class="cm-tab" role="presentation" cm-text="	">   </span> &nbsp;<span class="cm-number">77.0</span> &nbsp;<span class="cm-number">1300.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">female</span> <span class="cm-number">20.0</span> <span class="cm-number">162</span> <span class="cm-number">47.0</span> <span class="cm-variable">AnHui</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">male</span> &nbsp; <span class="cm-number">19.0</span> <span class="cm-number">169</span> <span class="cm-number">76.0</span> <span class="cm-variable">HeiLongJiang</span> <span class="cm-number">88.0</span> &nbsp;<span class="cm-number">1100.0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 270px;"></div><div class="CodeMirror-gutters" style="display: none; height: 270px;"></div></div></div></pre><h3><a name='header-n370' class='md-header-anchor '></a><em>Homework(Week5)</em></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python " style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 986.667px; left: 134.667px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1.  创建50×7的DataFrame对象，数据为 [10,99]之间的随机整数；columns为字符a-g；将DataFrame对象保存到csv文件中。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#【提示】使用NumPy的随机生成函数randint()生成数据。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">np</span>.<span class="cm-property">random</span>.<span class="cm-property">randint</span>(<span class="cm-number">10</span>,<span class="cm-number">99</span>,<span class="cm-variable">size</span>=(<span class="cm-number">50</span>,<span class="cm-number">7</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df_object</span> = <span class="cm-variable">pd</span>.<span class="cm-property">DataFrame</span>(<span class="cm-variable">data</span>,<span class="cm-variable">columns</span>=[<span class="cm-string">'a'</span>,<span class="cm-string">'b'</span>,<span class="cm-string">'c'</span>,<span class="cm-string">'d'</span>,<span class="cm-string">'e'</span>,<span class="cm-string">'f'</span>,<span class="cm-string">'g'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df_object</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">6</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">a</span> &nbsp; <span class="cm-variable">b</span> &nbsp; <span class="cm-variable">c</span> &nbsp; <span class="cm-variable">d</span> &nbsp; <span class="cm-variable">e</span> &nbsp; <span class="cm-variable">f</span> &nbsp; <span class="cm-variable">g</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp; <span class="cm-number">61</span> &nbsp;<span class="cm-number">37</span> &nbsp;<span class="cm-number">16</span> &nbsp;<span class="cm-number">63</span> &nbsp;<span class="cm-number">86</span> &nbsp;<span class="cm-number">45</span> &nbsp;<span class="cm-number">12</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; <span class="cm-number">22</span> &nbsp;<span class="cm-number">10</span> &nbsp;<span class="cm-number">25</span> &nbsp;<span class="cm-number">41</span> &nbsp;<span class="cm-number">50</span> &nbsp;<span class="cm-number">14</span> &nbsp;<span class="cm-number">30</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; <span class="cm-number">98</span> &nbsp;<span class="cm-number">94</span> &nbsp;<span class="cm-number">51</span> &nbsp;<span class="cm-number">76</span> &nbsp;<span class="cm-number">76</span> &nbsp;<span class="cm-number">69</span> &nbsp;<span class="cm-number">50</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; <span class="cm-number">84</span> &nbsp;<span class="cm-number">62</span> &nbsp;<span class="cm-number">52</span> &nbsp;<span class="cm-number">61</span> &nbsp;<span class="cm-number">29</span> &nbsp;<span class="cm-number">19</span> &nbsp;<span class="cm-number">69</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; <span class="cm-number">96</span> &nbsp;<span class="cm-number">49</span> &nbsp;<span class="cm-number">23</span> &nbsp;<span class="cm-number">23</span> &nbsp;<span class="cm-number">32</span> &nbsp;<span class="cm-number">77</span> &nbsp;<span class="cm-number">17</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp; <span class="cm-number">44</span> &nbsp;<span class="cm-number">78</span> &nbsp;<span class="cm-number">80</span> &nbsp;<span class="cm-number">35</span> &nbsp;<span class="cm-number">10</span> &nbsp;<span class="cm-number">88</span> &nbsp;<span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">. &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; .</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">44</span> &nbsp;<span class="cm-number">42</span> &nbsp;<span class="cm-number">85</span> &nbsp;<span class="cm-number">96</span> &nbsp;<span class="cm-number">98</span> &nbsp;<span class="cm-number">10</span> &nbsp;<span class="cm-number">57</span> &nbsp;<span class="cm-number">33</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">45</span> &nbsp;<span class="cm-number">80</span> &nbsp;<span class="cm-number">60</span> &nbsp;<span class="cm-number">41</span> &nbsp;<span class="cm-number">42</span> &nbsp;<span class="cm-number">48</span> &nbsp;<span class="cm-number">72</span> &nbsp;<span class="cm-number">36</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">46</span> &nbsp;<span class="cm-number">82</span> &nbsp;<span class="cm-number">17</span> &nbsp;<span class="cm-number">17</span> &nbsp;<span class="cm-number">42</span> &nbsp;<span class="cm-number">83</span> &nbsp;<span class="cm-number">85</span> &nbsp;<span class="cm-number">42</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">47</span> &nbsp;<span class="cm-number">81</span> &nbsp;<span class="cm-number">69</span> &nbsp;<span class="cm-number">18</span> &nbsp;<span class="cm-number">28</span> &nbsp;<span class="cm-number">10</span> &nbsp;<span class="cm-number">93</span> &nbsp;<span class="cm-number">19</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">48</span> &nbsp;<span class="cm-number">35</span> &nbsp;<span class="cm-number">30</span> &nbsp;<span class="cm-number">94</span> &nbsp;<span class="cm-number">26</span> &nbsp;<span class="cm-number">15</span> &nbsp;<span class="cm-number">11</span> &nbsp;<span class="cm-number">82</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">49</span> &nbsp;<span class="cm-number">63</span> &nbsp;<span class="cm-number">77</span> &nbsp;<span class="cm-number">91</span> &nbsp;<span class="cm-number">82</span> &nbsp;<span class="cm-number">84</span> &nbsp;<span class="cm-number">61</span> &nbsp;<span class="cm-number">67</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df_object</span>.<span class="cm-property">to_csv</span>( <span class="cm-string">"res.csv"</span>, <span class="cm-variable">mode</span>=<span class="cm-string">"w"</span>,<span class="cm-variable">index</span>=<span class="cm-keyword">False</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===============================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2.  海伦一直使用在线交友网站寻找适合的约会对象, 她将交友数据存放在datingTestSet.xls文件中。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; 1）列索引名设为 ['flymiles','videogame','icecream','type‘]；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">col_name</span> =  [<span class="cm-string">'flymiles'</span>,<span class="cm-string">'videogame'</span>,<span class="cm-string">'icecream'</span>,<span class="cm-string">'type'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; 2）从文件中读取有效数据保存到Dataframe对象中，跳过所有文字解释行；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df_object</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">"datingTestSet.csv"</span>,<span class="cm-variable">skiprows</span>=<span class="cm-number">2</span>,<span class="cm-variable">header</span>=<span class="cm-keyword">None</span>,<span class="cm-variable">names</span> = <span class="cm-variable">col_name</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; 3）显示读取到的前面5条数据；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df_object</span>.<span class="cm-property">iloc</span>[:<span class="cm-number">5</span>,:]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">11</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">flymiles</span> &nbsp;<span class="cm-variable">videogame</span> &nbsp;<span class="cm-variable">icecream</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-builtin">type</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp; <span class="cm-number">40920.0</span> &nbsp; <span class="cm-number">8.326976</span> &nbsp;<span class="cm-number">0.953952</span> &nbsp;<span class="cm-variable">largeDoses</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; <span class="cm-number">14488.0</span> &nbsp; <span class="cm-number">7.153469</span> &nbsp;<span class="cm-number">1.673904</span> &nbsp;<span class="cm-variable">smallDoses</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; <span class="cm-number">26052.0</span> &nbsp; <span class="cm-number">1.441871</span> &nbsp;<span class="cm-number">0.805124</span> &nbsp; <span class="cm-variable">didntLike</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; <span class="cm-number">75136.0</span> &nbsp;<span class="cm-number">13.147394</span> &nbsp;<span class="cm-number">0.428964</span> &nbsp; <span class="cm-variable">didntLike</span></span></pre><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; <span class="cm-number">38344.0</span> &nbsp; <span class="cm-number">1.669788</span> &nbsp;<span class="cm-number">0.134296</span> &nbsp; <span class="cm-variable">didntLike</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; 4）显示所有'type'为'largeDoses'的数据。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df_object</span>.<span class="cm-property">loc</span>[<span class="cm-variable">df_object</span>.<span class="cm-property">loc</span>[:,<span class="cm-string">"type"</span>]==<span class="cm-string">"largeDoses"</span>,:]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">12</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">flymiles</span> &nbsp;<span class="cm-variable">videogame</span> &nbsp;<span class="cm-variable">icecream</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-builtin">type</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp; &nbsp; <span class="cm-number">40920.0</span> &nbsp; <span class="cm-number">8.326976</span> &nbsp;<span class="cm-number">0.953952</span> &nbsp;<span class="cm-variable">largeDoses</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; &nbsp; <span class="cm-number">35948.0</span> &nbsp; <span class="cm-number">6.830792</span> &nbsp;<span class="cm-number">1.213192</span> &nbsp;<span class="cm-variable">largeDoses</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp; &nbsp; <span class="cm-number">42666.0</span> &nbsp;<span class="cm-number">13.276369</span> &nbsp;<span class="cm-number">0.543880</span> &nbsp;<span class="cm-variable">largeDoses</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp; &nbsp; <span class="cm-number">35483.0</span> &nbsp;<span class="cm-number">12.273169</span> &nbsp;<span class="cm-number">1.508053</span> &nbsp;<span class="cm-variable">largeDoses</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">. &nbsp; &nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; . &nbsp; &nbsp; &nbsp;  .</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">977</span> &nbsp; <span class="cm-number">34143.0</span> &nbsp;<span class="cm-number">13.609528</span> &nbsp;<span class="cm-number">0.364240</span> &nbsp;<span class="cm-variable">largeDoses</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">990</span> &nbsp; <span class="cm-number">27750.0</span> &nbsp; <span class="cm-number">8.546741</span> &nbsp;<span class="cm-number">0.128706</span> &nbsp;<span class="cm-variable">largeDoses</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">997</span> &nbsp; <span class="cm-number">26575.0</span> &nbsp;<span class="cm-number">10.650102</span> &nbsp;<span class="cm-number">0.866627</span> &nbsp;<span class="cm-variable">largeDoses</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">998</span> &nbsp; <span class="cm-number">48111.0</span> &nbsp; <span class="cm-number">9.134528</span> &nbsp;<span class="cm-number">0.728045</span> &nbsp;<span class="cm-variable">largeDoses</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">999</span> &nbsp; <span class="cm-number">43757.0</span> &nbsp; <span class="cm-number">7.882601</span> &nbsp;<span class="cm-number">1.332446</span> &nbsp;<span class="cm-variable">largeDoses</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1387px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1387px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1．数据清洗。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; &nbsp; 1）从studentsInfo.xlsx 文件的“Group1”表单中读取数据；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student_info</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>(<span class="cm-string">"studentsInfo.xlsx"</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student_info</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">14</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">性别</span> &nbsp; &nbsp;<span class="cm-variable">年龄</span> &nbsp; <span class="cm-variable">身高</span> &nbsp; &nbsp;<span class="cm-variable">体重</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">省份</span> &nbsp; &nbsp; <span class="cm-variable">成绩</span> &nbsp;<span class="cm-variable">月生活费</span> &nbsp;<span class="cm-variable">课程兴趣</span> &nbsp;<span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">170</span> &nbsp;<span class="cm-number">70.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; <span class="cm-number">800.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">71.0</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">77.0</span> &nbsp;<span class="cm-number">1300.0</span> &nbsp; &nbsp; <span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-variable">male</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span> &nbsp; <span class="cm-number">180</span> &nbsp;<span class="cm-number">62.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">FuJian</span> &nbsp;<span class="cm-number">57.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">177</span> &nbsp;<span class="cm-number">72.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">79.0</span> &nbsp; <span class="cm-number">900.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">172</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">ShanDong</span> &nbsp;<span class="cm-number">91.0</span> &nbsp; &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">179</span> &nbsp;<span class="cm-number">75.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">YunNan</span> &nbsp;<span class="cm-number">92.0</span> &nbsp; <span class="cm-number">950.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">21.0</span> &nbsp;<span class="cm-number">166</span> &nbsp;<span class="cm-number">53.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">80.0</span> &nbsp;<span class="cm-number">1200.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> &nbsp; &nbsp;<span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">19.0</span> &nbsp;<span class="cm-number">169</span> &nbsp;<span class="cm-number">76.0</span> &nbsp;<span class="cm-variable">HeiLongJiang</span> &nbsp;<span class="cm-number">88.0</span> &nbsp;<span class="cm-number">1100.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; &nbsp; 2）将“案例教学”列数据值全改为NaN；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student_info</span>[<span class="cm-string">"案例教学"</span>]=<span class="cm-variable">np</span>.<span class="cm-property">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student_info</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">16</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">性别</span> &nbsp; &nbsp;<span class="cm-variable">年龄</span> &nbsp; <span class="cm-variable">身高</span> &nbsp; &nbsp;<span class="cm-variable">体重</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">省份</span> &nbsp; &nbsp;<span class="cm-variable">成绩</span> &nbsp; &nbsp;<span class="cm-variable">月生活费</span> &nbsp;<span class="cm-variable">课程兴趣</span> &nbsp;<span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">170</span> &nbsp;<span class="cm-number">70.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; <span class="cm-number">800.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">71.0</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">77.0</span> &nbsp;<span class="cm-number">1300.0</span> &nbsp; &nbsp; <span class="cm-number">3</span> &nbsp;  <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-variable">male</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span> &nbsp; <span class="cm-number">180</span> &nbsp;<span class="cm-number">62.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">FuJian</span> &nbsp;<span class="cm-number">57.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">177</span> &nbsp;<span class="cm-number">72.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">79.0</span> &nbsp; <span class="cm-number">900.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">172</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">ShanDong</span> &nbsp;<span class="cm-number">91.0</span> &nbsp; &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">179</span> &nbsp;<span class="cm-number">75.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">YunNan</span> &nbsp;<span class="cm-number">92.0</span> &nbsp; <span class="cm-number">950.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">21.0</span> &nbsp;<span class="cm-number">166</span> &nbsp;<span class="cm-number">53.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">80.0</span> &nbsp;<span class="cm-number">1200.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> &nbsp; &nbsp;<span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">19.0</span> &nbsp;<span class="cm-number">169</span> &nbsp;<span class="cm-number">76.0</span> &nbsp;<span class="cm-variable">HeiLongJiang</span> &nbsp;<span class="cm-number">88.0</span> &nbsp;<span class="cm-number">1100.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; &nbsp; 3）滤除每行数据中缺失3项以上（包括3项）的行；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student_info</span>.<span class="cm-property">dropna</span>(<span class="cm-variable">thresh</span>=<span class="cm-number">7</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">17</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">性别</span> &nbsp; &nbsp;<span class="cm-variable">年龄</span> &nbsp; <span class="cm-variable">身高</span> &nbsp; <span class="cm-variable">体重</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">省份</span> &nbsp; &nbsp;<span class="cm-variable">成绩</span> &nbsp; &nbsp;<span class="cm-variable">月生活费</span> &nbsp;<span class="cm-variable">课程兴趣</span> &nbsp;<span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">170</span> &nbsp;<span class="cm-number">70.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; <span class="cm-number">800.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">71.0</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">77.0</span> &nbsp;<span class="cm-number">1300.0</span> &nbsp; &nbsp; <span class="cm-number">3</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-variable">male</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span> &nbsp; <span class="cm-number">180</span> &nbsp;<span class="cm-number">62.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">FuJian</span> &nbsp;<span class="cm-number">57.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">177</span> &nbsp;<span class="cm-number">72.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">79.0</span> &nbsp; <span class="cm-number">900.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">179</span> &nbsp;<span class="cm-number">75.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">YunNan</span> &nbsp;<span class="cm-number">92.0</span> &nbsp; <span class="cm-number">950.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">21.0</span> &nbsp;<span class="cm-number">166</span> &nbsp;<span class="cm-number">53.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">80.0</span> &nbsp;<span class="cm-number">1200.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> &nbsp; &nbsp;<span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">19.0</span> &nbsp;<span class="cm-number">169</span> &nbsp;<span class="cm-number">76.0</span> &nbsp;<span class="cm-variable">HeiLongJiang</span> &nbsp;<span class="cm-number">88.0</span> &nbsp;<span class="cm-number">1100.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; &nbsp; 4）滤除值全部为NaN的列；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student_info</span>.<span class="cm-property">dropna</span>(<span class="cm-variable">axis</span>=<span class="cm-number">1</span>,<span class="cm-variable">how</span>=<span class="cm-string">'all'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">26</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">性别</span> &nbsp; &nbsp;<span class="cm-variable">年龄</span> &nbsp; <span class="cm-variable">身高</span> &nbsp; &nbsp;<span class="cm-variable">体重</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">省份</span> &nbsp; &nbsp; <span class="cm-variable">成绩</span> &nbsp; &nbsp;<span class="cm-variable">月生活费</span> &nbsp;<span class="cm-variable">课程兴趣</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">170</span> &nbsp;<span class="cm-number">70.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">800.0</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">71.0</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">77.0</span> &nbsp; &nbsp;<span class="cm-number">1300.0</span> &nbsp; &nbsp; <span class="cm-number">3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-variable">male</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">62.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">FuJian</span> &nbsp; <span class="cm-number">57.0</span> &nbsp; &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">177</span> &nbsp;<span class="cm-number">72.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">79.0</span> &nbsp; &nbsp; <span class="cm-number">900.0</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">172</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">ShanDong</span> &nbsp;<span class="cm-number">91.0</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">179</span> &nbsp;<span class="cm-number">75.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">YunNan</span> &nbsp;<span class="cm-number">92.0</span> &nbsp; &nbsp; <span class="cm-number">950.0</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">21.0</span> &nbsp;<span class="cm-number">166</span> &nbsp;<span class="cm-number">53.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">80.0</span> &nbsp; &nbsp;<span class="cm-number">1200.0</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp; &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp; &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> &nbsp; &nbsp;<span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">19.0</span> &nbsp;<span class="cm-number">169</span> &nbsp;<span class="cm-number">76.0</span> &nbsp;<span class="cm-variable">HeiLongJiang</span> &nbsp;<span class="cm-number">88.0</span> &nbsp; &nbsp;<span class="cm-number">1100.0</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2．数据填充。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; &nbsp; 1）使用习题1的数据；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; &nbsp; 2）使用列的平均值填充“体重”和“成绩”列的NaN数据；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student_info</span>.<span class="cm-property">fillna</span>({<span class="cm-string">"体重"</span>:<span class="cm-variable">student_info</span>[<span class="cm-string">"体重"</span>].<span class="cm-property">mean</span>(),<span class="cm-string">"成绩"</span>:<span class="cm-variable">student_info</span>[<span class="cm-string">"成绩"</span>].<span class="cm-property">mean</span>()})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">27</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">性别</span> &nbsp; &nbsp;<span class="cm-variable">年龄</span> &nbsp; <span class="cm-variable">身高</span> &nbsp; &nbsp; <span class="cm-variable">体重</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">省份</span> &nbsp; &nbsp;<span class="cm-variable">成绩</span> &nbsp;<span class="cm-variable">月生活费</span> &nbsp;<span class="cm-variable">课程兴趣</span> &nbsp;<span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">170</span> &nbsp;<span class="cm-number">70.000000</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">80.0</span> &nbsp; <span class="cm-number">800.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">71.000000</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">77.0</span> &nbsp;<span class="cm-number">1300.0</span> &nbsp; &nbsp; <span class="cm-number">3</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-variable">male</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span> &nbsp; <span class="cm-number">180</span> &nbsp;<span class="cm-number">62.000000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">FuJian</span> &nbsp;<span class="cm-number">57.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">177</span> &nbsp;<span class="cm-number">72.000000</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">79.0</span> &nbsp; <span class="cm-number">900.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">172</span> &nbsp;<span class="cm-number">63.666667</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">ShanDong</span> &nbsp;<span class="cm-number">91.0</span> &nbsp; &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">179</span> &nbsp;<span class="cm-number">75.000000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">YunNan</span> &nbsp;<span class="cm-number">92.0</span> &nbsp; <span class="cm-number">950.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">21.0</span> &nbsp;<span class="cm-number">166</span> &nbsp;<span class="cm-number">53.000000</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">80.0</span> &nbsp;<span class="cm-number">1200.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.000000</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.000000</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> &nbsp; &nbsp;<span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">19.0</span> &nbsp;<span class="cm-number">169</span> &nbsp;<span class="cm-number">76.000000</span> &nbsp;<span class="cm-variable">HeiLongJiang</span> &nbsp;<span class="cm-number">88.0</span> &nbsp;<span class="cm-number">1100.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; &nbsp; 3）使用上一行数据填充“年龄”列的NaN数据；</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span> = <span class="cm-variable">student_info</span>[<span class="cm-string">"年龄"</span>].<span class="cm-property">fillna</span>(<span class="cm-variable">method</span> = <span class="cm-string">"ffill"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">38</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-number">20.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-number">22.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-number">22.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-number">20.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">20.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; &nbsp; <span class="cm-number">20.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp; &nbsp; <span class="cm-number">21.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp; &nbsp; <span class="cm-number">20.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp; &nbsp; <span class="cm-number">20.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> &nbsp; &nbsp;<span class="cm-number">19.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Name</span>: <span class="cm-variable">年龄</span>, <span class="cm-variable">dtype</span>: <span class="cm-variable">float64</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student_info</span>[<span class="cm-string">"年龄"</span>] = <span class="cm-variable">res</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student_info</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">42</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">性别</span> &nbsp; &nbsp;<span class="cm-variable">年龄</span> &nbsp; <span class="cm-variable">身高</span> &nbsp; &nbsp;<span class="cm-variable">体重</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">省份</span> &nbsp; &nbsp;<span class="cm-variable">成绩</span> &nbsp; &nbsp;<span class="cm-variable">月生活费</span> &nbsp;<span class="cm-variable">课程兴趣</span> &nbsp;<span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">170</span> &nbsp;<span class="cm-number">70.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; <span class="cm-number">800.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">71.0</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">77.0</span> &nbsp;<span class="cm-number">1300.0</span> &nbsp; &nbsp; <span class="cm-number">3</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">62.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">FuJian</span> &nbsp;<span class="cm-number">57.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">177</span> &nbsp;<span class="cm-number">72.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">79.0</span> &nbsp; <span class="cm-number">900.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">172</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">ShanDong</span> &nbsp;<span class="cm-number">91.0</span> &nbsp; &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">179</span> &nbsp;<span class="cm-number">75.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">YunNan</span> &nbsp;<span class="cm-number">92.0</span> &nbsp; <span class="cm-number">950.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">21.0</span> &nbsp;<span class="cm-number">166</span> &nbsp;<span class="cm-number">53.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">80.0</span> &nbsp;<span class="cm-number">1200.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> &nbsp; &nbsp;<span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">19.0</span> &nbsp;<span class="cm-number">169</span> &nbsp;<span class="cm-number">76.0</span> &nbsp;<span class="cm-variable">HeiLongJiang</span> &nbsp;<span class="cm-number">88.0</span> &nbsp;<span class="cm-number">1100.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># &nbsp; &nbsp; 4）使用“中位数”填充“生活费用”NaN数据。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">student_info</span>.<span class="cm-property">fillna</span>({<span class="cm-string">"月生活费"</span>:<span class="cm-variable">student_info</span>[<span class="cm-string">"月生活费"</span>].<span class="cm-property">median</span>()})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">43</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">性别</span> &nbsp; &nbsp;<span class="cm-variable">年龄</span> &nbsp; <span class="cm-variable">身高</span> &nbsp;<span class="cm-variable">体重</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">省份</span> &nbsp; &nbsp;<span class="cm-variable">成绩</span> &nbsp;<span class="cm-variable">月生活费</span> &nbsp;<span class="cm-variable">课程兴趣</span> &nbsp;<span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">170</span> &nbsp;<span class="cm-number">70.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; <span class="cm-number">800.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">71.0</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">77.0</span> &nbsp;<span class="cm-number">1300.0</span> &nbsp; &nbsp; <span class="cm-number">3</span>  <span class="cm-tab" role="presentation" cm-text="	"> </span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">22.0</span> &nbsp;<span class="cm-number">180</span> &nbsp;<span class="cm-number">62.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">FuJian</span> &nbsp;<span class="cm-number">57.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">177</span> &nbsp;<span class="cm-number">72.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">79.0</span> &nbsp; <span class="cm-number">900.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">172</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">ShanDong</span> &nbsp;<span class="cm-number">91.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; &nbsp; <span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">179</span> &nbsp;<span class="cm-number">75.0</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">YunNan</span> &nbsp;<span class="cm-number">92.0</span> &nbsp; <span class="cm-number">950.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">21.0</span> &nbsp;<span class="cm-number">166</span> &nbsp;<span class="cm-number">53.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">LiaoNing</span> &nbsp;<span class="cm-number">80.0</span> &nbsp;<span class="cm-number">1200.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp; <span class="cm-variable">female</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20.0</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">47.0</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">AnHui</span> &nbsp;<span class="cm-number">78.0</span> &nbsp;<span class="cm-number">1000.0</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> &nbsp; &nbsp;<span class="cm-variable">male</span>  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">19.0</span> &nbsp;<span class="cm-number">169</span> &nbsp;<span class="cm-number">76.0</span> &nbsp;<span class="cm-variable">HeiLongJiang</span> &nbsp;<span class="cm-number">88.0</span> &nbsp;<span class="cm-number">1100.0</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#【提示：】使用df[“生活费用”].median()  计算中位数。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 3406px;"></div><div class="CodeMirror-gutters" style="display: none; height: 3406px;"></div></div></div></pre><p>&nbsp;</p><h3><a name='header-n374' class='md-header-anchor '></a>数据规整化</h3><h4><a name='header-n375' class='md-header-anchor '></a>数据合并</h4><h5><a name='header-n376' class='md-header-anchor '></a>行数据据追加</h5><p><img src='Data Analysis.assets/1560140345717.png' alt='1560140345717' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#向其中添加新学生的信息（如表所示）。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">colName</span> = [<span class="cm-string">'学号'</span>, <span class="cm-string">'姓名'</span>, <span class="cm-string">'专业'</span> ] <span class="cm-comment">#列索引</span></span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span> = [[<span class="cm-string">'202003101'</span>,<span class="cm-string">'赵成'</span>,<span class="cm-string">'软件工程'</span>], </span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; [<span class="cm-string">'202005114'</span>,<span class="cm-string">'李斌丽'</span>,<span class="cm-string">'机械制造'</span>], </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; [<span class="cm-string">'202009111'</span>,<span class="cm-string">'孙武一'</span>,<span class="cm-string">'工业设计'</span>]] <span class="cm-comment">#值列表</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu1</span> = <span class="cm-variable">DataFrame</span>( <span class="cm-variable">data1</span>, <span class="cm-variable">columns</span>=<span class="cm-variable">colName</span> ) <span class="cm-comment">#行索引自动生成</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data2</span> = [ [<span class="cm-string">'202003103'</span>,<span class="cm-string">'王芳'</span>,<span class="cm-string">'软件工程'</span>], </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; [<span class="cm-string">'202005116'</span>,<span class="cm-string">'袁一凡'</span>,<span class="cm-string">'工业设计'</span>] ]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu2</span> = <span class="cm-variable">DataFrame</span>( <span class="cm-variable">data2</span>, <span class="cm-variable">columns</span>=<span class="cm-variable">colName</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">newstu</span> = <span class="cm-variable">pd</span>.<span class="cm-property">concat</span>([<span class="cm-variable">stu1</span>,<span class="cm-variable">stu2</span>], <span class="cm-variable">axis</span>=<span class="cm-number">0</span>)<span class="cm-comment">#axis=0，表示按行进行数据追加</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">newstu</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">学号</span> &nbsp; &nbsp;<span class="cm-variable">姓名</span> &nbsp; &nbsp;<span class="cm-variable">专业</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp;<span class="cm-number">202003101</span> &nbsp; <span class="cm-variable">赵成</span> &nbsp;<span class="cm-variable">软件工程</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">202005114</span> &nbsp;<span class="cm-variable">李斌丽</span> &nbsp;<span class="cm-variable">机械制造</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp;<span class="cm-number">202009111</span> &nbsp;<span class="cm-variable">孙武一</span> &nbsp;<span class="cm-variable">工业设计</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp;<span class="cm-number">202003103</span> &nbsp; <span class="cm-variable">王芳</span> &nbsp;<span class="cm-variable">软件工程</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">202005116</span> &nbsp;<span class="cm-variable">袁一凡</span> &nbsp;<span class="cm-variable">工业设计</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 534px;"></div><div class="CodeMirror-gutters" style="display: none; height: 534px;"></div></div></div></pre><h5><a name='header-n379' class='md-header-anchor '></a>列数据连接</h5><p><code>pd.merge(x,y,how,left_on,right_on)</code></p><ul><li><p>参数说明：</p><ul><li>x：左数据对象。</li><li>y：右数据对象。</li><li>how：数据对象连接的方式，inner、outer、left、right。</li><li>left_on：左数据对象用于连接的键。</li><li>right_on：右数据对象用于连接的键。</li></ul></li><li><p>参数 how 定义了四种合并方式。</p><ul><li>inner：内连接，连接两个数据对象中键值交集的行，其余忽略。</li><li>outer：外连接，连接两个数据对象中键值并集的行。</li><li>left：左连接，取出x 的全部行，连接y 中匹配的键值行。</li><li>right：右连接，取出y 的全部行，连接x 中匹配的键值行。</li></ul></li></ul><p><img src='Data Analysis.assets/1560150301665.png' alt='1560150301665' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 80px; left: 417.333px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将“教务”和“一卡通”两个业务系统的数据拼接起来。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cardcol</span> = [<span class="cm-string">'ID'</span>,<span class="cm-string">'刷卡地点'</span>,<span class="cm-string">'刷卡时间'</span>,<span class="cm-string">'消费金额'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data3</span> = [ [<span class="cm-string">'202003101'</span>,<span class="cm-string">'一食堂'</span>,<span class="cm-string">'20180305 1145'</span>,<span class="cm-number">14.2</span>], </span></pre><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; [<span class="cm-string">'104574'</span>,<span class="cm-string">'教育超市'</span>,<span class="cm-string">'20180307 1730'</span>,<span class="cm-number">25.2</span>],</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; [<span class="cm-string">'202003103'</span>,<span class="cm-string">' 图书馆'</span>,<span class="cm-string">'201803111823'</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; [<span class="cm-string">'202005116'</span>,<span class="cm-string">' 图书馆'</span>,<span class="cm-string">'20180312 0832'</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; [<span class="cm-string">'202005114'</span>,<span class="cm-string">' 二食堂'</span>,<span class="cm-string">'20180312 1708'</span>,<span class="cm-number">12.5</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; [<span class="cm-string">'202003101'</span>,<span class="cm-string">'图书馆'</span>,<span class="cm-string">'20180314 1345'</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">card</span> = <span class="cm-variable">DataFrame</span>( <span class="cm-variable">data3</span>, <span class="cm-variable">columns</span>=<span class="cm-variable">cardcol</span> ) <span class="cm-comment">#创建一卡通数据对象</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pd</span>.<span class="cm-property">merge</span>(<span class="cm-variable">newstu</span>,<span class="cm-variable">card</span>, <span class="cm-variable">how</span>=<span class="cm-string">'left'</span>, <span class="cm-variable">left_on</span>=<span class="cm-string">'学号'</span>, <span class="cm-variable">right_on</span>=<span class="cm-string">'ID'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> <span class="cm-variable">学号</span> &nbsp; &nbsp;<span class="cm-variable">姓名</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">专业</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">ID</span> &nbsp; &nbsp; <span class="cm-variable">刷卡地点</span> &nbsp; &nbsp; <span class="cm-variable">刷卡时间</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">消费金额</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> <span class="cm-number">202003101</span> <span class="cm-variable">赵成</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">软件工程</span> <span class="cm-number">202003101</span> &nbsp;<span class="cm-variable">一食堂</span> &nbsp; <span class="cm-number">20180305</span> &nbsp;<span class="cm-number">1145</span> &nbsp; <span class="cm-number">14.2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-number">202003101</span> <span class="cm-variable">赵成</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">软件工程</span> <span class="cm-number">202003101</span> &nbsp;<span class="cm-variable">图书馆</span> &nbsp; <span class="cm-number">20180314</span> &nbsp;<span class="cm-number">1345</span> &nbsp; <span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-number">202005114</span> <span class="cm-variable">李斌丽</span><span class="cm-tab" role="presentation" cm-text="	"> </span> &nbsp; <span class="cm-variable">机械制造</span> <span class="cm-number">202005114</span> &nbsp;<span class="cm-variable">二食堂</span> &nbsp; <span class="cm-number">20180312</span> &nbsp;<span class="cm-number">1708</span> &nbsp; <span class="cm-number">12.5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-number">202009111</span> <span class="cm-variable">孙武一</span><span class="cm-tab" role="presentation" cm-text="	"> </span> &nbsp; <span class="cm-variable">工业设计</span> &nbsp; &nbsp;<span class="cm-variable">NaN</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span> <span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; &nbsp; <span class="cm-variable">NaN</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> <span class="cm-number">202003103</span> <span class="cm-variable">王芳</span><span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp; &nbsp;<span class="cm-variable">软件工程</span> <span class="cm-number">202003103</span> &nbsp;<span class="cm-variable">图书馆</span> &nbsp; <span class="cm-number">20180311</span> <span class="cm-number">1823</span> &nbsp; &nbsp;<span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> <span class="cm-number">202005116</span> <span class="cm-variable">袁一凡</span> &nbsp; &nbsp;<span class="cm-variable">工业设计</span> <span class="cm-number">202005116</span> &nbsp; <span class="cm-variable">图书馆</span> &nbsp;<span class="cm-number">20180312</span> <span class="cm-error">0</span><span class="cm-number">832</span> &nbsp; &nbsp;<span class="cm-variable">NaN</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 483px;"></div><div class="CodeMirror-gutters" style="display: none; height: 483px;"></div></div></div></pre><h4><a name='header-n408' class='md-header-anchor '></a>数据排序</h4><h5><a name='header-n409' class='md-header-anchor '></a>值排序</h5><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#从文件 studentsInfo.xlsx 的Group3 表单中读取数据，按“成绩”进行排序分析。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>(<span class="cm-string">'data\studentsInfo.xlsx'</span>,<span class="cm-string">'Group3'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>)<span class="cm-comment">#导入excel 数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>.<span class="cm-property">sort_values</span>(<span class="cm-variable">by</span>=<span class="cm-string">'成绩'</span>, <span class="cm-variable">ascending</span>=<span class="cm-keyword">False</span>) <span class="cm-comment">#按成绩降序排列</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">性别</span> &nbsp; &nbsp;<span class="cm-variable">年龄</span> &nbsp; <span class="cm-variable">身高</span> &nbsp;<span class="cm-variable">体重</span> &nbsp; &nbsp;<span class="cm-variable">省份</span> &nbsp;<span class="cm-variable">成绩</span> &nbsp;<span class="cm-variable">月生活费</span> &nbsp;<span class="cm-variable">课程兴趣</span> &nbsp;<span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">30</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">20</span> &nbsp; &nbsp;<span class="cm-number">168</span> &nbsp;<span class="cm-number">52</span> &nbsp; <span class="cm-variable">JiangSu</span> &nbsp;<span class="cm-number">98</span> &nbsp; <span class="cm-number">700</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">21</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp; &nbsp;<span class="cm-number">165</span> &nbsp;<span class="cm-number">45</span> &nbsp;<span class="cm-variable">ShangHai</span> &nbsp;<span class="cm-number">93</span> &nbsp;<span class="cm-number">1200</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">23</span> &nbsp; &nbsp;<span class="cm-variable">male</span> &nbsp;<span class="cm-number">21</span> &nbsp; &nbsp;<span class="cm-number">169</span> &nbsp;<span class="cm-number">80</span> &nbsp; &nbsp; <span class="cm-variable">GanSu</span> &nbsp;<span class="cm-number">93</span> &nbsp; <span class="cm-number">900</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">22</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">19</span> &nbsp; &nbsp;<span class="cm-number">167</span> &nbsp;<span class="cm-number">42</span> &nbsp; &nbsp; <span class="cm-variable">HuBei</span> &nbsp;<span class="cm-number">89</span> &nbsp; <span class="cm-number">800</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">29</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">20</span> &nbsp; &nbsp;<span class="cm-number">161</span> &nbsp;<span class="cm-number">51</span> &nbsp; <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">80</span> &nbsp;<span class="cm-number">1250</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#如果按多个列排序，如by=['身高','体重']，则先按“身高”排序，若某些行的“身高”相同，这些行再按“体重”排序。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#按照身高和体重升序排列</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>.<span class="cm-property">sort_values</span>(<span class="cm-variable">by</span>=[<span class="cm-string">'身高'</span>,<span class="cm-string">'体重'</span>], <span class="cm-variable">ascending</span>=[<span class="cm-keyword">True</span>,<span class="cm-keyword">True</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> &nbsp;<span class="cm-variable">性别</span> <span class="cm-variable">年龄</span> <span class="cm-variable">身高</span> <span class="cm-variable">体重</span> <span class="cm-variable">省份</span> &nbsp; &nbsp;<span class="cm-variable">成绩</span> <span class="cm-variable">月生活费</span> <span class="cm-variable">课程兴趣</span> &nbsp;<span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">24</span> <span class="cm-variable">female</span> <span class="cm-number">21</span> <span class="cm-number">160</span> &nbsp; <span class="cm-number">49</span> <span class="cm-variable">HeBei</span> &nbsp; &nbsp;<span class="cm-number">59</span> &nbsp;<span class="cm-number">1100</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">28</span> <span class="cm-variable">female</span> <span class="cm-number">22</span> <span class="cm-number">160</span> &nbsp; <span class="cm-number">52</span> <span class="cm-variable">ShanXi</span> &nbsp; <span class="cm-number">73</span> &nbsp;<span class="cm-number">800</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">29</span> <span class="cm-variable">female</span> <span class="cm-number">20</span> <span class="cm-number">161</span> &nbsp; <span class="cm-number">51</span> <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">80</span> &nbsp;<span class="cm-number">1250</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">27</span> <span class="cm-variable">female</span> <span class="cm-number">21</span> <span class="cm-number">162</span> &nbsp; <span class="cm-number">49</span> <span class="cm-variable">ShanDong</span> <span class="cm-number">65</span> &nbsp;<span class="cm-number">950</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 567px;"></div><div class="CodeMirror-gutters" style="display: none; height: 567px;"></div></div></div></pre><h5><a name='header-n411' class='md-header-anchor '></a>排名</h5><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#对成绩数据按降序排名，增加“成绩排名”列。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>[<span class="cm-string">'成绩排名'</span>] = <span class="cm-variable">stu</span>[<span class="cm-string">'成绩'</span>].<span class="cm-property">rank</span>(<span class="cm-variable">method</span>=<span class="cm-string">'min'</span>, <span class="cm-variable">ascending</span>=<span class="cm-keyword">False</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> &nbsp;<span class="cm-variable">性别</span> <span class="cm-tab" role="presentation" cm-text="	"> </span> <span class="cm-variable">年龄</span> <span class="cm-variable">身高</span> <span class="cm-variable">体重</span> <span class="cm-variable">省份</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">成绩</span> <span class="cm-variable">月生活费</span><span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">课程兴趣</span> <span class="cm-variable">案例教学</span> <span class="cm-variable">成绩排名</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">21</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">female</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">21</span> &nbsp;<span class="cm-number">165</span> <span class="cm-number">45</span> <span class="cm-variable">ShangHai</span> <span class="cm-number">93</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">1200</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-number">2.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">22</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">female</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">19</span> &nbsp;<span class="cm-number">167</span> <span class="cm-number">42</span> <span class="cm-variable">HuBei</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">89</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">800</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-number">4.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">23</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">male</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">21</span> &nbsp;<span class="cm-number">169</span> <span class="cm-number">80</span> <span class="cm-variable">GanSu</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">93</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">900</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-number">2.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">24</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">female</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">21</span> &nbsp;<span class="cm-number">160</span> <span class="cm-number">49</span> <span class="cm-variable">HeBei</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">59</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">1100</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">3</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-number">10.0</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 243px;"></div><div class="CodeMirror-gutters" style="display: none; height: 243px;"></div></div></div></pre><h3><a name='header-n413' class='md-header-anchor '></a>统计分析</h3><h4><a name='header-n414' class='md-header-anchor '></a>通用函数与运算</h4><figure><table><thead><tr><th style='text-align:center;' >运算符</th><th style='text-align:center;' >描述</th></tr></thead><tbody><tr><td style='text-align:center;' >df.T</td><td style='text-align:center;' >DataFrame转置</td></tr><tr><td style='text-align:center;' >df1 + df2</td><td style='text-align:center;' >按照行列索引相加，得到并集，NaN 填充</td></tr><tr><td style='text-align:center;' >df1.add(df2, fill_value=0)</td><td style='text-align:center;' >按照行列索引相加，NaN 用指定值填充</td></tr><tr><td style='text-align:center;' >df1.add/sub//mul/div</td><td style='text-align:center;' >四则运算</td></tr><tr><td style='text-align:center;' >df - sr</td><td style='text-align:center;' >DataFrame 的所有行同时减去Series</td></tr><tr><td style='text-align:center;' >df * n</td><td style='text-align:center;' >所有元素乘以n</td></tr></tbody></table></figure><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>[ :<span class="cm-number">2</span>]</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> <span class="cm-variable">性别</span> <span class="cm-variable">年龄</span> <span class="cm-variable">身高</span> <span class="cm-variable">体重</span> <span class="cm-variable">省份</span> &nbsp; <span class="cm-variable">成绩</span> <span class="cm-variable">月生活费</span> <span class="cm-variable">课程兴趣</span> <span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">21</span> <span class="cm-variable">female</span> <span class="cm-number">21</span> <span class="cm-number">165</span> <span class="cm-number">45</span> <span class="cm-variable">ShangHai</span> <span class="cm-number">93</span> &nbsp;<span class="cm-number">1200</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">22</span> <span class="cm-variable">female</span> <span class="cm-number">19</span> <span class="cm-number">167</span> <span class="cm-number">42</span> <span class="cm-variable">HuBei</span> &nbsp; &nbsp;<span class="cm-number">89</span> &nbsp;<span class="cm-number">800</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>[<span class="cm-string">'BMI'</span>] = <span class="cm-variable">stu</span>[<span class="cm-string">'体重'</span>] <span class="cm-operator">/</span> ( <span class="cm-variable">np</span>.<span class="cm-property">square</span>(<span class="cm-variable">stu</span>[<span class="cm-string">'身高'</span>]<span class="cm-operator">/</span><span class="cm-number">100</span>) ) <span class="cm-comment">#增加新列</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>[:<span class="cm-number">3</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">序号</span> &nbsp;<span class="cm-variable">性别</span> <span class="cm-variable">年龄</span> <span class="cm-variable">身高</span> <span class="cm-variable">体重</span> <span class="cm-variable">省份</span> &nbsp; &nbsp;<span class="cm-variable">成绩</span> <span class="cm-variable">月生活费</span> &nbsp;<span class="cm-variable">课程兴趣</span> <span class="cm-variable">案例教学</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">BMI</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">21</span> <span class="cm-variable">female</span> <span class="cm-number">21</span> &nbsp;<span class="cm-number">165</span> <span class="cm-number">45</span> <span class="cm-variable">ShangHai</span> <span class="cm-number">93</span> &nbsp; <span class="cm-number">1200</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">16.528926</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">22</span> <span class="cm-variable">female</span> <span class="cm-number">19</span> &nbsp;<span class="cm-number">167</span> <span class="cm-number">42</span> <span class="cm-variable">HuBei</span> &nbsp; &nbsp;<span class="cm-number">89</span> &nbsp; <span class="cm-number">800</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">15.059701</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">23</span> <span class="cm-variable">male</span> &nbsp; <span class="cm-number">21</span> &nbsp;<span class="cm-number">169</span> <span class="cm-number">80</span> <span class="cm-variable">GanSu</span> &nbsp; &nbsp;<span class="cm-number">93</span> &nbsp; <span class="cm-number">900</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">28.010224</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 349px;"></div><div class="CodeMirror-gutters" style="display: none; height: 349px;"></div></div></div></pre><h4><a name='header-n438' class='md-header-anchor '></a>统计函数</h4><figure><table><thead><tr><th style='text-align:center;' >函数</th><th style='text-align:center;' >描述</th></tr></thead><tbody><tr><td style='text-align:center;' >sr.value_counts()</td><td style='text-align:center;' >统计频数</td></tr><tr><td style='text-align:center;' >sr.describe()</td><td style='text-align:center;' >返回基本统计量和分位数</td></tr><tr><td style='text-align:center;' >sr1.corr(sr2)</td><td style='text-align:center;' >sr1和sr2的相关系数</td></tr><tr><td style='text-align:center;' >df.count()</td><td style='text-align:center;' >统计每列数据的个数</td></tr><tr><td style='text-align:center;' >df.max()、df.min()</td><td style='text-align:center;' >最大值和最小值</td></tr><tr><td style='text-align:center;' >df.idxmax()、df.idxmin()</td><td style='text-align:center;' >最大值/最小值对应的索引</td></tr><tr><td style='text-align:center;' >df.sum()</td><td style='text-align:center;' >按行或者列求和</td></tr><tr><td style='text-align:center;' >df.mean()、df.median()</td><td style='text-align:center;' >计算均值/中位数</td></tr><tr><td style='text-align:center;' >df.qantile()</td><td style='text-align:center;' >计算给定的四分位数</td></tr><tr><td style='text-align:center;' >df.var()、df.std()</td><td style='text-align:center;' >计算方差/标准差</td></tr><tr><td style='text-align:center;' >df.mode()</td><td style='text-align:center;' >计算众数</td></tr><tr><td style='text-align:center;' >df.cumsum()</td><td style='text-align:center;' >从0开始向前累加各元素</td></tr><tr><td style='text-align:center;' >df.cov()</td><td style='text-align:center;' >计算协方差矩阵</td></tr><tr><td style='text-align:center;' >pd.crosstab(df[col1],df[col2])</td><td style='text-align:center;' >pandas函数，交叉表，计算分组的频数</td></tr></tbody></table></figure><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>[<span class="cm-string">'成绩'</span>].<span class="cm-property">mean</span>() <span class="cm-comment">#计算成绩的平均值</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">78.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>[<span class="cm-string">'月生活费'</span>].<span class="cm-property">quantile</span>( [<span class="cm-number">.25</span>, <span class="cm-number">.75</span>] ) <span class="cm-comment">#计算月生活费的上、下四分位数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0.25</span> <span class="cm-number">800.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0.75</span> <span class="cm-number">1175.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#对身高、体重和成绩3 列数据进行描述统计</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>[[<span class="cm-string">'身高'</span>,<span class="cm-string">'体重'</span>,<span class="cm-string">'成绩'</span>]].<span class="cm-property">describe</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp;<span class="cm-variable">身高</span> &nbsp; &nbsp; <span class="cm-variable">体重</span> &nbsp; &nbsp; <span class="cm-variable">成绩</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">count</span> <span class="cm-number">10.000000</span> <span class="cm-number">10.0000</span> <span class="cm-number">10.000000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mean</span> <span class="cm-number">165.500000</span> <span class="cm-number">55.1000</span> <span class="cm-number">78.000000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">std</span> &nbsp; <span class="cm-number">6.381397</span> &nbsp;<span class="cm-number">12.8448</span> <span class="cm-number">14.476034</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">min</span> <span class="cm-number">160.000000</span> &nbsp;<span class="cm-number">42.0000</span> <span class="cm-number">59.000000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">25</span><span class="cm-operator">%</span> <span class="cm-number">161.250000</span> &nbsp;<span class="cm-number">49.0000</span> <span class="cm-number">65.750000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">50</span><span class="cm-operator">%</span> <span class="cm-number">163.500000</span> &nbsp;<span class="cm-number">51.5000</span> <span class="cm-number">76.500000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">75</span><span class="cm-operator">%</span> <span class="cm-number">167.750000</span> &nbsp;<span class="cm-number">53.5000</span> <span class="cm-number">92.000000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">max</span> <span class="cm-number">181.000000</span> &nbsp;<span class="cm-number">80.0000</span> <span class="cm-number">98.000000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#对学生数据中的“身高”、“月生活费”按“性别”和“年龄”进行分组分析。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span> = <span class="cm-variable">stu</span>.<span class="cm-property">groupby</span>([<span class="cm-string">'性别'</span>, <span class="cm-string">'年龄'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span>.<span class="cm-property">aggregate</span>( {<span class="cm-string">'身高'</span>:<span class="cm-variable">np</span>.<span class="cm-property">mean</span>, <span class="cm-string">'月生活费'</span>:<span class="cm-variable">np</span>.<span class="cm-property">max</span> } )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">性别</span> &nbsp; &nbsp;<span class="cm-variable">年龄</span> <span class="cm-variable">身高</span> &nbsp; <span class="cm-variable">月生活费</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">female</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">19</span> <span class="cm-number">167.00</span> <span class="cm-number">800</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">20</span> <span class="cm-number">164.50</span> <span class="cm-number">1250</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">21</span> <span class="cm-number">162.25</span> <span class="cm-number">1300</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">22</span> <span class="cm-number">160.00</span> <span class="cm-number">800</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">male</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">21</span> <span class="cm-number">175.00</span> <span class="cm-number">900</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#pandas 提供类似Excel 交叉表的统计函数crosstab()，格式如下。函数按照给定的第1列分组，对第2 列计数。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#pd.crosstab(obj1, obj2,…)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#参数说明：</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#obj1：用于分组的列。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#obj2：用于计数的列。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pd</span>.<span class="cm-property">crosstab</span>( <span class="cm-variable">stu</span>[<span class="cm-string">'性别'</span>], <span class="cm-variable">stu</span>[<span class="cm-string">'月生活费'</span>]) <span class="cm-comment">#pandas 函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">月生活费</span> <span class="cm-number">700</span> <span class="cm-number">800</span> <span class="cm-number">900</span> <span class="cm-number">950</span> <span class="cm-number">1100</span> <span class="cm-number">1200</span> <span class="cm-number">1250</span> <span class="cm-number">1300</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">性别</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">female</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	">  </span> <span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	"> </span> &nbsp;<span class="cm-number">1</span> &nbsp; &nbsp;<span class="cm-number">1</span> &nbsp; &nbsp;<span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">male</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span> <span class="cm-number">0</span> <span class="cm-tab" role="presentation" cm-text="	"> </span> &nbsp;<span class="cm-number">0</span> &nbsp; &nbsp;<span class="cm-number">0</span> &nbsp; &nbsp;<span class="cm-number">0</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1072px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1072px;"></div></div></div></pre><h4><a name='header-n486' class='md-header-anchor '></a>相关性分析</h4><ul><li><p>相关性分析研究不同总体之间是否存在依存关系，pandas 可视化分析的散点图矩阵可以直观地观察不同数据列之间的关系，相关性的定量分析则可以通过计算样本之间的相关系数r 来实现，r 具有以下特征。</p><ul><li>r 的值介于–1 与+1 之间。</li><li>r=1 表示两个总体正相关，r=0 表示不相关，r=-1 表示负相关。</li><li>当0&lt;|r|&lt;1 时，表示两个对象存在一定的相关性。|r|越接近1，关系越密切；|r|越接近0，相关性越弱。</li><li>相关程度一般可按3 级划分：|r|&lt;0.3 为低度相关；0.3≤|r|&lt;0.8 为中等相关；0.8≤|r|&lt;1为高度相关。</li></ul></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#分析例 3-13 中学生“身高”、“体重”与“成绩”之间的相关性。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>[<span class="cm-string">'身高'</span>].<span class="cm-property">corr</span>( <span class="cm-variable">stu</span>[<span class="cm-string">'体重'</span>] ) <span class="cm-comment">#两列数据之间的相关性</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0.67573990985276822</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>[[<span class="cm-string">'身高'</span>,<span class="cm-string">'体重'</span>,<span class="cm-string">'成绩'</span>] ].<span class="cm-property">corr</span>() <span class="cm-comment">#多列数据之间的相关性</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">身高</span> <span class="cm-tab" role="presentation" cm-text="	"> </span> &nbsp; <span class="cm-variable">体重</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">成绩</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">身高</span> <span class="cm-number">1.000000</span> <span class="cm-number">0.675740</span> <span class="cm-number">0.080587</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">体重</span> <span class="cm-number">0.675740</span> <span class="cm-number">1.000000</span> <span class="cm-operator">-</span><span class="cm-number">0.072305</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">成绩</span> <span class="cm-number">0.080587</span> <span class="cm-operator">-</span><span class="cm-number">0.072305</span> <span class="cm-number">1.000000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">以上分析表明，“身高”与“体重”有一定的关系，但不是很高；而两者都与“成绩”没有相关性。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 241px;"></div><div class="CodeMirror-gutters" style="display: none; height: 241px;"></div></div></div></pre><h4><a name='header-n500' class='md-header-anchor '></a>调查反馈表分析</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">案例</span> <span class="cm-number">3</span><span class="cm-operator">-</span><span class="cm-number">1</span> <span class="cm-variable">对50</span> <span class="cm-variable">名学生进行抽样调查，反馈数据保存在studentInfo</span>.<span class="cm-property">xlsx</span> <span class="cm-variable">文件的5</span> <span class="cm-variable">张表中。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">综合5</span> <span class="cm-variable">组数据实现以下分析目标。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span><span class="cm-variable">）男生、女生对数据科学课程的兴趣程度和成绩的变化趋势。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span><span class="cm-variable">）学生来自的省份及性别与成绩是否存在关系。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span><span class="cm-variable">）学生身高、体重达标状况。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">下面按步骤分段介绍分析方法及实现代码，完整程序见3</span><span class="cm-operator">-</span><span class="cm-variable">student</span>.<span class="cm-property">py，分析计算结果使用print</span> <span class="cm-variable">语句输出，不再给出交互环境运行的结果。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）导入所需的方法库。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">import</span> <span class="cm-variable">Series</span>, <span class="cm-variable">DataFrame</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）从Excel 文件的5 张表中读取数据，拼接为一个DataFrame 对象。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#从Excel 文件的5 张表中读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df1</span>=<span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>(<span class="cm-string">'data\studentsInfo.xlsx'</span>,<span class="cm-string">'Group1'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df2</span>=<span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>(<span class="cm-string">'data\studentsInfo.xlsx'</span>,<span class="cm-string">'Group2'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df3</span>=<span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>(<span class="cm-string">'data\studentsInfo.xlsx'</span>,<span class="cm-string">'Group3'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df4</span>=<span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>(<span class="cm-string">'data\studentsInfo.xlsx'</span>,<span class="cm-string">'Group4'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df5</span>=<span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>(<span class="cm-string">'data\studentsInfo.xlsx'</span>,<span class="cm-string">'Group5'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#按行追加形式，拼接数据集</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span> = <span class="cm-variable">pd</span>.<span class="cm-property">concat</span>([<span class="cm-variable">df1</span>,<span class="cm-variable">df2</span>,<span class="cm-variable">df3</span>,<span class="cm-variable">df4</span>,<span class="cm-variable">df5</span>], <span class="cm-variable">axis</span> = <span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-string">'Data Size:'</span>, <span class="cm-variable">stu</span>.<span class="cm-property">shape</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">拼接后</span> <span class="cm-variable">DataFrame</span> <span class="cm-variable">大小为（50，9）。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3）去除完全重复及缺失项较多（大于或等于2）的数据行，检测是否还有缺失数据。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>.<span class="cm-property">drop_duplicates</span>(<span class="cm-variable">inplace</span> = <span class="cm-keyword">True</span>) <span class="cm-comment">#去除重复行，更新方式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>.<span class="cm-property">dropna</span>(<span class="cm-variable">thresh</span>=<span class="cm-number">8</span>,<span class="cm-variable">inplace</span> = <span class="cm-keyword">True</span>) <span class="cm-comment">#去除有缺失数据行，更新方式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-string">'Data Size after drop:'</span>, <span class="cm-variable">stu</span>.<span class="cm-property">shape</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-string">"Nan Columns:\n"</span>,<span class="cm-variable">stu</span>.<span class="cm-property">isnull</span>().<span class="cm-property">any</span>() ) <span class="cm-comment">#缺失数据列检测</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">删除重复和部分缺失数据行后，数据对象大小为（48，9）。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#stu.isnull()检测对象每个值是否是NaN，得到布尔型DataFrame。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#any()函数默认按列检测是否存在为False 的值，得到布尔型的Series 对象，</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">如图3</span><span class="cm-operator">-</span><span class="cm-number">9</span><span class="cm-variable">所示，“年龄”和“成绩”列存在缺失值需要填充。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#4）填充缺失值，“成绩”按照平均分填充；接受调查的学生为二年级，“年龄”用默认值“20”来填充。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>.<span class="cm-property">fillna</span>({<span class="cm-string">'年龄'</span>:<span class="cm-number">20</span>, <span class="cm-string">'成绩'</span>:<span class="cm-variable">stu</span>[<span class="cm-string">'成绩'</span>].<span class="cm-property">mean</span>()},</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">inplace</span>=<span class="cm-keyword">True</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-string">"Nan Columns:\n"</span>,<span class="cm-variable">stu</span>.<span class="cm-property">isnull</span>().<span class="cm-property">any</span>() )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#5）将学生数据按照“成绩”排序，统计优秀（大于或等于90）和不合格（小于60）学生个数。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">并分别计算优秀与不合格学生的平均课程兴趣度，以及全体学生课程的平均分与课程兴趣度。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#按照成绩排序</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu_grade</span> = <span class="cm-variable">stu</span>.<span class="cm-property">sort_values</span>(<span class="cm-variable">by</span>=<span class="cm-string">'成绩'</span>, <span class="cm-variable">ascending</span>=<span class="cm-keyword">False</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ex</span> = (<span class="cm-variable">stu_grade</span>[<span class="cm-string">'成绩'</span>]<span class="cm-operator">&gt;</span>=<span class="cm-number">90</span> ).<span class="cm-property">sum</span>() <span class="cm-comment">#计算优秀人数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fail</span> = (<span class="cm-variable">stu_grade</span>[<span class="cm-string">'成绩'</span>]<span class="cm-operator">&lt;</span><span class="cm-number">60</span> ).<span class="cm-property">sum</span>() <span class="cm-comment">#计算不及格人数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Excellent: {}, Fail: {}"</span>.<span class="cm-property">format</span>(<span class="cm-variable">ex</span>,<span class="cm-variable">fail</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">条件表达式</span> <span class="cm-variable">stu_grade</span>[<span class="cm-string">'成绩'</span>]<span class="cm-operator">&gt;</span>=<span class="cm-number">90</span> <span class="cm-variable">得到布尔型Series</span> <span class="cm-variable">对象，sum</span>()<span class="cm-variable">函数统计值为True</span> <span class="cm-variable">的</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">个数。优秀人数为9，不及格人数为4。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ex_mean</span> = <span class="cm-variable">stu_grade</span>[<span class="cm-number">0</span>:<span class="cm-number">9</span>][[<span class="cm-string">'成绩'</span>,<span class="cm-string">'课程兴趣'</span>]].<span class="cm-property">mean</span>() <span class="cm-comment">#前9 行优秀</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">total_mean</span> = <span class="cm-variable">stu_grade</span>[[<span class="cm-string">'成绩'</span>,<span class="cm-string">'课程兴趣'</span>]].<span class="cm-property">mean</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fail_mean</span> = <span class="cm-variable">stu_grade</span>[<span class="cm-operator">-</span><span class="cm-number">4</span>:][[<span class="cm-string">'成绩'</span>,<span class="cm-string">'课程兴趣'</span>]].<span class="cm-property">mean</span>() <span class="cm-comment">#后4 行不及格</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"ex_mean:\n"</span>, <span class="cm-variable">ex_mean</span>, <span class="cm-string">"\ntotal_mean\n"</span>,<span class="cm-variable">total_mean</span>, <span class="cm-string">"\nfail_</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mean</span><span class="cm-error">\</span><span class="cm-variable">n</span><span class="cm-string">", fail_mean)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#计算两列相关度</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-variable">stu_grade</span>[<span class="cm-string">'成绩'</span>].<span class="cm-property">corr</span>(<span class="cm-variable">stu_grade</span>[<span class="cm-string">'课程兴趣'</span>]) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">使用排序后的stu_grade</span> <span class="cm-variable">按行选出部分数据，分别统计“成绩”和“课程兴趣”两列的均值。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">结果表明，3</span> <span class="cm-variable">类统计“成绩”均值分别为93</span><span class="cm-number">.8</span><span class="cm-variable">、76</span><span class="cm-number">.3</span> <span class="cm-variable">和46</span><span class="cm-number">.0</span><span class="cm-variable">，而“课程兴趣”的均值分别为5</span><span class="cm-number">.0</span><span class="cm-variable">、4</span><span class="cm-number">.2</span> <span class="cm-variable">和3</span><span class="cm-number">.0</span><span class="cm-variable">，从趋势上看，大学课程学习的成绩与兴趣的变化具有一致性。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">这两列数据的相似度为0</span><span class="cm-number">.44</span><span class="cm-variable">，说明从个体来看两者相关度并不是很高，也有可能这两列数据中存在错误数据。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#6）分析“性别”、“省份”与“成绩”是否存在相关性，由于“性别”和“省份”数据均为字符型，无法用corr()函数来计算。简单的方法是分组计算均值。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">sex_grouped</span> = <span class="cm-variable">stu</span>.<span class="cm-property">groupby</span>([<span class="cm-string">'性别'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">sex_counts</span> = <span class="cm-variable">sex_grouped</span>.<span class="cm-property">count</span>() <span class="cm-comment">#统计每个分组的行数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#分组统计成绩平均值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">sex_mean</span> = <span class="cm-variable">stu</span>.<span class="cm-property">groupby</span>([<span class="cm-string">'性别'</span>]).<span class="cm-property">aggregate</span>( {<span class="cm-string">'成绩'</span>:<span class="cm-variable">np</span>.<span class="cm-property">mean</span> } )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">sex_counts</span>, <span class="cm-string">'\n'</span>, <span class="cm-variable">sex_mean</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pro_counts</span> = <span class="cm-variable">stu</span>.<span class="cm-property">groupby</span>([<span class="cm-string">'省份'</span>]).<span class="cm-property">count</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pro_mean</span> = <span class="cm-variable">stu</span>.<span class="cm-property">groupby</span>([<span class="cm-string">'省份'</span>]).<span class="cm-property">aggregate</span>( {<span class="cm-string">'成绩'</span>:<span class="cm-variable">np</span>.<span class="cm-property">mean</span> } )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">pro_counts</span>, <span class="cm-string">'\n'</span>, <span class="cm-variable">pro_mean</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">结果表明，男、女学生各24</span> <span class="cm-variable">人，平均成绩分别是79</span><span class="cm-number">.0</span> <span class="cm-variable">和73</span><span class="cm-number">.7</span><span class="cm-variable">，说明男生在该门课程中成绩更好一些。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">按省份分组，各省平均分相去甚远，但观察每个省份只有1</span><span class="cm-operator">~</span><span class="cm-number">3</span> <span class="cm-variable">名学生，分组样本太少，导致分析结果不具参考价值。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#7）计算学生的BMI 值，找出各个四分位数，并与国家标准进行比较。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stu</span>[<span class="cm-string">'BMI'</span>] = <span class="cm-variable">stu</span>[<span class="cm-string">'体重'</span>] <span class="cm-operator">/</span> ( <span class="cm-variable">np</span>.<span class="cm-property">square</span>(<span class="cm-variable">stu</span>[<span class="cm-string">'身高'</span>]<span class="cm-operator">/</span><span class="cm-number">100</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#计算四分位数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-variable">stu</span>[<span class="cm-string">'BMI'</span>].<span class="cm-property">quantile</span>( [<span class="cm-number">.25</span>,<span class="cm-number">0.5</span>,<span class="cm-number">.75</span>] ) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#计算BMI 值&gt;28 的个数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'BMI&gt;28 肥胖人数:'</span>, (<span class="cm-variable">stu</span>[<span class="cm-string">'BMI'</span>]<span class="cm-operator">&gt;</span>=<span class="cm-number">28</span> ).<span class="cm-property">sum</span>() )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">结果表明，25</span><span class="cm-operator">%</span><span class="cm-variable">的学生的BMI</span> <span class="cm-variable">值为18</span><span class="cm-number">.6</span><span class="cm-variable">，体重偏轻；75</span><span class="cm-operator">%</span><span class="cm-variable">的BMI</span> <span class="cm-variable">值为23</span><span class="cm-number">.4</span><span class="cm-variable">，在正常范围内。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">只有1</span> <span class="cm-variable">位学生BMI</span> <span class="cm-variable">超过了28，属于肥胖。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1920px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1920px;"></div></div></div></pre><p>&nbsp;</p><h3><a name='header-n503' class='md-header-anchor '></a><em>Homework(Week6)</em></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#数据合并。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）从studentsInfo.xlsx 的Group3表单中读取数据，将“序号”，“性别”，“年龄”列分别保存到data1对象中。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>(<span class="cm-string">'studentsInfo.xlsx'</span>,<span class="cm-string">'Group3'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">23</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">序号</span> &nbsp; <span class="cm-variable">性别</span> &nbsp;<span class="cm-variable">年龄</span> &nbsp; <span class="cm-variable">身高</span> &nbsp;<span class="cm-variable">体重</span> &nbsp; &nbsp;<span class="cm-variable">省份</span> &nbsp;<span class="cm-variable">成绩</span> &nbsp;<span class="cm-variable">月生活费</span> &nbsp;<span class="cm-variable">课程兴趣</span> &nbsp;<span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span>  <span class="cm-tab" role="presentation" cm-text="	"> </span> <span class="cm-number">165</span> &nbsp;<span class="cm-number">45</span> &nbsp;<span class="cm-variable">ShangHai</span> &nbsp;<span class="cm-number">93</span> &nbsp;<span class="cm-number">1200</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">22</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">19</span> &nbsp; &nbsp;<span class="cm-number">167</span> &nbsp;<span class="cm-number">42</span> &nbsp; &nbsp; <span class="cm-variable">HuBei</span> &nbsp;<span class="cm-number">89</span> &nbsp; <span class="cm-number">800</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp;<span class="cm-number">23</span> &nbsp; &nbsp;<span class="cm-variable">male</span> &nbsp;<span class="cm-number">21</span> &nbsp; &nbsp;<span class="cm-number">169</span> &nbsp;<span class="cm-number">80</span> &nbsp; &nbsp; <span class="cm-variable">GanSu</span> &nbsp;<span class="cm-number">93</span> &nbsp; <span class="cm-number">900</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">24</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp; &nbsp;<span class="cm-number">160</span> &nbsp;<span class="cm-number">49</span> &nbsp; &nbsp; <span class="cm-variable">HeBei</span> &nbsp;<span class="cm-number">59</span> &nbsp;<span class="cm-number">1100</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp;<span class="cm-number">25</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp; &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">54</span> &nbsp; &nbsp; <span class="cm-variable">GanSu</span> &nbsp;<span class="cm-number">68</span> &nbsp;<span class="cm-number">1300</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp;<span class="cm-number">26</span> &nbsp; &nbsp;<span class="cm-variable">male</span> &nbsp;<span class="cm-number">21</span> &nbsp; &nbsp;<span class="cm-number">181</span> &nbsp;<span class="cm-number">77</span> &nbsp; <span class="cm-variable">SiChuan</span> &nbsp;<span class="cm-number">62</span> &nbsp; <span class="cm-number">800</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp;<span class="cm-number">27</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp; &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">49</span> &nbsp;<span class="cm-variable">ShanDong</span> &nbsp;<span class="cm-number">65</span> &nbsp; <span class="cm-number">950</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp;<span class="cm-number">28</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">22</span> &nbsp; &nbsp;<span class="cm-number">160</span> &nbsp;<span class="cm-number">52</span> &nbsp; &nbsp;<span class="cm-variable">ShanXi</span> &nbsp;<span class="cm-number">73</span> &nbsp; <span class="cm-number">800</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp;<span class="cm-number">29</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">20</span> &nbsp; &nbsp;<span class="cm-number">161</span> &nbsp;<span class="cm-number">51</span> &nbsp; <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">80</span> &nbsp;<span class="cm-number">1250</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp;<span class="cm-number">30</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">20</span> &nbsp; &nbsp;<span class="cm-number">168</span> &nbsp;<span class="cm-number">52</span> &nbsp; <span class="cm-variable">JiangSu</span> &nbsp;<span class="cm-number">98</span> &nbsp; <span class="cm-number">700</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span> = <span class="cm-variable">data</span>[[<span class="cm-string">"序号"</span>,<span class="cm-string">"性别"</span>,<span class="cm-string">"年龄"</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=======================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）从studentsInfo.xlsx 的Group3表单中读取数据，将“序号”、“身高”、“体重”、“成绩”列保存到data2对中。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data2</span> = <span class="cm-variable">data</span>[[<span class="cm-string">"序号"</span>,<span class="cm-string">"身高"</span>,<span class="cm-string">"体重"</span>,<span class="cm-string">"成绩"</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=======================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3）将data2 合并到data1 中，连接方式为内连接。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pd</span>.<span class="cm-property">merge</span>(<span class="cm-variable">data1</span>,<span class="cm-variable">data2</span>,<span class="cm-variable">how</span>=<span class="cm-string">"inner"</span>,<span class="cm-variable">left_on</span>=<span class="cm-string">"序号"</span>,<span class="cm-variable">right_on</span>=<span class="cm-string">"序号"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">31</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">序号</span> <span class="cm-variable">性别</span> &nbsp; <span class="cm-variable">年龄</span> &nbsp;<span class="cm-variable">身高</span> &nbsp;<span class="cm-variable">体重</span> &nbsp;<span class="cm-variable">成绩</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">165</span> &nbsp; <span class="cm-number">45</span> &nbsp;<span class="cm-number">93</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">22</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">19</span> &nbsp;<span class="cm-number">167</span> &nbsp; <span class="cm-number">42</span> &nbsp;<span class="cm-number">89</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp;<span class="cm-number">23</span> &nbsp; &nbsp;<span class="cm-variable">male</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">169</span> &nbsp; <span class="cm-number">80</span> &nbsp;<span class="cm-number">93</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">24</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">160</span> &nbsp; <span class="cm-number">49</span> &nbsp;<span class="cm-number">59</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp;<span class="cm-number">25</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">162</span> &nbsp; <span class="cm-number">54</span> &nbsp;<span class="cm-number">68</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp;<span class="cm-number">26</span> &nbsp; &nbsp;<span class="cm-variable">male</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">181</span> &nbsp; <span class="cm-number">77</span> &nbsp;<span class="cm-number">62</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp;<span class="cm-number">27</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">162</span> &nbsp; <span class="cm-number">49</span> &nbsp;<span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp;<span class="cm-number">28</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">22</span> &nbsp;<span class="cm-number">160</span> &nbsp; <span class="cm-number">52</span> &nbsp;<span class="cm-number">73</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp;<span class="cm-number">29</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">20</span> &nbsp;<span class="cm-number">161</span> &nbsp; <span class="cm-number">51</span> &nbsp;<span class="cm-number">80</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp;<span class="cm-number">30</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">20</span> &nbsp;<span class="cm-number">168</span> &nbsp; <span class="cm-number">52</span> &nbsp;<span class="cm-number">98</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#数据排序和排名。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）使用练习1 最后合并的数据。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data3</span> = <span class="cm-variable">pd</span>.<span class="cm-property">merge</span>(<span class="cm-variable">data1</span>,<span class="cm-variable">data2</span>,<span class="cm-variable">how</span>=<span class="cm-string">"inner"</span>,<span class="cm-variable">left_on</span>=<span class="cm-string">"序号"</span>,<span class="cm-variable">right_on</span>=<span class="cm-string">"序号"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）按“月生活费”对数据升序排序。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">sort_values</span>(<span class="cm-variable">by</span>=<span class="cm-string">"月生活费"</span>,<span class="cm-variable">ascending</span>=<span class="cm-keyword">True</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">35</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">序号</span> &nbsp; <span class="cm-variable">性别</span> &nbsp;<span class="cm-variable">年龄</span> <span class="cm-variable">身高</span> &nbsp;<span class="cm-variable">体重</span> &nbsp; <span class="cm-variable">省份</span> &nbsp;<span class="cm-variable">成绩</span> <span class="cm-variable">月生活费</span> <span class="cm-variable">课程兴趣</span> <span class="cm-variable">案例教学</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp;<span class="cm-number">30</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">20</span> &nbsp;<span class="cm-number">168</span> &nbsp;<span class="cm-number">52</span> &nbsp; <span class="cm-variable">JiangSu</span> &nbsp;<span class="cm-number">98</span> &nbsp; <span class="cm-number">700</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">22</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">19</span> &nbsp;<span class="cm-number">167</span> &nbsp;<span class="cm-number">42</span> &nbsp; &nbsp; <span class="cm-variable">HuBei</span> &nbsp;<span class="cm-number">89</span> &nbsp; <span class="cm-number">800</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp;<span class="cm-number">26</span> &nbsp; &nbsp;<span class="cm-variable">male</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">181</span> &nbsp;<span class="cm-number">77</span> &nbsp; <span class="cm-variable">SiChuan</span> &nbsp;<span class="cm-number">62</span> &nbsp; <span class="cm-number">800</span> &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp;<span class="cm-number">28</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">22</span> &nbsp;<span class="cm-number">160</span> &nbsp;<span class="cm-number">52</span> &nbsp; &nbsp;<span class="cm-variable">ShanXi</span> &nbsp;<span class="cm-number">73</span> &nbsp; <span class="cm-number">800</span> &nbsp; &nbsp; <span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp;<span class="cm-number">23</span> &nbsp; &nbsp;<span class="cm-variable">male</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">169</span> &nbsp;<span class="cm-number">80</span> &nbsp; &nbsp; <span class="cm-variable">GanSu</span> &nbsp;<span class="cm-number">93</span> &nbsp; <span class="cm-number">900</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp;<span class="cm-number">27</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">49</span> &nbsp;<span class="cm-variable">ShanDong</span> &nbsp;<span class="cm-number">65</span> &nbsp; <span class="cm-number">950</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">24</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">160</span> &nbsp;<span class="cm-number">49</span> &nbsp; &nbsp; <span class="cm-variable">HeBei</span> &nbsp;<span class="cm-number">59</span> &nbsp;<span class="cm-number">1100</span> &nbsp; &nbsp; <span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">165</span> &nbsp;<span class="cm-number">45</span> &nbsp;<span class="cm-variable">ShangHai</span> &nbsp;<span class="cm-number">93</span> &nbsp;<span class="cm-number">1200</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp;<span class="cm-number">29</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">20</span> &nbsp;<span class="cm-number">161</span> &nbsp;<span class="cm-number">51</span> &nbsp; <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">80</span> &nbsp;<span class="cm-number">1250</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp;<span class="cm-number">25</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">54</span> &nbsp; &nbsp; <span class="cm-variable">GanSu</span> &nbsp;<span class="cm-number">68</span> &nbsp;<span class="cm-number">1300</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3）按“身高”对数据降序排名，并将列取值方式设置为min。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>[<span class="cm-string">"身高排名"</span>]=<span class="cm-variable">data</span>[<span class="cm-string">"身高"</span>].<span class="cm-property">rank</span>(<span class="cm-variable">method</span>=<span class="cm-string">'min'</span>,<span class="cm-variable">ascending</span> = <span class="cm-keyword">False</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">39</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">序号</span> &nbsp;<span class="cm-variable">性别</span> &nbsp;<span class="cm-variable">年龄</span> <span class="cm-variable">身高</span> &nbsp;<span class="cm-variable">体重</span> &nbsp; &nbsp;<span class="cm-variable">省份</span> &nbsp; <span class="cm-variable">成绩</span> &nbsp;<span class="cm-variable">月生活费</span> <span class="cm-variable">课程兴趣</span> <span class="cm-variable">案例教学</span> <span class="cm-variable">身高排名</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">165</span> &nbsp;<span class="cm-number">45</span> &nbsp;<span class="cm-variable">ShangHai</span> &nbsp;<span class="cm-number">93</span> &nbsp;<span class="cm-number">1200</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-number">5.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-number">22</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">19</span> &nbsp;<span class="cm-number">167</span> &nbsp;<span class="cm-number">42</span> &nbsp; &nbsp; <span class="cm-variable">HuBei</span> &nbsp;<span class="cm-number">89</span> &nbsp; <span class="cm-number">800</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-number">4.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp;<span class="cm-number">23</span> &nbsp; &nbsp;<span class="cm-variable">male</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">169</span> &nbsp;<span class="cm-number">80</span> &nbsp; &nbsp; <span class="cm-variable">GanSu</span> &nbsp;<span class="cm-number">93</span> &nbsp; <span class="cm-number">900</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span> <span class="cm-number">5</span> &nbsp; <span class="cm-number">2.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp;<span class="cm-number">24</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">160</span> &nbsp;<span class="cm-number">49</span> &nbsp; &nbsp; <span class="cm-variable">HeBei</span> &nbsp;<span class="cm-number">59</span> &nbsp;<span class="cm-number">1100</span> &nbsp; &nbsp; <span class="cm-number">3</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-number">9.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp;<span class="cm-number">25</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">54</span> &nbsp; &nbsp; <span class="cm-variable">GanSu</span> &nbsp;<span class="cm-number">68</span> &nbsp;<span class="cm-number">1300</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-number">6.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp;<span class="cm-number">26</span> &nbsp; &nbsp;<span class="cm-variable">male</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">181</span> &nbsp;<span class="cm-number">77</span> &nbsp; <span class="cm-variable">SiChuan</span> &nbsp;<span class="cm-number">62</span> &nbsp; <span class="cm-number">800</span> &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-number">1.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp;<span class="cm-number">27</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">21</span> &nbsp;<span class="cm-number">162</span> &nbsp;<span class="cm-number">49</span> &nbsp;<span class="cm-variable">ShanDong</span> &nbsp;<span class="cm-number">65</span> &nbsp; <span class="cm-number">950</span> &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-number">6.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp;<span class="cm-number">28</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">22</span> &nbsp;<span class="cm-number">160</span> &nbsp;<span class="cm-number">52</span> &nbsp; &nbsp;<span class="cm-variable">ShanXi</span> &nbsp;<span class="cm-number">73</span> &nbsp; <span class="cm-number">800</span> &nbsp; &nbsp; <span class="cm-number">3</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">4</span> &nbsp; <span class="cm-number">9.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp;<span class="cm-number">29</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">20</span> &nbsp;<span class="cm-number">161</span> &nbsp;<span class="cm-number">51</span> &nbsp; <span class="cm-variable">GuangXi</span> &nbsp;<span class="cm-number">80</span> &nbsp;<span class="cm-number">1250</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-number">8.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp;<span class="cm-number">30</span> &nbsp;<span class="cm-variable">female</span> &nbsp;<span class="cm-number">20</span> &nbsp;<span class="cm-number">168</span> &nbsp;<span class="cm-number">52</span> &nbsp; <span class="cm-variable">JiangSu</span> &nbsp;<span class="cm-number">98</span> &nbsp; <span class="cm-number">700</span> &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">5</span> &nbsp; <span class="cm-number">3.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#根据“数据科学系”实验教学计划，完成以下分析。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）读取DataScience.xls 文件数据，创建为DataFrame 数据对象。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_excel</span>(<span class="cm-string">r"C:\pdata\week6\DataScience.xls"</span>,<span class="cm-string">"Sheet1"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">46</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">周次</span> &nbsp; <span class="cm-variable">星期</span> <span class="cm-variable">节次</span> &nbsp; &nbsp;<span class="cm-variable">课程名称</span> &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">班级</span> &nbsp;<span class="cm-variable">班级人数</span> <span class="cm-variable">二级实验室名称</span> <span class="cm-variable">实验地点门牌号</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp; &nbsp;<span class="cm-number">2.0</span>  <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">1.0</span> &nbsp;<span class="cm-number">5</span><span class="cm-operator">~</span><span class="cm-number">7</span> &nbsp; &nbsp;<span class="cm-variable">数据结构</span> &nbsp; ... &nbsp; <span class="cm-property">数据科学181</span> &nbsp;<span class="cm-number">24.0</span> &nbsp; &nbsp;<span class="cm-variable">基础实验室</span> &nbsp; &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">505</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp;<span class="cm-number">4.0</span>  <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">1.0</span> &nbsp;<span class="cm-number">5</span><span class="cm-operator">~</span><span class="cm-number">7</span> &nbsp; &nbsp;<span class="cm-variable">数据结构</span> &nbsp; ... &nbsp; <span class="cm-property">数据科学181</span> &nbsp;<span class="cm-number">24.0</span> &nbsp; &nbsp;<span class="cm-variable">基础实验室</span> &nbsp; &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">505</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp;<span class="cm-number">6.0</span>  <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">1.0</span> &nbsp;<span class="cm-number">5</span><span class="cm-operator">~</span><span class="cm-number">7</span> &nbsp; &nbsp;<span class="cm-variable">数据结构</span> &nbsp; ... &nbsp; <span class="cm-property">数据科学181</span> &nbsp;<span class="cm-number">24.0</span> &nbsp; &nbsp;<span class="cm-variable">基础实验室</span> &nbsp; &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">505</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp;<span class="cm-number">8.0</span>  <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">1.0</span> &nbsp;<span class="cm-number">5</span><span class="cm-operator">~</span><span class="cm-number">7</span> &nbsp; &nbsp;<span class="cm-variable">数据结构</span> &nbsp; ... &nbsp; <span class="cm-property">数据科学181</span> &nbsp;<span class="cm-number">24.0</span> &nbsp; &nbsp;<span class="cm-variable">基础实验室</span> &nbsp; &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">505</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; <span class="cm-number">10.0</span>  <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-number">1.0</span> &nbsp;<span class="cm-number">5</span><span class="cm-operator">~</span><span class="cm-number">7</span> &nbsp; &nbsp;<span class="cm-variable">数据结构</span> &nbsp; ... &nbsp; <span class="cm-property">数据科学181</span> &nbsp;<span class="cm-number">24.0</span> &nbsp; &nbsp;<span class="cm-variable">基础实验室</span> &nbsp; &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">505</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）查询df的数据量和基本结构（df.index，df.columns）</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">index</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">8</span>]: <span class="cm-variable">RangeIndex</span>(<span class="cm-variable">start</span>=<span class="cm-number">0</span>, <span class="cm-variable">stop</span>=<span class="cm-number">96</span>, <span class="cm-variable">step</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">columns</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">10</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Index</span>([<span class="cm-string">'周次'</span>, <span class="cm-string">'星期'</span>, <span class="cm-string">'节次'</span>, <span class="cm-string">'课程名称'</span>, <span class="cm-string">'实验项目名称'</span>, <span class="cm-string">'实验课时数'</span>, <span class="cm-string">'实验类型'</span>, <span class="cm-string">'班级'</span>, <span class="cm-string">'班级人数'</span>,<span class="cm-string">'二级实验室名称'</span>, <span class="cm-string">'实验地点门牌号'</span>],<span class="cm-variable">dtype</span>=<span class="cm-string">'object'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3）查询实验教学计划表中是否含有NaN 数据。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-comment">#<span class="cm-tab" role="presentation" cm-text="	">   </span>将含有NaN 数据的行导出为数据文件pre.csv，判断采用何种数据清洗模式：填充、删除或手工填充。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">isnull</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">17</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-variable">周次</span> &nbsp; &nbsp; <span class="cm-variable">星期</span> &nbsp; &nbsp; <span class="cm-variable">节次</span> &nbsp; <span class="cm-variable">课程名称</span> &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">班级</span> &nbsp; <span class="cm-variable">班级人数</span> &nbsp;<span class="cm-variable">二级实验室名称</span> &nbsp;<span class="cm-variable">实验地点门牌号</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp; <span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp; ... &nbsp; &nbsp; <span class="cm-property">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp; &nbsp;<span class="cm-keyword">False</span> &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; <span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp; ... &nbsp; &nbsp; <span class="cm-property">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp; &nbsp;<span class="cm-keyword">False</span> &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; <span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp; ... &nbsp; &nbsp; <span class="cm-property">False</span> &nbsp;<span class="cm-keyword">False</span> &nbsp; &nbsp;<span class="cm-keyword">False</span> &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">isnull</span>().<span class="cm-property">any</span>(<span class="cm-variable">axis</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">18</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp; &nbsp; <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp; <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp; <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; &nbsp; <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp; &nbsp; <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">True</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp; &nbsp; <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span> = <span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>.<span class="cm-property">isnull</span>().<span class="cm-property">any</span>(<span class="cm-variable">axis</span>=<span class="cm-number">1</span>),:]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span>.<span class="cm-property">to_csv</span>(<span class="cm-string">r"C:\pdata\week6\pre.csv"</span>,<span class="cm-variable">mode</span>=<span class="cm-string">"w"</span>,<span class="cm-variable">index</span>=<span class="cm-keyword">False</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">25</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">周次</span> &nbsp; <span class="cm-variable">星期</span> &nbsp; <span class="cm-variable">节次</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">课程名称</span> &nbsp; ... &nbsp; &nbsp; <span class="cm-property">班级</span> &nbsp;<span class="cm-variable">班级人数</span> &nbsp;<span class="cm-variable">二级实验室名称</span> <span class="cm-variable">实验地点门牌号</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; <span class="cm-number">14.0</span> &nbsp;<span class="cm-number">1.0</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp; &nbsp; &nbsp; <span class="cm-variable">数据结构</span> &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">数据科学181</span> &nbsp;<span class="cm-number">24.0</span> &nbsp; &nbsp;<span class="cm-variable">基础实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">505</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> &nbsp; <span class="cm-number">3.0</span> &nbsp;<span class="cm-number">4.0</span> &nbsp;<span class="cm-number">7</span><span class="cm-operator">~</span><span class="cm-number">8</span> &nbsp;<span class="cm-variable">数据挖掘与机器学习</span> &nbsp; ... &nbsp; &nbsp;<span class="cm-property">数据科学</span>(<span class="cm-variable">卓越</span>)<span class="cm-number">171</span> &nbsp;<span class="cm-number">30.0</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">NaN</span> &nbsp; &nbsp; <span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">31</span> &nbsp;<span class="cm-number">16.0</span> &nbsp;<span class="cm-number">1.0</span> &nbsp;<span class="cm-number">7</span><span class="cm-operator">~</span><span class="cm-number">9</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">NaN</span> &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">数据科学182</span> &nbsp;<span class="cm-number">32.0</span> &nbsp;<span class="cm-variable">数据科学实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">309</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">40</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">NaN</span> &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">NaN</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">NaN</span> &nbsp; &nbsp; <span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">66</span> &nbsp;<span class="cm-number">12.0</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp;<span class="cm-number">7</span><span class="cm-variable">～9</span> &nbsp; &nbsp; <span class="cm-variable">数据科学导论</span> &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">数据科学182</span> &nbsp;<span class="cm-number">32.0</span> &nbsp;<span class="cm-variable">数据科学实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">309</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">68</span> &nbsp;<span class="cm-number">14.0</span> &nbsp;<span class="cm-number">4.0</span> &nbsp;<span class="cm-number">7</span><span class="cm-variable">～9</span> &nbsp; &nbsp; <span class="cm-variable">数据科学导论</span> &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">数据科学182</span> &nbsp;<span class="cm-number">32.0</span> &nbsp;<span class="cm-variable">数据科学实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">309</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">87</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">NaN</span> &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">NaN</span> &nbsp; <span class="cm-variable">NaN</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">NaN</span> &nbsp; &nbsp; <span class="cm-variable">NaN</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span>.<span class="cm-property">dropna</span>(<span class="cm-variable">axis</span>=<span class="cm-number">0</span>,<span class="cm-variable">thresh</span>=<span class="cm-number">10</span>,<span class="cm-variable">how</span>=<span class="cm-string">"all"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">28</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">周次</span> <span class="cm-variable">星期</span> &nbsp;<span class="cm-variable">节次</span> &nbsp; &nbsp;<span class="cm-variable">课程名称</span> &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-property">班级</span> &nbsp;<span class="cm-variable">班级人数</span> &nbsp;<span class="cm-variable">二级实验室名称</span> <span class="cm-variable">实验地点门牌号</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; <span class="cm-number">14.0</span> &nbsp;<span class="cm-number">1.0</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp; &nbsp;<span class="cm-variable">数据结构</span> &nbsp; ... &nbsp; &nbsp; &nbsp;<span class="cm-property">数据科学181</span> &nbsp;<span class="cm-number">24.0</span> &nbsp; &nbsp;<span class="cm-variable">基础实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">505</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">31</span> &nbsp;<span class="cm-number">16.0</span> &nbsp;<span class="cm-number">1.0</span> &nbsp;<span class="cm-number">7</span><span class="cm-operator">~</span><span class="cm-number">9</span> &nbsp; &nbsp; <span class="cm-variable">NaN</span> &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-property">数据科学182</span> &nbsp;<span class="cm-number">32.0</span> &nbsp;<span class="cm-variable">数据科学实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">309</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">66</span> &nbsp;<span class="cm-number">12.0</span> &nbsp;<span class="cm-variable">NaN</span> &nbsp;<span class="cm-number">7</span><span class="cm-variable">～9</span> &nbsp;<span class="cm-variable">数据科学导论</span> &nbsp; ... &nbsp; &nbsp;<span class="cm-property">数据科学182</span> &nbsp;<span class="cm-number">32.0</span> &nbsp;<span class="cm-variable">数据科学实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">309</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">68</span> &nbsp;<span class="cm-number">14.0</span> &nbsp;<span class="cm-number">4.0</span> &nbsp;<span class="cm-number">7</span><span class="cm-variable">～9</span> &nbsp;<span class="cm-variable">数据科学导论</span> &nbsp; ... &nbsp; &nbsp;<span class="cm-property">数据科学182</span> &nbsp;<span class="cm-number">32.0</span> &nbsp;<span class="cm-variable">数据科学实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">309</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=======================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res1</span>.<span class="cm-property">fillna</span>(<span class="cm-variable">method</span>=<span class="cm-string">'bfill'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">34</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">周次</span> &nbsp;<span class="cm-variable">星期</span> &nbsp;<span class="cm-variable">节次</span> &nbsp; &nbsp;<span class="cm-variable">课程名称</span> &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-property">班级</span> &nbsp;<span class="cm-variable">班级人数</span> &nbsp;<span class="cm-variable">二级实验室名称</span> <span class="cm-variable">实验地点门牌号</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; <span class="cm-number">14.0</span> &nbsp;<span class="cm-number">1.0</span> &nbsp;<span class="cm-number">7</span><span class="cm-operator">~</span><span class="cm-number">9</span> &nbsp; &nbsp;<span class="cm-variable">数据结构</span> &nbsp; ... &nbsp; &nbsp; <span class="cm-property">数据科学181</span> &nbsp;<span class="cm-number">24.0</span> &nbsp; &nbsp;<span class="cm-variable">基础实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">505</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">31</span> &nbsp;<span class="cm-number">16.0</span> &nbsp;<span class="cm-number">1.0</span> &nbsp;<span class="cm-number">7</span><span class="cm-operator">~</span><span class="cm-number">9</span> &nbsp;<span class="cm-variable">数据科学导论</span> &nbsp; ... &nbsp; &nbsp;<span class="cm-property">数据科学182</span> &nbsp;<span class="cm-number">32.0</span> &nbsp;<span class="cm-variable">数据科学实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">309</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">66</span> &nbsp;<span class="cm-number">12.0</span> &nbsp;<span class="cm-number">4.0</span> &nbsp;<span class="cm-number">7</span><span class="cm-variable">～9</span> &nbsp;<span class="cm-variable">数据科学导论</span> &nbsp; ... &nbsp; &nbsp;<span class="cm-property">数据科学182</span> &nbsp;<span class="cm-number">32.0</span> &nbsp;<span class="cm-variable">数据科学实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">309</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">68</span> &nbsp;<span class="cm-number">14.0</span> &nbsp;<span class="cm-number">4.0</span> &nbsp;<span class="cm-number">7</span><span class="cm-variable">～9</span> &nbsp;<span class="cm-variable">数据科学导论</span> &nbsp; ... &nbsp; &nbsp;<span class="cm-property">数据科学182</span> &nbsp;<span class="cm-number">32.0</span> &nbsp;<span class="cm-variable">数据科学实验室</span> &nbsp;<span class="cm-number">11</span><span class="cm-operator">-</span><span class="cm-number">309</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#4）查询“课程名称”、“实验项目名称”、“实验类型”和“二级实验室名称”4 列数据内容。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>[[<span class="cm-string">"课程名称"</span>,<span class="cm-string">"实验项目名称"</span>,<span class="cm-string">"实验类型"</span>,<span class="cm-string">"二级实验室名称"</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">47</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">课程名称</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">实验项目名称</span> &nbsp;<span class="cm-variable">实验类型</span> &nbsp;<span class="cm-variable">二级实验室名称</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">数据结构</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">顺序表的基本操作</span> &nbsp;<span class="cm-variable">验证型</span> &nbsp; &nbsp;<span class="cm-variable">基础实验室</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">数据结构</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">链表的基本操作</span> &nbsp; <span class="cm-variable">验证型</span> &nbsp; &nbsp;<span class="cm-variable">基础实验室</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">.. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ...  ... &nbsp; &nbsp;  ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">66</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">数据科学导论</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">Pandas数据统计</span> &nbsp; &nbsp;<span class="cm-variable">验证型</span> &nbsp;<span class="cm-variable">数据科学实验室</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#5）统计每门课程的实验课时数。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span> = <span class="cm-variable">data</span>.<span class="cm-property">groupby</span>([<span class="cm-string">"课程名称"</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span>.<span class="cm-property">aggregate</span>({<span class="cm-string">"实验课时数"</span>:<span class="cm-variable">np</span>.<span class="cm-property">sum</span>})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">38</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">实验课时数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">课程名称</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Python语言程序设计</span> &nbsp; &nbsp;<span class="cm-number">64.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">商务数据分析</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">24.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">大数据技术</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">32.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据挖掘与机器学习</span> &nbsp; &nbsp; <span class="cm-number">64.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据科学导论</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">45.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据结构</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">24.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#6）统计每周开设的各门实验课的时数。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span> = <span class="cm-variable">data</span>.<span class="cm-property">groupby</span>([<span class="cm-string">"周次"</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span>.<span class="cm-property">aggregate</span>({<span class="cm-string">"实验课时数"</span>:<span class="cm-variable">np</span>.<span class="cm-property">sum</span>})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">40</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">实验课时数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">周次</span> &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1.0</span> &nbsp; &nbsp;<span class="cm-number">14.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2.0</span> &nbsp; &nbsp;<span class="cm-number">17.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3.0</span> &nbsp; &nbsp;<span class="cm-number">14.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4.0</span> &nbsp; &nbsp;<span class="cm-number">17.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5.0</span> &nbsp; &nbsp;<span class="cm-number">14.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6.0</span> &nbsp; &nbsp;<span class="cm-number">17.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7.0</span> &nbsp; &nbsp;<span class="cm-number">14.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8.0</span> &nbsp; &nbsp;<span class="cm-number">17.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9.0</span> &nbsp; &nbsp;<span class="cm-number">16.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10.0</span> &nbsp; <span class="cm-number">15.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">11.0</span> &nbsp; <span class="cm-number">16.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">12.0</span> &nbsp; <span class="cm-number">19.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">13.0</span> &nbsp; <span class="cm-number">16.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14.0</span> &nbsp; <span class="cm-number">19.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">15.0</span> &nbsp; <span class="cm-number">16.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">16.0</span> &nbsp; <span class="cm-number">15.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#7）统计每门课程的实验类型分布（crosstab）。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pd</span>.<span class="cm-property">crosstab</span>(<span class="cm-variable">data</span>[<span class="cm-string">"课程名称"</span>],<span class="cm-variable">data</span>[<span class="cm-string">"实验类型"</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">44</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">实验类型</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">实训</span> &nbsp;<span class="cm-variable">综合型</span> &nbsp;<span class="cm-variable">设计型</span> &nbsp;<span class="cm-variable">验证型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">课程名称</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Python语言程序设计</span> &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp;<span class="cm-number">2</span> &nbsp;  <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0</span> &nbsp; <span class="cm-number">14</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">商务数据分析</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">6</span> &nbsp; &nbsp;<span class="cm-number">0</span> &nbsp;  <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0</span> &nbsp; &nbsp;<span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">大数据技术</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp;<span class="cm-number">3</span> &nbsp;  <span class="cm-tab" role="presentation" cm-text="	">  </span> <span class="cm-number">7</span> &nbsp; &nbsp;<span class="cm-number">6</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据挖掘与机器学习</span> &nbsp; &nbsp;<span class="cm-number">0</span> &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; <span class="cm-tab" role="presentation" cm-text="	"> </span> &nbsp; <span class="cm-number">10</span> &nbsp; <span class="cm-number">20</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据科学导论</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; <span class="cm-number">3</span> &nbsp;  <span class="cm-tab" role="presentation" cm-text="	">  </span> <span class="cm-number">3</span> &nbsp; &nbsp;<span class="cm-number">8</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据结构</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp;<span class="cm-number">0</span> &nbsp;  <span class="cm-tab" role="presentation" cm-text="	"> </span> &nbsp;<span class="cm-number">0</span> &nbsp; &nbsp;<span class="cm-number">8</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#8）统计每个班级的实验课课表。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span> = <span class="cm-variable">data</span>.<span class="cm-property">groupby</span>([<span class="cm-string">"班级"</span>,<span class="cm-string">"课程名称"</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span>.<span class="cm-property">aggregate</span>({<span class="cm-string">"班级人数"</span>:<span class="cm-variable">np</span>.<span class="cm-property">mean</span>})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">56</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">班级人数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">班级</span> &nbsp; &nbsp; &nbsp; &nbsp;  <span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; <span class="cm-variable">课程名称</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">大数据应用171</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">大数据技术</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">38.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; <span class="cm-variable">数据挖掘与机器学习</span> &nbsp; &nbsp; <span class="cm-number">25.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">大数据应用191</span> &nbsp;  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">Python语言程序设计</span> &nbsp; &nbsp;<span class="cm-number">34.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据科学</span>(<span class="cm-variable">卓越</span>)<span class="cm-number">171</span> &nbsp; &nbsp;<span class="cm-variable">数据挖掘与机器学习</span> &nbsp; &nbsp; <span class="cm-number">30.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据科学171</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">商务数据分析</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">25.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据科学172</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">数据挖掘与机器学习</span> &nbsp; &nbsp; <span class="cm-number">30.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据科学181</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">数据结构</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">24.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据科学182</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">数据科学导论</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">32.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据科学（卓越）191</span> <span class="cm-variable">Python语言程序设计</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">30.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#9）分析各二级实验室承担的实验课时量。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span> = <span class="cm-variable">data</span>.<span class="cm-property">groupby</span>([<span class="cm-string">"二级实验室名称"</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span>.<span class="cm-property">aggregate</span>({<span class="cm-string">"实验课时数"</span>:<span class="cm-variable">np</span>.<span class="cm-property">sum</span>})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">58</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span> &nbsp; <span class="cm-variable">实验课时数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">二级实验室名称</span> &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">人工智能实验室</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">62.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">基础实验室</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span> &nbsp;<span class="cm-number">88.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据科学实验室</span>  <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">104.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">结论：数据科学实验室承担实验课任务最重，人工智能实验室承担实验课任务最轻。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#10）分析各二级实验室能够支持的实验类型。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pd</span>.<span class="cm-property">crosstab</span>(<span class="cm-variable">data</span>[<span class="cm-string">"二级实验室名称"</span>],<span class="cm-variable">data</span>[<span class="cm-string">"实验类型"</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">59</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">实验类型</span> &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-variable">实训</span> &nbsp;<span class="cm-variable">综合型</span> &nbsp;<span class="cm-variable">设计型</span> &nbsp;<span class="cm-variable">验证型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">二级实验室名称</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">人工智能实验室</span> &nbsp; &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">10</span> &nbsp; <span class="cm-number">19</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">基础实验室</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span> &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span> &nbsp; <span class="cm-number">22</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">数据科学实验室</span> &nbsp; &nbsp; <span class="cm-number">6</span> &nbsp; &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">10</span> &nbsp; <span class="cm-number">14</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">结论：数据科学实验室能够承担所有类型实验。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 5917px;"></div><div class="CodeMirror-gutters" style="display: none; height: 5917px;"></div></div></div></pre><p>&nbsp;</p><h2><a name='header-n506' class='md-header-anchor '></a>第4章 数据可视化</h2><h3><a name='header-n507' class='md-header-anchor '></a>pandas快速绘图</h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 293.333px; left: 85.3333px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span><span class=""> </span><span class="cm-variable">matplotlib</span><span class="">.</span><span class="cm-property">pyplot</span><span class=""> </span><span class="cm-keyword">as</span><span class=""> </span><span class="cm-variable">plt</span><span class=""> </span><span class="cm-comment">#导入pyplot，用于图形显示</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span><span class=""> </span><span class="cm-variable">pandas</span><span class=""> </span><span class="cm-keyword">import</span><span class=""> </span><span class="cm-variable">DataFrame</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gdp</span><span class=""> = [</span><span class="cm-number">41.3</span><span class="">,</span><span class="cm-number">48.9</span><span class="">,</span><span class="cm-number">54.0</span><span class="">,</span><span class="cm-number">59.5</span><span class="">,</span><span class="cm-number">64.4</span><span class="">,</span><span class="cm-number">68.9</span><span class="">,</span><span class="cm-number">74.4</span><span class="">]</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span><span class=""> = </span><span class="cm-variable">DataFrame</span><span class="">({</span><span class="cm-string">'GDP: Trillion'</span><span class="">:</span><span class="cm-variable">gdp</span><span class="">}, </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class=""> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="cm-variable">index</span><span class="">=[</span><span class="cm-string">'2010'</span><span class="">,</span><span class="cm-string">'2011'</span><span class="">,</span><span class="cm-string">'2012'</span><span class="">,</span><span class="cm-string">'2013'</span><span class="">,</span><span class="cm-string">'2014'</span><span class="">,</span><span class="cm-string">'2015'</span><span class="">,</span><span class="cm-string">'2016'</span><span class="">])</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#data.plot()</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span><span class="">.</span><span class="cm-property">plot</span><span class="">(</span><span class="cm-variable">title</span><span class="">=</span><span class="cm-string">'2010—2016 GDP'</span><span class="">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class=""> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="cm-variable">LineWidth</span><span class="">=</span><span class="cm-number">2</span><span class="">, </span><span class="cm-variable">marker</span><span class="">=</span><span class="cm-string">'o'</span><span class="">, </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class=""> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="cm-variable">linestyle</span><span class="">=</span><span class="cm-string">'dashed'</span><span class="">,</span><span class="cm-variable">color</span><span class="">=</span><span class="cm-string">'r'</span><span class="">, </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class=""> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="cm-variable">grid</span><span class="">=</span><span class="cm-keyword">True</span><span class="">,</span><span class="cm-variable">alpha</span><span class="">=</span><span class="cm-number">0.9</span><span class="">,</span><span class="cm-variable">use_index</span><span class="">=</span><span class="cm-keyword">True</span><span class="">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class=""> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="cm-variable">yticks</span><span class="">=[</span><span class="cm-number">35</span><span class="">,</span><span class="cm-number">40</span><span class="">,</span><span class="cm-number">45</span><span class="">,</span><span class="cm-number">50</span><span class="">,</span><span class="cm-number">55</span><span class="">,</span><span class="cm-number">60</span><span class="">,</span><span class="cm-number">65</span><span class="">,</span><span class="cm-number">70</span><span class="">,</span><span class="cm-number">75</span><span class="">])</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span><span class="">.</span><span class="cm-property">show</span><span class="">()</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 320px;"></div><div class="CodeMirror-gutters" style="display: none; height: 320px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560141237855.png' alt='1560141237855' referrerPolicy='no-referrer' /></p><h3><a name='header-n511' class='md-header-anchor '></a>matplotlib精细绘图</h3><h4><a name='header-n512' class='md-header-anchor '></a>绘图</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span> <span class="cm-comment">#导入绘图库</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">figure</span>() <span class="cm-comment">#创建绘图对象</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">GDPdata</span>=[<span class="cm-number">41.3</span>,<span class="cm-number">48.9</span>,<span class="cm-number">54.0</span>,<span class="cm-number">59.5</span>,<span class="cm-number">64.4</span>,<span class="cm-number">68.9</span>,<span class="cm-number">74.4</span>] <span class="cm-comment">#准备绘图的序列数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">plot</span>(<span class="cm-variable">GDPdata</span>,<span class="cm-variable">color</span>=<span class="cm-string">"red"</span>,<span class="cm-variable">linewidth</span>=<span class="cm-number">2</span>,<span class="cm-variable">linestyle</span>=<span class="cm-string">'dashed'</span>,<span class="cm-variable">marker</span>=<span class="cm-string">'o'</span>,<span class="cm-variable">label</span>=<span class="cm-string">'GDP'</span>) <span class="cm-comment">#绘图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#精细设置图元</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">title</span>(<span class="cm-string">'2010~2016 GDP: Trillion'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlim</span>(<span class="cm-number">0</span>,<span class="cm-number">6</span>) &nbsp; <span class="cm-comment">#x 轴绘图范围</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylim</span>(<span class="cm-number">35</span>,<span class="cm-number">75</span>) <span class="cm-comment">#y 轴绘图范围</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xticks</span>(<span class="cm-builtin">range</span>(<span class="cm-number">0</span>,<span class="cm-number">7</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<span class="cm-string">'2010'</span>,<span class="cm-string">'2011'</span>,<span class="cm-string">'2012'</span>,<span class="cm-string">'2013'</span>,<span class="cm-string">'2014'</span>,<span class="cm-string">'2015'</span>,<span class="cm-string">'2016'</span>)) <span class="cm-comment">#将x 轴刻度映射为字符串</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">legend</span>(<span class="cm-variable">loc</span>=<span class="cm-string">'upper right'</span>) <span class="cm-comment">#在右上角显示图例说明</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">grid</span>() <span class="cm-comment">#显示网格线</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">show</span>() <span class="cm-comment">#显示并关闭绘图</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 347px;"></div><div class="CodeMirror-gutters" style="display: none; height: 347px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560141360187.png' alt='1560141360187' referrerPolicy='no-referrer' /></p><h4><a name='header-n1014' class='md-header-anchor '></a>多子图</h4><ul><li>用多个子图绘制2010—2016 年GDP 状况，效果如图所示。</li></ul><p><img src='Data Analysis.assets/1560141456632.png' alt='1560141456632' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">import</span> <span class="cm-variable">Series</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>=<span class="cm-variable">Series</span>([<span class="cm-number">41.3</span>,<span class="cm-number">48.9</span>,<span class="cm-number">54.0</span>,<span class="cm-number">59.5</span>,<span class="cm-number">64.4</span>,<span class="cm-number">68.9</span>,<span class="cm-number">74.4</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">index</span>=[<span class="cm-string">'2010'</span>,<span class="cm-string">'2011'</span>,<span class="cm-string">'2012'</span>,<span class="cm-string">'2013'</span>,<span class="cm-string">'2014'</span>,<span class="cm-string">'2015'</span>,<span class="cm-string">'2016'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fig</span>=<span class="cm-variable">plt</span>.<span class="cm-property">figure</span>(<span class="cm-variable">figsize</span>=(<span class="cm-number">6</span>,<span class="cm-number">6</span>)) <span class="cm-comment">#figsize 定义图形大小</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax1</span>=<span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">2</span>,<span class="cm-number">1</span>,<span class="cm-number">1</span>) <span class="cm-comment">#创建子图1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax1</span>.<span class="cm-property">plot</span>(<span class="cm-variable">data</span>) <span class="cm-comment">#用AxesSubplot 绘制折线图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax2</span>=<span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">2</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>) <span class="cm-comment">#创建子图2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#用pandas 绘制柱状图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'bar'</span>,<span class="cm-variable">use_index</span>=<span class="cm-keyword">True</span>,<span class="cm-variable">fontsize</span>=<span class="cm-string">'small'</span>,<span class="cm-variable">ax</span>=<span class="cm-variable">ax2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax3</span>=<span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">2</span>,<span class="cm-number">2</span>,<span class="cm-number">4</span>) <span class="cm-comment">#创建子图3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#用pandas 绘制箱形图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'box'</span>,<span class="cm-variable">fontsize</span>=<span class="cm-string">'small'</span>,<span class="cm-variable">xticks</span>=[],<span class="cm-variable">ax</span>=<span class="cm-variable">ax3</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 320px;"></div><div class="CodeMirror-gutters" style="display: none; height: 320px;"></div></div></div></pre><h4><a name='header-n520' class='md-header-anchor '></a>设置图元属性和说明</h4><figure><table><thead><tr><th style='text-align:center;' >函数</th><th style='text-align:center;' >说明</th></tr></thead><tbody><tr><td style='text-align:center;' >plt.title </td><td style='text-align:center;' >设置图标题</td></tr><tr><td style='text-align:center;' >plt.xlabel、plt.ylabel</td><td style='text-align:center;' >设置x 轴、y 轴标题</td></tr><tr><td style='text-align:center;' >plt.xlim、plt.ylim</td><td style='text-align:center;' >设置x 轴、y 轴刻度范围</td></tr><tr><td style='text-align:center;' >plt.xticks、plt.yticks</td><td style='text-align:center;' >设置x 轴、y 轴刻度值</td></tr><tr><td style='text-align:center;' >plt.legend</td><td style='text-align:center;' >添加图例说明</td></tr><tr><td style='text-align:center;' >plt.grid</td><td style='text-align:center;' >显示网格线</td></tr><tr><td style='text-align:center;' >plt.text</td><td style='text-align:center;' >添加注解文字</td></tr><tr><td style='text-align:center;' >plt.annotate</td><td style='text-align:center;' >添加注释</td></tr></tbody></table></figure><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">plot</span>(<span class="cm-variable">title</span>=<span class="cm-string">'2010—2016 GDP'</span>,</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">LineWidth</span>=<span class="cm-number">2</span>, <span class="cm-variable">marker</span>=<span class="cm-string">'o'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">linestyle</span>=<span class="cm-string">'dashed'</span>,<span class="cm-variable">color</span>=<span class="cm-string">'r'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">grid</span>=<span class="cm-keyword">True</span>,<span class="cm-variable">alpha</span>=<span class="cm-number">0.9</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">annotate</span>(<span class="cm-string">'turning point'</span>,<span class="cm-variable">xy</span>=(<span class="cm-number">1</span>,<span class="cm-number">78</span>),<span class="cm-variable">xytext</span>=(<span class="cm-number">0.5</span>,<span class="cm-number">75</span>), <span class="cm-variable">arrowprops</span>=<span class="cm-builtin">dict</span>(<span class="cm-variable">arrowstyle</span>=<span class="cm-string">'-&gt;'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">text</span>(<span class="cm-number">1.8</span>,<span class="cm-number">75</span>,<span class="cm-string">'GDP keeps booming!'</span>,<span class="cm-variable">fontsize</span>=<span class="cm-string">'larger'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">'Year'</span>,<span class="cm-variable">fontsize</span>=<span class="cm-number">12</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">'GDP Increment Speed(%)'</span>,<span class="cm-variable">fontsize</span>=<span class="cm-number">12</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xticks</span>(<span class="cm-builtin">range</span>(<span class="cm-number">0</span>,<span class="cm-number">7</span>),(<span class="cm-string">'2010'</span>,<span class="cm-string">'2011'</span>,<span class="cm-string">'2012'</span>,<span class="cm-string">'2013'</span>,<span class="cm-string">'2014'</span>,<span class="cm-string">'2015'</span>,<span class="cm-string">'2016'</span>))</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 240px;"></div><div class="CodeMirror-gutters" style="display: none; height: 240px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560141957844.png' alt='1560141957844' referrerPolicy='no-referrer' /></p><h4><a name='header-n524' class='md-header-anchor '></a>保存图表到文件</h4><p><code>plt.savefig(&#39;2010-2016GDP.jpg&#39;,dpi=400,bbox_inches=&#39;tight&#39;)</code></p><ul><li><p>参数说明：</p><ul><li>filename：文件路径及文件名，文件类型可以是jpg、png、pdf、svg、ps 等。</li><li>dpi：图片分辨率，每英寸点数，默认值为100。</li><li>bbox_inches：图表需保存的部分，设置为“tight”可以剪除当前图表周围的空白部分。</li></ul></li><li><p><mark>savefig()函数必须在show()函数前使用方能保存当前图像。</mark></p></li></ul><h3><a name='header-n538' class='md-header-anchor '></a><em>Homework(Week7)</em></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2012—2017 年我国人均可支配收入为[1.47, 1.62, 1.78, 1.94, 2.38, 2.60]（单位：万元）。按照要求绘制以下图形。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）模仿例4-1 和例4-3，绘制人均可支配收入折线图（效果如图4-6 所示）。用小矩形标记数据点，黑色虚线，用注解标注最高点，图标题为“Income chart”，设置坐标轴标题，最后将图形保存为JPG 文件。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span> <span class="cm-comment">#导入pyplot，用于图形显示</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">import</span> <span class="cm-variable">DataFrame</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">avg_income</span> = [<span class="cm-number">1.47</span>,<span class="cm-number">1.62</span>,<span class="cm-number">1.78</span>,<span class="cm-number">1.94</span>,<span class="cm-number">2.38</span>,<span class="cm-number">2.60</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">DataFrame</span>({<span class="cm-string">'Income'</span>:<span class="cm-variable">avg_income</span>}, </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">index</span>=[<span class="cm-string">'2012'</span>,<span class="cm-string">'2013'</span>,<span class="cm-string">'2014'</span>,<span class="cm-string">'2015'</span>,<span class="cm-string">'2016'</span>,<span class="cm-string">'2017'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">plot</span>(<span class="cm-variable">title</span>=<span class="cm-string">'Income chart'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">LineWidth</span>=<span class="cm-number">2</span>, <span class="cm-variable">marker</span>=<span class="cm-string">'s'</span>, </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">linestyle</span>=<span class="cm-string">'dashed'</span>,<span class="cm-variable">color</span>=<span class="cm-string">'black'</span>, </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">grid</span>=<span class="cm-keyword">True</span>,<span class="cm-variable">alpha</span>=<span class="cm-number">0.9</span>,<span class="cm-variable">use_index</span>=<span class="cm-keyword">True</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">xticks</span>=[<span class="cm-number">0</span>,<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>,<span class="cm-number">4</span>,<span class="cm-number">5</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">yticks</span>=[<span class="cm-number">0.0</span>,<span class="cm-number">0.5</span>,<span class="cm-number">1.0</span>,<span class="cm-number">1.5</span>,<span class="cm-number">2.0</span>,<span class="cm-number">2.5</span>,<span class="cm-number">3.0</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">annotate</span>(<span class="cm-string">'largest'</span>,<span class="cm-variable">xy</span>=(<span class="cm-number">5</span>,<span class="cm-number">2.60</span>),<span class="cm-variable">xytext</span>=(<span class="cm-number">3</span>,<span class="cm-number">2.5</span>), <span class="cm-variable">arrowprops</span>=<span class="cm-builtin">dict</span>(<span class="cm-variable">arrowstyle</span>=<span class="cm-string">'-&gt;'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlim</span>(<span class="cm-number">0</span>,<span class="cm-number">5</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">'Year'</span>,<span class="cm-variable">fontsize</span>=<span class="cm-number">12</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">'Income(RMB Ten Thousand)'</span>,<span class="cm-variable">fontsize</span>=<span class="cm-number">12</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">savefig</span>(<span class="cm-string">r'C:\pdata\week7\Income.jpg'</span>,<span class="cm-variable">dpi</span>=<span class="cm-number">200</span>,<span class="cm-variable">bbox_inches</span>=<span class="cm-string">'tight'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">show</span>()</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 533px;"></div><div class="CodeMirror-gutters" style="display: none; height: 533px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560142020959.png' alt='1560142020959' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）模仿例4-2，使用多个子图分别绘制人均可支配收入的折线图、箱形图及柱状图（效果如图4-7 所示）。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">import</span> <span class="cm-variable">Series</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>=<span class="cm-variable">Series</span>([<span class="cm-number">1.47</span>,<span class="cm-number">1.62</span>,<span class="cm-number">1.78</span>,<span class="cm-number">1.94</span>,<span class="cm-number">2.38</span>,<span class="cm-number">2.60</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">index</span>=[<span class="cm-string">'2012'</span>,<span class="cm-string">'2013'</span>,<span class="cm-string">'2014'</span>,<span class="cm-string">'2015'</span>,<span class="cm-string">'2016'</span>,<span class="cm-string">'2017'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fig</span>=<span class="cm-variable">plt</span>.<span class="cm-property">figure</span>(<span class="cm-variable">figsize</span>=(<span class="cm-number">10</span>,<span class="cm-number">10</span>)) <span class="cm-comment">#figsize 定义图形大小</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax1</span>=<span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">2</span>,<span class="cm-number">2</span>,<span class="cm-number">1</span>) <span class="cm-comment">#创建子图1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax1</span>.<span class="cm-property">plot</span>(<span class="cm-variable">data</span>) <span class="cm-comment">#用AxesSubplot 绘制折线图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">title</span>(<span class="cm-string">'line chart'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">'Year'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">'Income'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xticks</span>([<span class="cm-number">0</span>,<span class="cm-number">2</span>,<span class="cm-number">4</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">yticks</span>([<span class="cm-number">1.5</span>,<span class="cm-number">1.75</span>,<span class="cm-number">2.0</span>,<span class="cm-number">2.25</span>,<span class="cm-number">2.5</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax2</span>=<span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">2</span>,<span class="cm-number">2</span>,<span class="cm-number">2</span>) <span class="cm-comment">#创建子图2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#用pandas 绘制箱形图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'box'</span>,<span class="cm-variable">fontsize</span>=<span class="cm-string">'small'</span>,<span class="cm-variable">xticks</span>=[],<span class="cm-variable">ax</span>=<span class="cm-variable">ax2</span>,<span class="cm-variable">title</span>=<span class="cm-string">'box-whisker plot'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">'2012-2017'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">yticks</span>([<span class="cm-number">1.5</span>,<span class="cm-number">1.75</span>,<span class="cm-number">2.0</span>,<span class="cm-number">2.25</span>,<span class="cm-number">2.5</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">'Income'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax3</span>=<span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">2</span>,<span class="cm-number">1</span>,<span class="cm-number">2</span>) <span class="cm-comment">#创建子图3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#用pandas 绘制柱状图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'bar'</span>,<span class="cm-variable">use_index</span>=<span class="cm-keyword">True</span>,<span class="cm-variable">fontsize</span>=<span class="cm-string">'small'</span>,<span class="cm-variable">ax</span>=<span class="cm-variable">ax3</span>,<span class="cm-variable">title</span>=<span class="cm-string">"bar chart"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">'Year'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">'Income'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">yticks</span>([<span class="cm-number">0.0</span>,<span class="cm-number">0.5</span>,<span class="cm-number">1.0</span>,<span class="cm-number">1.5</span>,<span class="cm-number">2.0</span>,<span class="cm-number">2.5</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">legend</span>([<span class="cm-string">'Income'</span>],<span class="cm-variable">loc</span>=<span class="cm-string">'upper left'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fig</span>.<span class="cm-property">savefig</span>(<span class="cm-string">r'C:\pdata\week7\Income_su.jpg'</span>,<span class="cm-variable">dpi</span>=<span class="cm-number">200</span>,<span class="cm-variable">bbox_inches</span>=<span class="cm-string">'tight'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#【提示】</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）本实验准备数据时可以使用Series 或DataFrame。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）创建3 个子图分别使用(2,2,1)、(2,2,2)和(2,1,2)作为参数。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3）使用plt.subplots_adjust()函数调整子图间距离，以便添加图标题。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 880px;"></div><div class="CodeMirror-gutters" style="display: none; height: 880px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560142051614.png' alt='1560142051614' referrerPolicy='no-referrer' /></p><h3><a name='header-n543' class='md-header-anchor '></a>绘制常用图形</h3><h4><a name='header-n544' class='md-header-anchor '></a>函数绘制</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#绘制 y = sin(x)和 y = e−x的函数图。在0～2π间采 50 个样本生成x列表，绘图结果如图4-8所示。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span> <span class="cm-comment">#导入numpy</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">x</span> = <span class="cm-variable">np</span>.<span class="cm-property">linspace</span>(<span class="cm-number">0</span>,<span class="cm-number">6.28</span>,<span class="cm-number">50</span>) <span class="cm-comment">#start, end, num-points,生成x 数组</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span>=<span class="cm-variable">np</span>.<span class="cm-property">sin</span>(<span class="cm-variable">x</span>) <span class="cm-comment">#计算y=sin(x)数组</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">plot</span>(<span class="cm-variable">x</span>,<span class="cm-variable">y</span>, <span class="cm-variable">color</span>=<span class="cm-string">'r'</span>) <span class="cm-comment">#用红色绘图y=sin(x)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">plot</span>(<span class="cm-variable">x</span>,<span class="cm-variable">np</span>.<span class="cm-property">exp</span>(<span class="cm-operator">-</span><span class="cm-variable">x</span>),<span class="cm-variable">c</span>=<span class="cm-string">'b'</span>) <span class="cm-comment">#用蓝色绘图y=exp(-x)</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 187px;"></div><div class="CodeMirror-gutters" style="display: none; height: 187px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560142113567.png' alt='1560142113567' referrerPolicy='no-referrer' /></p><h4><a name='header-n548' class='md-header-anchor '></a>散点图</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#绘制散点图观察学生身高和体重之间的关系。从第3章中的学生问卷调查反馈文件students.csv 中读取数据绘制散点图</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/students.csv'</span>) <span class="cm-comment">#读文件</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'scatter'</span>,<span class="cm-variable">x</span>=<span class="cm-string">'Height'</span>,<span class="cm-variable">y</span>=<span class="cm-string">'Weight'</span>,<span class="cm-variable">title</span>=<span class="cm-string">'StudentsBody Shape'</span>, <span class="cm-variable">marker</span>=<span class="cm-string">'*'</span>,<span class="cm-variable">grid</span>=<span class="cm-keyword">True</span>, <span class="cm-variable">xlim</span>=[<span class="cm-number">150</span>,<span class="cm-number">200</span>],<span class="cm-variable">ylim</span>=[<span class="cm-number">40</span>,<span class="cm-number">80</span>], <span class="cm-variable">label</span>=<span class="cm-string">'(Height,Weight)'</span>) <span class="cm-comment">#绘图</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 133px;"></div><div class="CodeMirror-gutters" style="display: none; height: 133px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560142350479.png' alt='1560142350479' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将数据按男生和女生分组</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'c:/pdata/week8/students.csv'</span>) <span class="cm-comment">#</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span>= <span class="cm-variable">data</span>[<span class="cm-variable">data</span>[<span class="cm-string">'Gender'</span>] == <span class="cm-string">'male'</span>] <span class="cm-comment">#筛选出男生</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data2</span>= <span class="cm-variable">data</span>[<span class="cm-variable">data</span>[<span class="cm-string">'Gender'</span>] == <span class="cm-string">'female'</span>] <span class="cm-comment">#筛选出女生</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#分组绘制男生、女生的散点图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">figure</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">scatter</span>(<span class="cm-variable">data1</span>[<span class="cm-string">'Height'</span>],<span class="cm-variable">data1</span>[<span class="cm-string">'Weight'</span>],<span class="cm-variable">c</span>=<span class="cm-string">'r'</span>,<span class="cm-variable">marker</span>=<span class="cm-string">'s'</span>,<span class="cm-variable">label</span>=</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">'Male'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">scatter</span>(<span class="cm-variable">data2</span>[<span class="cm-string">'Height'</span>],<span class="cm-variable">data2</span>[<span class="cm-string">'Weight'</span>],<span class="cm-variable">c</span>=<span class="cm-string">'b'</span>,<span class="cm-variable">marker</span>=<span class="cm-string">'^'</span>,<span class="cm-variable">label</span>=</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">'Female'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlim</span>(<span class="cm-number">150</span>,<span class="cm-number">200</span>) <span class="cm-comment">#x 轴范围</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylim</span>(<span class="cm-number">40</span>,<span class="cm-number">80</span>) <span class="cm-comment">#y 轴范围</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">title</span>(<span class="cm-string">'Student Body'</span>) <span class="cm-comment">#标题</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">'Weight'</span>) <span class="cm-comment">#x 轴标题</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">'Height'</span>) <span class="cm-comment">#y 轴标题</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">grid</span>() <span class="cm-comment">#网格线</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">legend</span>(<span class="cm-variable">loc</span>=<span class="cm-string">'upper right'</span>) <span class="cm-comment">#图例显示位置</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 507px;"></div><div class="CodeMirror-gutters" style="display: none; height: 507px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560142497859.png' alt='1560142497859' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 54px; left: 561.708px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#绘制散点图矩阵观察学生各项信息（身高、体重、年龄、成绩）之间的关系。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stdata</span><span class=""> = </span><span class="cm-variable">data</span><span class="">[[</span><span class="cm-string">'Height'</span><span class="">, </span><span class="cm-string">'Weight'</span><span class="">,</span><span class="cm-string">'Age'</span><span class="">,</span><span class="cm-string">'Score'</span><span class="">]] <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span></span><span class="cm-comment">#准备数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pd</span><span class="">.</span><span class="cm-property">plotting</span><span class="">.</span><span class="cm-property">scatter_matrix</span><span class="">(</span><span class="cm-variable">stdata</span><span class="">,</span><span class="cm-variable">diagonal</span><span class="">=</span><span class="cm-string">'kde'</span><span class="">,</span><span class="cm-variable">color</span><span class="">=</span><span class="cm-string">'k'</span><span class="">) <span class="cm-tab" role="presentation" cm-text="	">    </span></span><span class="cm-comment">#绘图</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 81px;"></div><div class="CodeMirror-gutters" style="display: none; height: 81px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560142703378.png' alt='1560142703378' referrerPolicy='no-referrer' /></p><h4><a name='header-n555' class='md-header-anchor '></a>柱状图</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将数据按男生和女生分组</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'c:/pdata/week8/population.csv'</span>, <span class="cm-variable">index_col</span> =<span class="cm-string">'Year'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span> = <span class="cm-variable">data</span>[[<span class="cm-string">'Boys'</span>,<span class="cm-string">'Girls'</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mean</span> = <span class="cm-variable">np</span>.<span class="cm-property">mean</span>(<span class="cm-variable">data1</span>,<span class="cm-variable">axis</span>=<span class="cm-number">0</span>) <span class="cm-comment">#计算均值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">std</span> = <span class="cm-variable">np</span>.<span class="cm-property">std</span>(<span class="cm-variable">data1</span>,<span class="cm-variable">axis</span>=<span class="cm-number">0</span>) <span class="cm-comment">#计算标准差</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#创建图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fig</span> = <span class="cm-variable">plt</span>.<span class="cm-property">figure</span>(<span class="cm-variable">figsize</span> = (<span class="cm-number">6</span>,<span class="cm-number">2</span>)) <span class="cm-comment">#设置图片大小</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">subplots_adjust</span>(<span class="cm-variable">wspace</span> = <span class="cm-number">0.6</span>) <span class="cm-comment">#设置两个图之间的纵向间隔</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#绘制均值的垂直和水平柱状图，标准差使用误差线来表示</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax1</span> = <span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mean</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'bar'</span>,<span class="cm-variable">yerr</span>=<span class="cm-variable">std</span>,<span class="cm-variable">color</span>=<span class="cm-string">'cadetblue'</span>,<span class="cm-variable">title</span> = <span class="cm-string">'Average ofBirths'</span>, <span class="cm-variable">rot</span>=<span class="cm-number">45</span>,<span class="cm-variable">ax</span>=<span class="cm-variable">ax1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax2</span> = <span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mean</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'barh'</span>,<span class="cm-variable">xerr</span>=<span class="cm-variable">std</span>,<span class="cm-variable">color</span>=<span class="cm-string">'cadetblue'</span>,<span class="cm-variable">title</span> = <span class="cm-string">'AverageofBirths'</span>, <span class="cm-variable">ax</span>=<span class="cm-variable">ax2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#绘制复式柱状图和堆叠柱状图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'bar'</span>,<span class="cm-variable">title</span> = <span class="cm-string">'Births of Boys &amp; Girls'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'bar'</span>, <span class="cm-variable">stacked</span>=<span class="cm-keyword">True</span>,<span class="cm-variable">title</span> = <span class="cm-string">'Births of Boys &amp; Girls'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 533px;"></div><div class="CodeMirror-gutters" style="display: none; height: 533px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560145619377.png' alt='1560145619377' referrerPolicy='no-referrer' /></p><p><img src='Data Analysis.assets/1560145635569.png' alt='1560145635569' referrerPolicy='no-referrer' /></p><p><img src='Data Analysis.assets/1560145660924.png' alt='1560145660924' referrerPolicy='no-referrer' /></p><h4><a name='header-n561' class='md-header-anchor '></a>折线图</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#从 GDP.csv 文件中读取数据，绘制国内生产总值GDP 和人均可支配收入Income 的折线图与半对数折线图</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/GDP.csv'</span>, <span class="cm-variable">index_col</span> = <span class="cm-string">'Year'</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#绘制GDP 和Income 的折线图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">plot</span>(<span class="cm-variable">title</span>=<span class="cm-string">'GDP &amp; Income'</span>,<span class="cm-variable">LineWidth</span>=<span class="cm-number">2</span>,<span class="cm-variable">marker</span>=<span class="cm-string">'o'</span>,<span class="cm-variable">linestyle</span>=<span class="cm-string">'dashed'</span>, <span class="cm-variable">grid</span>=<span class="cm-keyword">True</span>,<span class="cm-variable">use_index</span>=<span class="cm-keyword">True</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#绘制GDP 和Income 的半对数折线图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">plot</span>(<span class="cm-variable">logy</span>=<span class="cm-keyword">True</span>,<span class="cm-variable">LineWidth</span>=<span class="cm-number">2</span>,<span class="cm-variable">marker</span>=<span class="cm-string">'o'</span>,<span class="cm-variable">linestyle</span>=<span class="cm-string">'dashed'</span>,<span class="cm-variable">color</span>=<span class="cm-string">'G'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 187px;"></div><div class="CodeMirror-gutters" style="display: none; height: 187px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560145754049.png' alt='1560145754049' referrerPolicy='no-referrer' /></p><p><img src='Data Analysis.assets/1560145790302.png' alt='1560145790302' referrerPolicy='no-referrer' /></p><h4><a name='header-n565' class='md-header-anchor '></a>直方图</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/students.csv'</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>[<span class="cm-string">'Height'</span>].<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'hist'</span>,<span class="cm-variable">bins</span>=<span class="cm-number">6</span>,<span class="cm-variable">title</span>=<span class="cm-string">'Students HeightDistribution'</span>) <span class="cm-comment">#绘图</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 80px;"></div><div class="CodeMirror-gutters" style="display: none; height: 80px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560145898948.png' alt='1560145898948' referrerPolicy='no-referrer' /></p><h4><a name='header-n568' class='md-header-anchor '></a>密度图</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#bins：横坐标区间个数。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#normed：是否标准化直方图，默认值为False。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/students.csv'</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>[<span class="cm-string">'Height'</span>].<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'hist'</span>,<span class="cm-variable">bins</span>=<span class="cm-number">6</span>,<span class="cm-variable">title</span>=<span class="cm-string">'Students HeightDistribution'</span>,<span class="cm-variable">normed</span>=<span class="cm-keyword">True</span>) <span class="cm-comment">#绘图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>[<span class="cm-string">'Height'</span>].<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'kde'</span>,<span class="cm-variable">title</span>=<span class="cm-string">'Students Height Distribution'</span>,<span class="cm-variable">xlim</span>=[<span class="cm-number">155</span>,<span class="cm-number">185</span>],<span class="cm-variable">style</span> = <span class="cm-string">'k--'</span>,<span class="cm-variable">ylim</span>=[<span class="cm-number">0</span>,<span class="cm-number">0.08</span>])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 160px;"></div><div class="CodeMirror-gutters" style="display: none; height: 160px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560145981673.png' alt='1560145981673' referrerPolicy='no-referrer' /></p><h4><a name='header-n571' class='md-header-anchor '></a>饼图</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#从 advertising.csv 文件中读取营销数据，绘制各类广告投入占比的饼图。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/advertising.csv'</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">piedata</span> = <span class="cm-variable">data</span>[[<span class="cm-string">'TV'</span>,<span class="cm-string">'Weibo'</span>,<span class="cm-string">'WeChat'</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">datasum</span> = <span class="cm-variable">piedata</span>.<span class="cm-property">sum</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#绘制饼图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">datasum</span>.<span class="cm-property">plot</span>( <span class="cm-variable">kind</span>=<span class="cm-string">'pie'</span>, <span class="cm-variable">figsize</span>=(<span class="cm-number">6</span>,<span class="cm-number">6</span>), <span class="cm-variable">title</span>=<span class="cm-string">'AdvertisingExpenditure'</span>,<span class="cm-variable">fontsize</span>=<span class="cm-number">14</span>, <span class="cm-variable">explode</span>=[<span class="cm-number">0</span>,<span class="cm-number">0.2</span>,<span class="cm-number">0</span>],<span class="cm-variable">shadow</span>=<span class="cm-keyword">True</span>,<span class="cm-variable">startangle</span>= <span class="cm-number">60</span>, <span class="cm-variable">autopct</span>=<span class="cm-string">'%1.1f%%'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">''</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 267px;"></div><div class="CodeMirror-gutters" style="display: none; height: 267px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146177686.png' alt='1560146177686' referrerPolicy='no-referrer' /></p><h4><a name='header-n574' class='md-header-anchor '></a>箱型图</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/advertising.csv'</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">advdata</span> = <span class="cm-variable">data</span>[[<span class="cm-string">'TV'</span>,<span class="cm-string">'Weibo'</span>,<span class="cm-string">'WeChat'</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">advdata</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'box'</span>, <span class="cm-variable">figsize</span>=(<span class="cm-number">6</span>,<span class="cm-number">6</span>), <span class="cm-variable">title</span>=<span class="cm-string">'Advertising Expenditure'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 107px;"></div><div class="CodeMirror-gutters" style="display: none; height: 107px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146245342.png' alt='1560146245342' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#从 students.csv 中读取学生数据，按性别绘制学生成绩的箱形图。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#调用 boxplot()函数的DataFrame 对象需要包括分组列“Gender”。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stdata</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/students.csv'</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stdata1</span> = <span class="cm-variable">stdata</span>[[<span class="cm-string">'Gender'</span>,<span class="cm-string">'Score'</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">stdata1</span>.<span class="cm-property">boxplot</span>(<span class="cm-variable">by</span>=<span class="cm-string">'Gender'</span>,<span class="cm-variable">figsize</span>=(<span class="cm-number">6</span>,<span class="cm-number">6</span>))</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 160px;"></div><div class="CodeMirror-gutters" style="display: none; height: 160px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146307176.png' alt='1560146307176' referrerPolicy='no-referrer' /></p><h3><a name='header-n579' class='md-header-anchor '></a><em>Homework(Week8)</em></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#数据文件high-speed rail.csv 存放着世界各国高铁的情况，请对世界各国高铁的数据进行绘图分析。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）各国运营里程对比柱状图，标注China 为“Longest”，如图所示。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/highspeed.csv'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">operation</span> = <span class="cm-variable">data</span>[<span class="cm-string">'Operation'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">operation</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span> = <span class="cm-string">'bar'</span>,<span class="cm-variable">title</span> = <span class="cm-string">'Operation Mileage'</span>,<span class="cm-variable">rot</span>=<span class="cm-number">45</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">"Mileage(km)"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">annotate</span>(<span class="cm-string">'Longest'</span>,<span class="cm-variable">xy</span>=(<span class="cm-number">0</span>,<span class="cm-number">20000</span>),<span class="cm-variable">xytext</span>=(<span class="cm-number">1</span>,<span class="cm-number">15000</span>), <span class="cm-variable">arrowprops</span>=<span class="cm-builtin">dict</span>(<span class="cm-variable">arrowstyle</span>=<span class="cm-string">'-&gt;'</span>),<span class="cm-variable">color</span>=<span class="cm-string">'r'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 267px;"></div><div class="CodeMirror-gutters" style="display: none; height: 267px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146338205.png' alt='1560146338205' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）各国运营里程现状和发展堆叠柱状图，如图所示。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/highspeed.csv'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span> = <span class="cm-variable">data</span>[[<span class="cm-string">'Operation'</span>,<span class="cm-string">'Under-construction'</span>,<span class="cm-string">'Planning'</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span> = <span class="cm-string">'barh'</span>,<span class="cm-variable">title</span> = <span class="cm-string">'Global trends of high-speed rail'</span>,<span class="cm-variable">stacked</span> = <span class="cm-keyword">True</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">"Mileage(km)"</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 187px;"></div><div class="CodeMirror-gutters" style="display: none; height: 187px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146370539.png' alt='1560146370539' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3）各国运营里程占比饼图，China 扇形离开中心点，如图所示。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/highspeed.csv'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span> = <span class="cm-variable">data</span>[<span class="cm-string">'Operation'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span> = <span class="cm-string">'pie'</span>,<span class="cm-variable">title</span> = <span class="cm-string">'Operation Mileage'</span>,<span class="cm-variable">fontsize</span>=<span class="cm-number">14</span>, <span class="cm-variable">explode</span>=[<span class="cm-number">0.2</span>,<span class="cm-number">0</span>,<span class="cm-number">0</span>,<span class="cm-number">0</span>,<span class="cm-number">0</span>,<span class="cm-number">0</span>],<span class="cm-variable">shadow</span>=<span class="cm-keyword">True</span>,<span class="cm-variable">startangle</span>= <span class="cm-number">60</span>, <span class="cm-variable">autopct</span>=<span class="cm-string">'%1.1f%%'</span>,<span class="cm-variable">figsize</span>=(<span class="cm-number">6</span>,<span class="cm-number">6</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">''</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 213px;"></div><div class="CodeMirror-gutters" style="display: none; height: 213px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146416334.png' alt='1560146416334' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#文件bankpep.csv 存放着银行储户的基本信息通过绘图对这些客户数据进行探索性分析。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）客户年龄分布的直方图和密度图（见图4-24）。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/bankpep.csv'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>[<span class="cm-string">'age'</span>].<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'hist'</span>,<span class="cm-variable">bins</span> =<span class="cm-number">10</span>,<span class="cm-variable">title</span>=<span class="cm-string">'Customer Age'</span>,<span class="cm-variable">density</span> =<span class="cm-keyword">True</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>[<span class="cm-string">'age'</span>].<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'kde'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">"Density"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">'age'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 240px;"></div><div class="CodeMirror-gutters" style="display: none; height: 240px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146449761.png' alt='1560146449761' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）客户年龄和收入关系的散点图。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/bankpep.csv'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'scatter'</span>,<span class="cm-variable">x</span>=<span class="cm-string">'age'</span>,<span class="cm-variable">y</span>=<span class="cm-string">'income'</span>,<span class="cm-variable">title</span>=<span class="cm-string">'Customer Income'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">"income"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">'age'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">legend</span>([<span class="cm-string">'(age,income)'</span>],<span class="cm-variable">loc</span>=<span class="cm-string">'upper left'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlim</span>(<span class="cm-number">0</span>,<span class="cm-number">80</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 240px;"></div><div class="CodeMirror-gutters" style="display: none; height: 240px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146501558.png' alt='1560146501558' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3）绘制散点图观察账户（年龄、收入、孩子数）之间的关系，对角线显示直方图（见图4-26）。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/bankpep.csv'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pd</span>.<span class="cm-property">plotting</span>.<span class="cm-property">scatter_matrix</span>(<span class="cm-variable">data</span>[[<span class="cm-string">'age'</span>,<span class="cm-string">'income'</span>,<span class="cm-string">'children'</span>]],<span class="cm-variable">diagonal</span>=<span class="cm-string">'hist'</span>,<span class="cm-variable">color</span>=<span class="cm-string">'r'</span>) <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#绘图</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="display: none; height: 134px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146529590.png' alt='1560146529590' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#4）按区域展示平均收入的柱状图，并显示标准差。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/bankpep.csv'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span> = <span class="cm-variable">data</span>.<span class="cm-property">groupby</span>([<span class="cm-string">'region'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span> = <span class="cm-variable">grouped</span>.<span class="cm-property">aggregate</span>({<span class="cm-string">'income'</span>:<span class="cm-variable">np</span>.<span class="cm-property">mean</span>})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">std</span> = <span class="cm-variable">grouped</span>.<span class="cm-property">aggregate</span>({<span class="cm-string">'income'</span>:<span class="cm-variable">np</span>.<span class="cm-property">std</span>})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'bar'</span>,<span class="cm-variable">yerr</span>=<span class="cm-variable">std</span>,<span class="cm-variable">title</span>=<span class="cm-string">'Customer Income'</span>,<span class="cm-variable">rot</span> =<span class="cm-number">45</span>,<span class="cm-variable">color</span>=<span class="cm-string">'r'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">'region'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylim</span>(<span class="cm-number">0</span>,<span class="cm-number">45000</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 293px;"></div><div class="CodeMirror-gutters" style="display: none; height: 293px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146572637.png' alt='1560146572637' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#5）多子图绘制：账户中性别占比饼图，有车的性别占比饼图，按孩子数的账户占比饼图。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">import</span> <span class="cm-variable">Series</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/bankpep.csv'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fig</span> = <span class="cm-variable">plt</span>.<span class="cm-property">figure</span>(<span class="cm-variable">figsize</span>=(<span class="cm-number">6</span>,<span class="cm-number">6</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax1</span> = <span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">2</span>,<span class="cm-number">2</span>,<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">male</span> = <span class="cm-variable">np</span>.<span class="cm-property">sum</span>(<span class="cm-variable">data</span>[<span class="cm-string">'sex'</span>] == <span class="cm-string">'MALE'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">female</span> = <span class="cm-variable">np</span>.<span class="cm-property">sum</span>(<span class="cm-variable">data</span>[<span class="cm-string">'sex'</span>] == <span class="cm-string">'FEMALE'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span> = <span class="cm-variable">Series</span>([<span class="cm-variable">male</span>,<span class="cm-variable">female</span>],<span class="cm-variable">index</span>=[<span class="cm-string">'MALE'</span>,<span class="cm-string">'FEMALE'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data1</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'pie'</span>,<span class="cm-variable">startangle</span> = <span class="cm-number">60</span>,<span class="cm-variable">ax</span>=<span class="cm-variable">ax1</span>,<span class="cm-variable">title</span>=<span class="cm-string">'Customer Sex'</span>,<span class="cm-variable">autopct</span>=<span class="cm-string">'%1.1f%%'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">"sex"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax2</span> = <span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">2</span>,<span class="cm-number">2</span>,<span class="cm-number">2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data2</span> = <span class="cm-variable">data</span>.<span class="cm-property">loc</span>[<span class="cm-variable">data</span>[<span class="cm-string">'car'</span>]==<span class="cm-string">'YES'</span>,[<span class="cm-string">'sex'</span>,<span class="cm-string">'car'</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">male</span> = <span class="cm-variable">np</span>.<span class="cm-property">sum</span>(<span class="cm-variable">data2</span>[<span class="cm-string">'sex'</span>]== <span class="cm-string">'MALE'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">female</span> = <span class="cm-variable">np</span>.<span class="cm-property">sum</span>(<span class="cm-variable">data2</span>[<span class="cm-string">'sex'</span>] == <span class="cm-string">'FEMALE'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span> = <span class="cm-variable">Series</span>([<span class="cm-variable">male</span>,<span class="cm-variable">female</span>],<span class="cm-variable">index</span>=[<span class="cm-string">'MALE'</span>,<span class="cm-string">'FEMALE'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'pie'</span>,<span class="cm-variable">startangle</span> = <span class="cm-number">60</span>,<span class="cm-variable">ax</span>=<span class="cm-variable">ax2</span>,<span class="cm-variable">title</span>=<span class="cm-string">'Customer Sex'</span>,<span class="cm-variable">autopct</span>=<span class="cm-string">'%1.1f%%'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">"sex"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax3</span> = <span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">2</span>,<span class="cm-number">2</span>,<span class="cm-number">3</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span> = <span class="cm-variable">data</span>.<span class="cm-property">groupby</span>([<span class="cm-string">'children'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ret</span> = <span class="cm-variable">grouped</span>.<span class="cm-property">aggregate</span>({<span class="cm-string">'children'</span>:<span class="cm-variable">np</span>.<span class="cm-property">alen</span>})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ret</span>[<span class="cm-string">'children'</span>].<span class="cm-property">plot</span>(<span class="cm-string">'pie'</span>,<span class="cm-variable">ax</span>=<span class="cm-variable">ax3</span>,<span class="cm-variable">startangle</span> = <span class="cm-number">60</span>,<span class="cm-variable">autopct</span>=<span class="cm-string">'%1.1f%%'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 720px;"></div><div class="CodeMirror-gutters" style="display: none; height: 720px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146602350.png' alt='1560146602350' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#6）各性别收入的箱形图。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">import</span> <span class="cm-variable">Series</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week8/bankpep.csv'</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>) <span class="cm-comment">#读取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span> = <span class="cm-variable">data</span>[[<span class="cm-string">'sex'</span>,<span class="cm-string">'income'</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span>.<span class="cm-property">boxplot</span>(<span class="cm-variable">by</span>=<span class="cm-string">'sex'</span>,<span class="cm-variable">figsize</span>=(<span class="cm-number">6</span>,<span class="cm-number">6</span>))</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 213px;"></div><div class="CodeMirror-gutters" style="display: none; height: 213px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146655352.png' alt='1560146655352' referrerPolicy='no-referrer' /></p><h3><a name='header-n600' class='md-header-anchor '></a><em>Homework(Week9)</em></h3><ul><li>复习</li></ul><h3><a name='header-n604' class='md-header-anchor '></a><em>Homework(Week10)</em></h3><ul><li>期中考试题</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">某同学将豆瓣中排名前250的电影的信息进行了采集，并存放在movie_mid</span>.<span class="cm-property">csv文件中。请帮助他进行相关数据分析。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">字段说明：</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_num：电影ID</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_name：电影名称</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_year：拍摄年份</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_country：拍摄国家</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_type：电影类型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_director：电影导演</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_score：电影评分</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_assess：评分人数</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 267px;"></div><div class="CodeMirror-gutters" style="display: none; height: 267px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1. 读取movie_mid.csv文件将数据保存为data, 并将movie_num作为行索引</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#提示：处理中文时函数内添加参数 encoding = "gbk"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">import</span> <span class="cm-variable">Series</span>,<span class="cm-variable">DataFrame</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>=<span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">"C:/pdata/week10/movie_mid-4.csv"</span>,<span class="cm-variable">index_col</span>=<span class="cm-number">0</span>,<span class="cm-variable">encoding</span>=<span class="cm-string">'GBK'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 187px;"></div><div class="CodeMirror-gutters" style="display: none; height: 187px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2. 判断data是否存在缺失数据， 若有，对该字段进行向上填充,并替换原来的数据</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">isnull</span>().<span class="cm-property">any</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">6</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_name</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_year</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_country</span> &nbsp; &nbsp; <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_type</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_director</span> &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_score</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">True</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_assess</span> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>: <span class="cm-builtin">bool</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span> = <span class="cm-variable">data</span>.<span class="cm-property">fillna</span>(<span class="cm-variable">method</span>=<span class="cm-string">'ffill'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ndata</span>.<span class="cm-property">isnull</span>().<span class="cm-property">any</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===============================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">9</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_name</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_year</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_country</span> &nbsp; &nbsp; <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_type</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_director</span> &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_score</span> &nbsp; &nbsp; &nbsp; <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_assess</span> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dtype</span>: <span class="cm-builtin">bool</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 693px;"></div><div class="CodeMirror-gutters" style="display: none; height: 693px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3. 筛选评分人数超过20万的记录，并保存为data20.csv</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data20</span> = <span class="cm-variable">data</span>.<span class="cm-property">loc</span>[<span class="cm-variable">data</span>[<span class="cm-string">'movie_assess'</span>]<span class="cm-operator">&gt;</span><span class="cm-number">200000</span>,:]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data20</span>.<span class="cm-property">to_csv</span>(<span class="cm-string">"C:/pdata/week10/data20.csv"</span>,<span class="cm-variable">mode</span>=<span class="cm-string">'w'</span>,<span class="cm-variable">encoding</span>=<span class="cm-string">'gbk'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 80px;"></div><div class="CodeMirror-gutters" style="display: none; height: 80px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#4. 按movie_score对data进行降序排序,并替换原来的数据，输出排名前十的电影</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">sort_values</span>(<span class="cm-variable">by</span>=<span class="cm-string">'movie_score'</span>,<span class="cm-variable">ascending</span>=<span class="cm-keyword">False</span>,<span class="cm-variable">inplace</span>=<span class="cm-keyword">True</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[<span class="cm-number">0</span>:<span class="cm-number">10</span>,:]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">============================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">31</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">movie_name</span> &nbsp;<span class="cm-variable">movie_year</span> &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp;<span class="cm-property">movie_score</span> <span class="cm-variable">movie_assess</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_num</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">肖申克的救赎</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">1994</span> &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">9.6</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1393335</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">霸王别姬</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">1993</span> &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">9.6</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1031724</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">这个杀手不太冷</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">1994</span> &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">9.6</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1272902</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">阿甘正传</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">1994</span> &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">9.5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1097399</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">美丽人生</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">1997</span> &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">9.5</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">642352</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">泰坦尼克号</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">1997</span> &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">9.4</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1037777</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">千与千寻</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">2001</span> &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">9.4</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1023390</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">辛德勒的名单</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">1993</span> &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">9.3</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">573024</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">盗梦空间</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">2010</span> &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">9.3</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1104480</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">忠犬八公的故事</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">2009</span> &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">9.3</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">727130</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 453px;"></div><div class="CodeMirror-gutters" style="display: none; height: 453px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#5. 统计data中每个国家的电影的平均得分（movie_score）和最小评分人数（movie_assess）</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span> = <span class="cm-variable">data</span>.<span class="cm-property">groupby</span>([<span class="cm-string">'movie_country'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">grouped</span>.<span class="cm-property">aggregate</span>({<span class="cm-string">'movie_score'</span>:<span class="cm-variable">np</span>.<span class="cm-property">mean</span>,<span class="cm-string">'movie_assess'</span>:<span class="cm-variable">np</span>.<span class="cm-property">min</span>})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">36</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">movie_score</span> &nbsp;<span class="cm-variable">movie_assess</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_country</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">中国大陆</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.853846</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">76412</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">丹麦</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.900000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">184825</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">伊朗</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.800000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">161177</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">印度</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.925000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">112013</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">台湾</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.800000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">139325</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">巴西</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.800000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">191592</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">德国</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.640000</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">82934</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">意大利</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">8.987500</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">66889</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">新西兰</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">9.100000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">423316</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">日本</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.803226</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">67344</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">法国</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.944444</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">112988</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">泰国</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.600000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">593682</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">澳大利亚</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.650000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">271626</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">爱尔兰</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">8.700000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">213347</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">瑞典</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.700000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">179076</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">美国</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.842857</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">60472</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">英国</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.714286</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">102713</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">西班牙</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">9.000000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">571893</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">阿根廷</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">8.700000</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">205483</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">韩国</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.875000</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">78605</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">香港</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">8.816667</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">126551</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 747px;"></div><div class="CodeMirror-gutters" style="display: none; height: 747px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#6. 统计data中每个国家的电影类型分布(crosstab),保存为data_tab</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data_tab</span> =<span class="cm-variable">pd</span>.<span class="cm-property">crosstab</span>(<span class="cm-variable">data</span>[<span class="cm-string">'movie_country'</span>],<span class="cm-variable">data</span>[<span class="cm-string">'movie_type'</span>])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 53px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#7. 查询data_tab中“美国”和“中国大陆”两个国家在“剧情”和“喜剧”两个类型上的电影数量</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data_tab</span>.<span class="cm-property">loc</span>[[<span class="cm-string">'美国'</span> ,<span class="cm-string">'中国大陆'</span>],[<span class="cm-string">"剧情"</span>,<span class="cm-string">"喜剧"</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">42</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_type</span> &nbsp; &nbsp; <span class="cm-variable">剧情</span> &nbsp; &nbsp; &nbsp;<span class="cm-variable">喜剧</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">movie_country</span> &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">美国</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">75</span> &nbsp; &nbsp; <span class="cm-number">14</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">中国大陆</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 187px;"></div><div class="CodeMirror-gutters" style="display: none; height: 187px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#8. 统计data_tab中电影类型分布，并绘制柱形图。提示：添加下列两行语句，使图像支持中文字体</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">pylab</span> <span class="cm-keyword">import</span> <span class="cm-operator">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mpl</span>.<span class="cm-property">rcParams</span>[<span class="cm-string">'font.sans-serif'</span>] = [<span class="cm-string">'SimHei'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bar_plot</span> = <span class="cm-variable">data_tab</span>.<span class="cm-property">sum</span>() <span class="cm-comment">#bar_plot = data_tab.apply(lambda x:x.sum())</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bar_plot</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'bar'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 133px;"></div><div class="CodeMirror-gutters" style="display: none; height: 133px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146782483.png' alt='1560146782483' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#9. 去除“剧情”数据，重新进行绘制。创建一个12*6的大图，使用2个子图分别绘制柱形图和饼图（分别使用(1,2,1)和(1,2,2)）。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">new_plot</span> = <span class="cm-variable">bar_plot</span>.<span class="cm-property">drop</span>([<span class="cm-string">'剧情'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fig</span> = <span class="cm-variable">plt</span>.<span class="cm-property">figure</span>(<span class="cm-variable">figsize</span>=(<span class="cm-number">12</span>,<span class="cm-number">6</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax1</span> = <span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">new_plot</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'bar'</span>,<span class="cm-variable">ax</span>=<span class="cm-variable">ax1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ax2</span>=<span class="cm-variable">fig</span>.<span class="cm-property">add_subplot</span>(<span class="cm-number">1</span>,<span class="cm-number">2</span>,<span class="cm-number">2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">new_plot</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'pie'</span>,<span class="cm-variable">ax</span>=<span class="cm-variable">ax2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">show</span>()</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 213px;"></div><div class="CodeMirror-gutters" style="display: none; height: 213px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146922010.png' alt='1560146922010' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#10. 分别保存这两幅图片至mid1.png和mid2.png</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">new_plot</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'bar'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">savefig</span>(<span class="cm-string">"C:/pdata/week10/mid1.png"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">new_plot</span>.<span class="cm-property">plot</span>(<span class="cm-variable">kind</span>=<span class="cm-string">'pie'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">savefig</span>(<span class="cm-string">"C:/pdata/week10/mid2.png"</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 133px;"></div><div class="CodeMirror-gutters" style="display: none; height: 133px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560146958988.png' alt='1560146958988' referrerPolicy='no-referrer' /></p><p><img src='Data Analysis.assets/1560147280669.png' alt='1560147280669' referrerPolicy='no-referrer' /></p><h2><a name='header-n623' class='md-header-anchor '></a>第5章 机器学习与建模分析</h2><p>Python 的机器学习方法库有很多，scikit-learn 是目前使用最广泛的开源方法库。</p><p>采用深度学习方法需要使用Tensorflow、Keras、Theano 等Python 开源框架。</p><h3><a name='header-n626' class='md-header-anchor '></a>回归分析</h3><ul><li>使用案例5-1 的广告收益历史数据，建立广告投入和销量的关系模型，并按照下个月的投入预测销量。</li></ul><figure><table><thead><tr><th>&nbsp;</th><th>TV</th><th>Weibo</th><th>WeChat</th><th>Sales</th></tr></thead><tbody><tr><td>1</td><td>230.1</td><td>37.8</td><td>69.2</td><td>22.1</td></tr><tr><td>2</td><td>44.5</td><td>39.3</td><td>45.1</td><td>10.4</td></tr><tr><td>3</td><td>17.2</td><td>45.9</td><td>69.3</td><td>9.3</td></tr><tr><td>4</td><td>151.5</td><td>41.3</td><td>58.5</td><td>18.5</td></tr></tbody></table></figure><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">filename</span> = <span class="cm-string">'C:/pdata/week11/advertising.csv'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-variable">filename</span>, <span class="cm-variable">index_col</span> = <span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">0</span>:<span class="cm-number">3</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">3</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">linear_model</span> <span class="cm-keyword">import</span> <span class="cm-variable">LinearRegression</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linreg</span> = <span class="cm-variable">LinearRegression</span>() <span class="cm-comment">#初始化模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linreg</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X</span>, <span class="cm-variable">y</span>) <span class="cm-comment">#输入数据，学习模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span> (<span class="cm-variable">linreg</span>.<span class="cm-property">intercept_</span>, <span class="cm-variable">linreg</span>.<span class="cm-property">coef_</span>)<span class="cm-comment">#输出线性回归模型的截距和回归系数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#y = 0.046x1 + 0.188x2 − 0.001x3 + 2.94</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">externals</span> <span class="cm-keyword">import</span> <span class="cm-variable">joblib</span><span class="cm-comment">#将回归模型保存到文件中，以便后续预测新数据时，重新加载使用。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">joblib</span>.<span class="cm-property">dump</span>(<span class="cm-variable">linreg</span>, <span class="cm-string">'linreg.pkl'</span>) <span class="cm-comment">#将回归模型保存至文件</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">#重新加载模型预测数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">load_linreg</span> = <span class="cm-variable">joblib</span>.<span class="cm-property">load</span>(<span class="cm-string">'linreg.pkl'</span>) <span class="cm-comment">#从文件读取模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">new_X</span> = <span class="cm-variable">np</span>.<span class="cm-property">array</span>([[<span class="cm-number">130.1</span>,<span class="cm-number">87.8</span>,<span class="cm-number">69.2</span>]]) <span class="cm-comment">#二维数组</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"6 月广告投入："</span>,<span class="cm-variable">new_X</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"预期销售："</span>,<span class="cm-variable">load_linreg</span>.<span class="cm-property">predict</span>(<span class="cm-variable">new_X</span>) ) <span class="cm-comment">#使用模型预测</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 507px;"></div><div class="CodeMirror-gutters" style="display: none; height: 507px;"></div></div></div></pre><h4><a name='header-n632' class='md-header-anchor '></a>性能评估</h4><ul><li>数据集分割</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">model_selection</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_train</span>, <span class="cm-variable">X_test</span>, <span class="cm-variable">y_train</span>, <span class="cm-variable">y_test</span> = <span class="cm-variable">model_selection</span>.<span class="cm-property">train_test_split</span>(<span class="cm-variable">X</span>, <span class="cm-variable">y</span>, <span class="cm-variable">test_size</span>, <span class="cm-variable">random_state</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#参数说明：</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#test_size：0～1，测试集的比例。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#random_state：随机数种子，1 为每次得到相同样本划分，否则每次划分不一样。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 133px;"></div><div class="CodeMirror-gutters" style="display: none; height: 133px;"></div></div></div></pre><p>&nbsp;</p><ul><li><p>均方根误差（Root Mean Squared Error，RMSE）</p><p><img src='Data Analysis.assets/1560147743184.png' alt='1560147743184' referrerPolicy='no-referrer' /></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">metrics</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">err</span> = <span class="cm-variable">metrics</span>.<span class="cm-property">mean_squared_error</span>(<span class="cm-variable">y</span>, <span class="cm-variable">y_pred</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#参数说明： y：真实目标值。 y_pred：模型预测目标值。 </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 80px;"></div><div class="CodeMirror-gutters" style="display: none; height: 80px;"></div></div></div></pre><ul><li>决定系数R<sup>2</sup></li></ul><p><img src='Data Analysis.assets/1560147791161.png' alt='1560147791161' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">decision_score</span> = <span class="cm-variable">linreg</span>.<span class="cm-property">score</span>(<span class="cm-variable">X</span>, <span class="cm-variable">y</span>) &nbsp;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 27px;"></div><div class="CodeMirror-gutters" style="display: none; height: 27px;"></div></div></div></pre><ul><li>例：使用案例 5-1 数据集，切分为训练集和测试集进行回归模型学习及分析性能评估。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）将自变量数组和目标变量数组都切分为训练集和测试集。 </span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">cross_validation</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">model_selection</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_train</span>, <span class="cm-variable">X_test</span>, <span class="cm-variable">y_train</span>, <span class="cm-variable">y_test</span> = <span class="cm-variable">model_selection</span>.<span class="cm-property">train_test_split</span>(<span class="cm-variable">X</span>, &nbsp;<span class="cm-variable">y</span>,<span class="cm-variable">test_size</span>=<span class="cm-number">0.35</span>, <span class="cm-variable">random_state</span>=<span class="cm-number">1</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）在训练集上学习回归模型 linregTr。 </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linregTr</span> = <span class="cm-variable">LinearRegression</span>() &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linregTr</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">linregTr</span>.<span class="cm-property">intercept_</span>, <span class="cm-variable">linregTr</span>.<span class="cm-property">coef_</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#模型 linregTr 的回归方程是： y=0.046x1+ 0.180x2 +0.004x3 +2.93</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span><span class="cm-variable">）在测试集上应用模型，计算预测结果，以及</span> <span class="cm-variable">RMSE</span> <span class="cm-variable">和决定系数</span> <span class="cm-variable">R2。</span> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">metrics</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_train_pred</span> = <span class="cm-variable">linregTr</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X_train</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_test_pred</span> = <span class="cm-variable">linregTr</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X_test</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">train_err</span> = <span class="cm-variable">metrics</span>.<span class="cm-property">mean_squared_error</span>(<span class="cm-variable">y_train</span>, <span class="cm-variable">y_train_pred</span>) &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">test_err</span> = <span class="cm-variable">metrics</span>.<span class="cm-property">mean_squared_error</span>(<span class="cm-variable">y_test</span>, <span class="cm-variable">y_test_pred</span>) &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-string">'The mean squar error of train and test are: {:.2f}, {:.2f}'</span>.<span class="cm-property">format</span>(<span class="cm-variable">train_err</span>, <span class="cm-variable">test_err</span>) ) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#在测试集上计算决定系数，评估性能 </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">predict_score</span> =<span class="cm-variable">linregTr</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>,<span class="cm-variable">y_test</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'The decision coeficient is: {:.2f} '</span>.<span class="cm-property">format</span>(<span class="cm-variable">predict_score</span>) ) </span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 533px;"></div><div class="CodeMirror-gutters" style="display: none; height: 533px;"></div></div></div></pre><h3><a name='header-n652' class='md-header-anchor '></a><em>Homework(Week11)</em></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1.延续回归模型的性能评估，计算使用全部数据学习得到的回归模型linreg在测试集上的性能，与只使用训练集的模型linregTr进行比较，并对结论进行分析。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">filename</span> = <span class="cm-string">'C:/pdata/week11/advertising.csv'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-variable">filename</span>, <span class="cm-variable">index_col</span> = <span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">0</span>:<span class="cm-number">3</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">3</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">linear_model</span> <span class="cm-keyword">import</span> <span class="cm-variable">LinearRegression</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linreg</span> = <span class="cm-variable">LinearRegression</span>() <span class="cm-comment">#初始化模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linreg</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X</span>, <span class="cm-variable">y</span>) <span class="cm-comment">#输入数据，学习模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span> (<span class="cm-variable">linreg</span>.<span class="cm-property">intercept_</span>, <span class="cm-variable">linreg</span>.<span class="cm-property">coef_</span>)<span class="cm-comment">#输出线性回归模型的截距和回归系数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2.9388893694594085 [ 0.04576465  0.18853002 -0.00103749]</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">model_selection</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_train</span>, <span class="cm-variable">X_test</span>, <span class="cm-variable">y_train</span>, <span class="cm-variable">y_test</span> = <span class="cm-variable">model_selection</span>.<span class="cm-property">train_test_split</span>(<span class="cm-variable">X</span>, &nbsp;<span class="cm-variable">y</span>, <span class="cm-variable">test_size</span>=<span class="cm-number">0.35</span>, <span class="cm-variable">random_state</span>=<span class="cm-number">1</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linregTr</span> = <span class="cm-variable">LinearRegression</span>() &nbsp;<span class="cm-comment">#在训练集上学习回归模型 linregTr。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linregTr</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span> (<span class="cm-variable">linregTr</span>.<span class="cm-property">intercept_</span>, <span class="cm-variable">linregTr</span>.<span class="cm-property">coef_</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2.9324713466040873 [0.04608839 0.18047646 0.00411699]</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_pred_all</span> = <span class="cm-variable">linreg</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X_test</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_pred_part</span> = <span class="cm-variable">linregTr</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X_test</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">metrics</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">rmse_all</span> = <span class="cm-variable">metrics</span>.<span class="cm-property">mean_squared_error</span>(<span class="cm-variable">y_test</span>, <span class="cm-variable">y_pred_all</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">rmse_part</span> = <span class="cm-variable">metrics</span>.<span class="cm-property">mean_squared_error</span>(<span class="cm-variable">y_test</span>, <span class="cm-variable">y_pred_part</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">rmse_all</span>, <span class="cm-variable">rmse_part</span>,<span class="cm-variable">rmse_all</span><span class="cm-operator">-</span><span class="cm-variable">rmse_part</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2.230741532525761 2.315136958784158 -0.08439542625839724</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#结论：使用全部数据拟合的模型在测试集上误差更小。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">R2_all</span> = <span class="cm-variable">linreg</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">R2_part</span> = <span class="cm-variable">linregTr</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">R2_all</span>,<span class="cm-variable">R2_part</span>,<span class="cm-variable">R2_all</span><span class="cm-operator">-</span><span class="cm-variable">R2_part</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#0.9157256433517306 0.912537299857749 0.0031883434939815603</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#结论：使用全部数据拟合的模型R2值更大，说明全部数据拟合的模型在这个测试集上预测更准确。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2.从案例5-1中取出前100条样本，学习回归模型linregHalf；计算模型在练习1的测试集上的预测性能，并与200条样本学习的模型预测性能进行比较。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_100</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:<span class="cm-number">100</span>,<span class="cm-number">0</span>:<span class="cm-number">3</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_100</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:<span class="cm-number">100</span>,<span class="cm-number">3</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linreg_100</span> = <span class="cm-variable">LinearRegression</span>() <span class="cm-comment">#初始化模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linreg_100</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_100</span>, <span class="cm-variable">y_100</span>) <span class="cm-comment">#输入数据，学习模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_pred_100</span> = <span class="cm-variable">linreg_100</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X_test</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_200</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:<span class="cm-number">200</span>,<span class="cm-number">0</span>:<span class="cm-number">3</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_200</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:<span class="cm-number">200</span>,<span class="cm-number">3</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linreg_200</span> = <span class="cm-variable">LinearRegression</span>() <span class="cm-comment">#初始化模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linreg_200</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_200</span>, <span class="cm-variable">y_200</span>) <span class="cm-comment">#输入数据，学习模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_pred_200</span> = <span class="cm-variable">linreg_200</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X_test</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">rmse_100</span> = <span class="cm-variable">metrics</span>.<span class="cm-property">mean_squared_error</span>(<span class="cm-variable">y_test</span>, <span class="cm-variable">y_pred_100</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">rmse_200</span> = <span class="cm-variable">metrics</span>.<span class="cm-property">mean_squared_error</span>(<span class="cm-variable">y_test</span>, <span class="cm-variable">y_pred_200</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">rmse_100</span>, <span class="cm-variable">rmse_200</span>,<span class="cm-variable">rmse_100</span><span class="cm-operator">-</span><span class="cm-variable">rmse_200</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2.2394422037366586 2.230741532525761 0.008700671210897681</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#结论：100条数据训练的模型在这个测试集上误差稍微小一点</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">R2_100</span> = <span class="cm-variable">linreg_100</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">R2_200</span> = <span class="cm-variable">linreg_200</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">R2_100</span>,<span class="cm-variable">R2_200</span>,<span class="cm-variable">R2_100</span><span class="cm-operator">-</span><span class="cm-variable">R2_200</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#0.9153969439224083 0.9157256433517306 -0.0003286994293222323</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#结论：200条数据训练的模型训练模型预测性能稍强</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1600px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1600px;"></div></div></div></pre><h3><a name='header-n654' class='md-header-anchor '></a>分类分析</h3><ul><li>建立模型，预测新客户是否具有偿还债务的能力。</li></ul><figure><table><thead><tr><th style='text-align:center;' >序号</th><th style='text-align:center;' >拥有房产</th><th style='text-align:center;' >婚姻状况（单身、已婚、离婚）</th><th style='text-align:center;' >年收入（单位：万元）</th><th style='text-align:center;' >无法偿还债务（是、否）</th></tr></thead><tbody><tr><td style='text-align:center;' >1</td><td style='text-align:center;' >Yes</td><td style='text-align:center;' >Single</td><td style='text-align:center;' >12.5</td><td style='text-align:center;' >No</td></tr><tr><td style='text-align:center;' >2</td><td style='text-align:center;' >No</td><td style='text-align:center;' >Married</td><td style='text-align:center;' >10</td><td style='text-align:center;' >No</td></tr><tr><td style='text-align:center;' >3</td><td style='text-align:center;' >No</td><td style='text-align:center;' >Single</td><td style='text-align:center;' >7</td><td style='text-align:center;' >No</td></tr><tr><td style='text-align:center;' >4</td><td style='text-align:center;' >Yes</td><td style='text-align:center;' >Married</td><td style='text-align:center;' >12</td><td style='text-align:center;' >No</td></tr><tr><td style='text-align:center;' >5</td><td style='text-align:center;' >No</td><td style='text-align:center;' >Divorced</td><td style='text-align:center;' >9.5</td><td style='text-align:center;' >Yes</td></tr></tbody></table></figure><h4><a name='header-n659' class='md-header-anchor '></a>决策树</h4><ul><li>混淆矩阵</li></ul><p><img src='Data Analysis.assets/1559271831426.png' alt='1559271831426' referrerPolicy='no-referrer' /></p><p>基于混淆矩阵，准确率（Accuracy）计算所有数据中被正确预测的比例。</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Accuracy = (a+d)/(a+b+c+d)</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 27px;"></div><div class="CodeMirror-gutters" style="display: none; height: 27px;"></div></div></div></pre><ul><li>精确率是对精确性的度量，计算预测为Yes 类的样本中，真实类是Yes 的比例。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Precission = a/(a+c)</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 27px;"></div><div class="CodeMirror-gutters" style="display: none; height: 27px;"></div></div></div></pre><ul><li>召回率是覆盖面的度量，计算真实类为Yes 的样本中，被正确预测的比例。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Recall = a/(a+b)</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 27px;"></div><div class="CodeMirror-gutters" style="display: none; height: 27px;"></div></div></div></pre><ul><li>F1 计算精确率和召回率的调和平均数。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">F1 = 2a/(2a+b+c)</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 27px;"></div><div class="CodeMirror-gutters" style="display: none; height: 27px;"></div></div></div></pre><ul><li>使用 scikit-learn 建立决策树为银行贷款偿还的数据集构造分类器，并评估分类器的性能。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">filename</span> = <span class="cm-string">'C:/pdata/week12/bankdebt.csv'</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-variable">filename</span>, <span class="cm-variable">nrows</span> = <span class="cm-number">5</span>, <span class="cm-variable">index_col</span> = <span class="cm-number">0</span>, <span class="cm-variable">header</span> = <span class="cm-keyword">None</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#训练分类器模型时，参数为数值型数组，需要将样本中字符类型的数据替换为数字。统一将“Yes”替换为1，“No”替换为0；婚姻状况“Single”替换为“1”、“Married”替换为2，“Divorced”替换为3。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[<span class="cm-variable">data</span>[<span class="cm-number">1</span>] == <span class="cm-string">'Yes'</span>,<span class="cm-number">1</span> ] = <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[<span class="cm-variable">data</span>[<span class="cm-number">1</span>] == <span class="cm-string">'No'</span>,<span class="cm-number">1</span> ] = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[<span class="cm-variable">data</span>[<span class="cm-number">4</span>] == <span class="cm-string">'Yes'</span>,<span class="cm-number">4</span> ] = <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[<span class="cm-variable">data</span>[<span class="cm-number">4</span>] == <span class="cm-string">'No'</span>,<span class="cm-number">4</span> ] = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[<span class="cm-variable">data</span>[<span class="cm-number">2</span>] == <span class="cm-string">'Single'</span>,<span class="cm-number">2</span> ] = <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[<span class="cm-variable">data</span>[<span class="cm-number">2</span>] == <span class="cm-string">'Married'</span>,<span class="cm-number">2</span> ] = <span class="cm-number">2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[<span class="cm-variable">data</span>[<span class="cm-number">2</span>] == <span class="cm-string">'Divorced'</span>,<span class="cm-number">2</span>] = <span class="cm-number">3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#data 前3 列数据是特征属性值，取出赋给X，最后1 列是分类值（必须为整型）赋给y，训练分类器，分类器的score()函数可以给出分类的Accuracy。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ :, <span class="cm-number">1</span>:<span class="cm-number">3</span> ].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span> = <span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ :, <span class="cm-number">4</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">int</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#导入决策树，训练分类器</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">tree</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">tree</span>.<span class="cm-property">DecisionTreeClassifier</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">clf</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X</span>, <span class="cm-variable">y</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X</span>,<span class="cm-variable">y</span>) <span class="cm-comment">#计算分类器的Accuracy</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#对分类器的性能进行评估。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">predicted_y</span> = <span class="cm-variable">clf</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">metrics</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">metrics</span>.<span class="cm-property">classification_report</span>(<span class="cm-variable">y</span>, <span class="cm-variable">predicted_y</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'Confusion matrix:'</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-variable">metrics</span>.<span class="cm-property">confusion_matrix</span>(<span class="cm-variable">y</span>, <span class="cm-variable">predicted_y</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">precision</span> &nbsp; &nbsp;<span class="cm-variable">recall</span> &nbsp;<span class="cm-variable">f1</span><span class="cm-operator">-</span><span class="cm-variable">score</span> &nbsp; <span class="cm-variable">support</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">4</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">1</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">avg</span> <span class="cm-operator">/</span> <span class="cm-variable">total</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Confusion</span> <span class="cm-variable">matrix</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[[<span class="cm-number">4</span> <span class="cm-number">0</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [<span class="cm-number">0</span> <span class="cm-number">1</span>]]</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 961px;"></div><div class="CodeMirror-gutters" style="display: none; height: 961px;"></div></div></div></pre><h4><a name='header-n682' class='md-header-anchor '></a>支持向量机</h4><ul><li>使用 scikit-learn 建立SVM 模型预测银行客户是否接受推荐的投资计划，并评估分类器的性能。</li></ul><figure><table><thead><tr><th>id</th><th>age</th><th>sex</th><th>region</th><th>income</th><th>married</th><th>children</th><th>car</th><th>save_act</th><th>current_act</th><th>mortgage</th><th>pep</th></tr></thead><tbody><tr><td>ID12101</td><td>48</td><td>FEMALE</td><td>INNER_CITY</td><td>17546</td><td>NO</td><td>1</td><td>NO</td><td>NO</td><td>NO</td><td>NO</td><td>YES</td></tr><tr><td>ID12102</td><td>40</td><td>MALE</td><td>TOWN</td><td>30085.1</td><td>YES</td><td>3</td><td>YES</td><td>NO</td><td>YES</td><td>YES</td><td>NO</td></tr><tr><td>ID12103</td><td>51</td><td>FEMALE</td><td>INNER_CITY</td><td>16575.4</td><td>YES</td><td>0</td><td>YES</td><td>YES</td><td>YES</td><td>NO</td><td>NO</td></tr><tr><td>ID12104</td><td>23</td><td>FEMALE</td><td>TOWN</td><td>20375.4</td><td>YES</td><td>3</td><td>NO</td><td>NO</td><td>YES</td><td>NO</td><td>NO</td></tr></tbody></table></figure><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">filename</span> = <span class="cm-string">'C:/pdata/week12/bankpep.csv'</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-variable">filename</span>, <span class="cm-variable">index_col</span> = <span class="cm-string">'id'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#SVM 算法只能使用数值型变量作为输入，需要将所有的特征值“YES”或“NO”转换为1 或0，“sex”特征值 “FEMALE” 和 “MALE”也转换为1 和0。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">seq</span> = [<span class="cm-string">'married'</span>, <span class="cm-string">'car'</span>, <span class="cm-string">'save_act'</span>, <span class="cm-string">'current_act'</span>, <span class="cm-string">'mortgage'</span>, <span class="cm-string">'pep'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-variable">feature</span> <span class="cm-keyword">in</span> <span class="cm-variable">seq</span> : &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment"># 逐个特征进行替换</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-variable">feature</span>] == <span class="cm-string">'YES'</span>, <span class="cm-variable">feature</span> ] =<span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-variable">feature</span>] == <span class="cm-string">'NO'</span>, <span class="cm-variable">feature</span> ] =<span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'sex'</span>] == <span class="cm-string">'FEMALE'</span>, <span class="cm-string">'sex'</span>] = <span class="cm-number">1</span> &nbsp;<span class="cm-comment"># 替换性别</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'sex'</span>] == <span class="cm-string">'MALE'</span>, <span class="cm-string">'sex'</span>] = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span> (<span class="cm-variable">data</span>[<span class="cm-number">0</span>:<span class="cm-number">5</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#特征项region、child 的取值超过两个，且没有大小意义，应采用独热编码（one-hotencoding）进行转化，如region 有4 种取值，那么region 列转换为4 列，其中取值对应的列为1，其余为0。然后将原DataFrame 中的region 和child 列删除，再将生成的二元矩阵连接上去。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将离散特征数据进行独热编码，转换为dummies 矩阵</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dumm_reg</span> = <span class="cm-variable">pd</span>.<span class="cm-property">get_dummies</span>( <span class="cm-variable">data</span>[<span class="cm-string">'region'</span>], <span class="cm-variable">prefix</span>=<span class="cm-string">'region'</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dumm_child</span> = <span class="cm-variable">pd</span>.<span class="cm-property">get_dummies</span>( <span class="cm-variable">data</span>[<span class="cm-string">'children'</span>], <span class="cm-variable">prefix</span>=<span class="cm-string">'children'</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#删除DataFrame 中原来的两列后再 join dummies</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df1</span> = <span class="cm-variable">data</span>.<span class="cm-property">drop</span>([<span class="cm-string">'region'</span>,<span class="cm-string">'children'</span>], <span class="cm-variable">axis</span> = <span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#join()按照行索引连接多个DataFrame</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df2</span> = <span class="cm-variable">df1</span>.<span class="cm-property">join</span>([<span class="cm-variable">dumm_reg</span>,<span class="cm-variable">dumm_child</span>], <span class="cm-variable">how</span>=<span class="cm-string">'outer'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#在DataFrame 数据对象中，'pep'列存放分类标签，取出其值作为y，其余列的值为X。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#df2 删除'pep'列后作为X</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">df2</span>.<span class="cm-property">drop</span>([<span class="cm-string">'pep'</span>], <span class="cm-variable">axis</span>=<span class="cm-number">1</span>).<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span> = <span class="cm-variable">df2</span>[<span class="cm-string">'pep'</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">int</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#训练模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">svm</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">svm</span>.<span class="cm-property">SVC</span>(<span class="cm-variable">kernel</span>=<span class="cm-string">'rbf'</span>, <span class="cm-variable">gamma</span>=<span class="cm-number">0.6</span>, <span class="cm-variable">C</span> = <span class="cm-number">100</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X</span>, <span class="cm-variable">y</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-string">"Accuracy："</span>,<span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X</span>, <span class="cm-variable">y</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#评价分类器性能</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">metrics</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_predicted</span> = <span class="cm-variable">clf</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-variable">metrics</span>.<span class="cm-property">classification_report</span>(<span class="cm-variable">y</span>, <span class="cm-variable">y_predicted</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Accuracy：</span> <span class="cm-number">1.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">precision</span> &nbsp; &nbsp;<span class="cm-variable">recall</span> &nbsp;<span class="cm-variable">f1</span><span class="cm-operator">-</span><span class="cm-variable">score</span> &nbsp; <span class="cm-variable">support</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">326</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">1</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">274</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">avg</span> <span class="cm-operator">/</span> <span class="cm-variable">total</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">600</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将数据集划分为测试集和训练集，在测试集上评估预测性能。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">model_selection</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_train</span>, <span class="cm-variable">X_test</span>, <span class="cm-variable">y_train</span>, <span class="cm-variable">y_test</span> = <span class="cm-variable">model_selection</span>.<span class="cm-property">train_test_split</span>(<span class="cm-variable">X</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span>, <span class="cm-variable">test_size</span>=<span class="cm-number">0.3</span>, <span class="cm-variable">random_state</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">svm</span>.<span class="cm-property">SVC</span>(<span class="cm-variable">kernel</span>=<span class="cm-string">'rbf'</span>, <span class="cm-variable">gamma</span>=<span class="cm-number">0.7</span>, <span class="cm-variable">C</span> = <span class="cm-number">1.0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on training set:"</span>, <span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on test set:"</span>, <span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==========================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on training set: 1.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set: 0.5555555555555556</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">preprocessing</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_scale</span> = <span class="cm-variable">preprocessing</span>.<span class="cm-property">scale</span>(<span class="cm-variable">X</span>) <span class="cm-comment">#数据集标准化</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_train</span>, <span class="cm-variable">X_test</span>, <span class="cm-variable">y_train</span>, <span class="cm-variable">y_test</span> = <span class="cm-variable">model_selection</span>.<span class="cm-property">train_test_split</span>(<span class="cm-variable">X_scale</span>, <span class="cm-variable">y</span>, <span class="cm-variable">test_size</span>=<span class="cm-number">0.3</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">svm</span>.<span class="cm-property">SVC</span>(<span class="cm-variable">kernel</span>=<span class="cm-string">'rbf'</span>, <span class="cm-variable">gamma</span>=<span class="cm-number">0.7</span>, <span class="cm-variable">C</span> = <span class="cm-number">1.0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#0.6</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#通过调整模型初始化参数，进一步优化分类器模型。如kernel='poly', gamma=0.6,C = 0.001，分类器在测试集上的准确率进一步提高到80%。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1813px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1813px;"></div></div></div></pre><h3><a name='header-n688' class='md-header-anchor '></a><em>Homework(Week12)</em></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1)使用bankpep.csv数据集，将数据分为训练集和测试集。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#选择不同的核函数以及调整参数gamma的值，得到尽可能好的分类效果</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">filename</span> = <span class="cm-string">'C:/pdata/week12/bankpep.csv'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-variable">filename</span>, <span class="cm-variable">index_col</span> = <span class="cm-string">'id'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#SVM 算法只能使用数值型变量作为输入，需要将所有的特征值“YES”或“NO”转换为1 或0，“sex”特征值 “FEMALE” 和 “MALE”也转换为1 和0。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">seq</span> = [<span class="cm-string">'married'</span>, <span class="cm-string">'car'</span>, <span class="cm-string">'save_act'</span>, <span class="cm-string">'current_act'</span>, <span class="cm-string">'mortgage'</span>, <span class="cm-string">'pep'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-variable">feature</span> <span class="cm-keyword">in</span> <span class="cm-variable">seq</span> : &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment"># 逐个特征进行替换</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-variable">feature</span>] == <span class="cm-string">'YES'</span>, <span class="cm-variable">feature</span> ] =<span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-variable">feature</span>] == <span class="cm-string">'NO'</span>, <span class="cm-variable">feature</span> ] =<span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'sex'</span>] == <span class="cm-string">'FEMALE'</span>, <span class="cm-string">'sex'</span>] = <span class="cm-number">1</span> &nbsp;<span class="cm-comment"># 替换性别</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'sex'</span>] == <span class="cm-string">'MALE'</span>, <span class="cm-string">'sex'</span>] = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dumm_reg</span> = <span class="cm-variable">pd</span>.<span class="cm-property">get_dummies</span>( <span class="cm-variable">data</span>[<span class="cm-string">'region'</span>], <span class="cm-variable">prefix</span>=<span class="cm-string">'region'</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dumm_child</span> = <span class="cm-variable">pd</span>.<span class="cm-property">get_dummies</span>( <span class="cm-variable">data</span>[<span class="cm-string">'children'</span>], <span class="cm-variable">prefix</span>=<span class="cm-string">'children'</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#删除DataFrame 中原来的两列后再 join dummies</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df1</span> = <span class="cm-variable">data</span>.<span class="cm-property">drop</span>([<span class="cm-string">'region'</span>,<span class="cm-string">'children'</span>], <span class="cm-variable">axis</span> = <span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#join()按照行索引连接多个DataFrame</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df2</span> = <span class="cm-variable">df1</span>.<span class="cm-property">join</span>([<span class="cm-variable">dumm_reg</span>,<span class="cm-variable">dumm_child</span>], <span class="cm-variable">how</span>=<span class="cm-string">'outer'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#在DataFrame 数据对象中，'pep'列存放分类标签，取出其值作为y，其余列的值为X。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#df2 删除'pep'列后作为X</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">df2</span>.<span class="cm-property">drop</span>([<span class="cm-string">'pep'</span>], <span class="cm-variable">axis</span>=<span class="cm-number">1</span>).<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span> = <span class="cm-variable">df2</span>[<span class="cm-string">'pep'</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">int</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将数据集划分为测试集和训练集，在测试集上评估预测性能。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">model_selection</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">svm</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_train</span>, <span class="cm-variable">X_test</span>, <span class="cm-variable">y_train</span>, <span class="cm-variable">y_test</span> = <span class="cm-variable">model_selection</span>.<span class="cm-property">train_test_split</span>(<span class="cm-variable">X</span>,<span class="cm-variable">y</span>, <span class="cm-variable">test_size</span>=<span class="cm-number">0.3</span>, <span class="cm-variable">random_state</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf1</span> = <span class="cm-variable">svm</span>.<span class="cm-property">SVC</span>(<span class="cm-variable">kernel</span>=<span class="cm-string">'rbf'</span>, <span class="cm-variable">gamma</span>=<span class="cm-number">0.7</span>, <span class="cm-variable">C</span> = <span class="cm-number">1.0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf1</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on training set:"</span>, <span class="cm-variable">clf1</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on test set:"</span>, <span class="cm-variable">clf1</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on training set: 1.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set: 0.5555555555555556</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf2</span> = <span class="cm-variable">svm</span>.<span class="cm-property">SVC</span>(<span class="cm-variable">kernel</span>=<span class="cm-string">'poly'</span>, <span class="cm-variable">gamma</span>=<span class="cm-number">0.6</span>, <span class="cm-variable">C</span> = <span class="cm-number">0.001</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf2</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on training set:"</span>, <span class="cm-variable">clf2</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on test set:"</span>, <span class="cm-variable">clf2</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set: 0.8</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2)葡萄酒数据集（wine.data）搜集了法国不同产区葡萄酒的化学指标。试建立决策树、SVM两种分类器模型，比较各种分类器在此数据集上的效果。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#【提示1】：每种分类器，需要对参数进行尝试，找出此种分类算法的较优模型，再与其他分类器性能进行比较。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#【提示2】：第一列为y值（共三类：1、2、3），剩余列为X值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">filename</span> = <span class="cm-string">'C:/pdata/week12/wine.data'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-variable">filename</span>,<span class="cm-variable">header</span>=<span class="cm-keyword">None</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">0</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">int</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">1</span>:].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将数据集划分为测试集和训练集，在测试集上评估预测性能。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">model_selection</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_train</span>, <span class="cm-variable">X_test</span>, <span class="cm-variable">y_train</span>, <span class="cm-variable">y_test</span> = <span class="cm-variable">model_selection</span>.<span class="cm-property">train_test_split</span>(<span class="cm-variable">X</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span>, <span class="cm-variable">test_size</span>=<span class="cm-number">0.3</span>, <span class="cm-variable">random_state</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#导入决策树，训练分类器</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">tree</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">tree</span>.<span class="cm-property">DecisionTreeClassifier</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">clf</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>,<span class="cm-variable">y_test</span>) <span class="cm-comment">#计算分类器的Accuracy</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#对分类器的性能进行评估。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">predicted_y</span> = <span class="cm-variable">clf</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X_test</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">metrics</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">metrics</span>.<span class="cm-property">classification_report</span>(<span class="cm-variable">y_test</span>, <span class="cm-variable">predicted_y</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'Confusion matrix:'</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-variable">metrics</span>.<span class="cm-property">confusion_matrix</span>(<span class="cm-variable">y_test</span>, <span class="cm-variable">predicted_y</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=======================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-variable">precision</span> &nbsp; &nbsp;<span class="cm-variable">recall</span> &nbsp;<span class="cm-variable">f1</span><span class="cm-operator">-</span><span class="cm-variable">score</span> &nbsp; <span class="cm-variable">support</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">1</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">1.00</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.96</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.98</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">23</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">2</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">0.95</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.95</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.95</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">19</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number cm-error">3</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">0.85</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.92</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.88</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">12</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">micro</span> <span class="cm-variable">avg</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">0.94</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.94</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.94</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">54</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">macro</span> <span class="cm-variable">avg</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">0.93</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.94</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.94</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">54</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">weighted</span> <span class="cm-variable">avg</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">0.95</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.94</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0.95</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">54</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Confusion</span> <span class="cm-variable">matrix</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[[<span class="cm-number">22</span> &nbsp;<span class="cm-number">0</span> &nbsp;<span class="cm-number">1</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [ <span class="cm-number">0</span> <span class="cm-number">18</span> &nbsp;<span class="cm-number">1</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [ <span class="cm-number">0</span> &nbsp;<span class="cm-number">1</span> <span class="cm-number">11</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">svm</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">svm</span>.<span class="cm-property">SVC</span>(<span class="cm-variable">kernel</span>=<span class="cm-string">'poly'</span>, <span class="cm-variable">gamma</span>=<span class="cm-number">1</span>, <span class="cm-variable">C</span> = <span class="cm-number">1</span>)<span class="cm-comment">#多项式核函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on training set:"</span>, <span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on test set:"</span>, <span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">svm</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">svm</span>.<span class="cm-property">SVC</span>(<span class="cm-variable">kernel</span>=<span class="cm-string">'rbf'</span>, <span class="cm-variable">gamma</span>=<span class="cm-number">1</span>, <span class="cm-variable">C</span> = <span class="cm-number">1</span>)<span class="cm-comment"># 径向基(RBF)核函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on training set:"</span>, <span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on test set:"</span>, <span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===============================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on training set: 1.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set: 0.9629629629629629</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on training set: 1.0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set: 0.35185185185185186</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 2613px;"></div><div class="CodeMirror-gutters" style="display: none; height: 2613px;"></div></div></div></pre><h3><a name='header-n690' class='md-header-anchor '></a>聚类分析</h3><ul><li>当数据集中没有分类标签信息时，只能根据数据内在性质及规律将其划分为若干个不相交的子集，
每个子集称为一个“簇”（Cluster），这就是聚类方法（Clustering）。</li><li>聚类方法通常分为几大类：划分法（Partition）、层次法（Hierarchical）、基于密度聚类（Density based）、基于图/网格聚类（Graph/Grid based）、基于模型聚类（Model based）等。</li></ul><h4><a name='header-n696' class='md-header-anchor '></a>K-means</h4><ul><li><p>划分法的基本目标是：将数据聚为若干簇，簇内的点都足够近，簇间的点都足够远。它通过计算数据集中样本之间的距离，根据距离的远近将其划分为多个簇。K-means 首先需要假定划分的簇数k，然后从数据集中任意选择k 个样本作为各簇的中心。</p></li><li><p>步骤：</p><ol start='' ><li>根据样本与簇中心的距离相似度，将数据集中的每个样本划分到与其最相似的一个簇。</li><li>计算每个簇的中心（如该簇中所有样本的均值）。</li><li>不断重复这一过程直到每个簇的中心点不再变化。</li></ol></li><li><p>例：使用 scikit-learn 的K-means 算法对鸢尾花数据集进行聚类分析。</p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week13/iris.data'</span>, <span class="cm-variable">header</span> = <span class="cm-keyword">None</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">columns</span> = [<span class="cm-string">'sepal length'</span>,<span class="cm-string">'sepal width'</span>,<span class="cm-string">'petal length'</span>,<span class="cm-string">'petalwidth'</span>,<span class="cm-string">'class'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#四维空间的数据特性无法直接观察，通过绘制特征散点图矩阵，观察每两种特征的区分度</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pd</span>.<span class="cm-property">plotting</span>.<span class="cm-property">scatter_matrix</span>(<span class="cm-variable">data</span>, <span class="cm-variable">diagonal</span>=<span class="cm-string">'hist'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[<span class="cm-number">0</span>:<span class="cm-number">5</span>,:]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Out</span>[<span class="cm-number">5</span>]: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable cm-error">sepal</span> <span class="cm-variable">length</span> &nbsp;<span class="cm-variable">sepal</span> <span class="cm-variable">width</span> &nbsp;<span class="cm-variable">petal</span> <span class="cm-variable">length</span> &nbsp;<span class="cm-variable">petalwidth</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">class</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">5.1</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">3.5</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">1.4</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.2</span> &nbsp;<span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">setosa</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">4.9</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">3.0</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">1.4</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.2</span> &nbsp;<span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">setosa</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">4.7</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">3.2</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">1.3</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.2</span> &nbsp;<span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">setosa</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">4.6</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">3.1</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">1.5</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.2</span> &nbsp;<span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">setosa</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">5.0</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">3.6</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">1.4</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.2</span> &nbsp;<span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">setosa</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 373px;"></div><div class="CodeMirror-gutters" style="display: none; height: 373px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560148348073.png' alt='1560148348073' referrerPolicy='no-referrer' /></p><ul><li>可以看到，大部分特征值明显地聚为2 簇，原始标签中变色鸢尾和弗吉尼亚鸢尾区分度不是特别显著。</li><li>定义簇的个数为3，忽略鸢尾花数据集的分类标签，取前4 列特征值，训练聚类模型。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">0</span>:<span class="cm-number">4</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>) <span class="cm-comment">#准备数据</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">cluster</span> <span class="cm-keyword">import</span> <span class="cm-variable">KMeans</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">kmeans</span> = <span class="cm-variable">KMeans</span>(<span class="cm-variable">n_clusters</span>=<span class="cm-number">3</span>) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">#模型初始化</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">kmeans</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pd</span>.<span class="cm-property">plotting</span>.<span class="cm-property">scatter_matrix</span>(<span class="cm-variable">data</span>, <span class="cm-variable">c</span>=<span class="cm-variable">kmeans</span>.<span class="cm-property">labels_</span>, <span class="cm-variable">diagonal</span>=<span class="cm-string">'hist'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 160px;"></div><div class="CodeMirror-gutters" style="display: none; height: 160px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560148412434.png' alt='1560148412434' referrerPolicy='no-referrer' /></p><ul><li>K-means 模型的参数labels_给出参与训练的每个样本的簇标签。使用样本簇编号作为类型标签，可以绘制特征对的散点图矩阵，用不同颜色标识不同的簇。绘制出的散点图效果如图所示，不同簇在各特征对的空间区分度较好，聚类效果比较理想。</li></ul><h4><a name='header-n723' class='md-header-anchor '></a>性能评估</h4><h5><a name='header-n724' class='md-header-anchor '></a>有分类标签</h5><ul><li>如鸢尾花数据集，带有分类标签，可以使用<mark>兰德指数（Adjusted Rand Index，ARI）</mark>评价聚类性能，它计算真实标签与聚类标签两种分布之间的相似性，取值范围为[0,1]。1 表示最好的结果，即聚类类别和真实类别的分布完全一致。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">metrics</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将类名转换为整数值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'class'</span>] == <span class="cm-string">'Iris-setosa'</span>, <span class="cm-string">'class'</span> ] = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'class'</span>] == <span class="cm-string">'Iris-versicolor'</span>, <span class="cm-string">'class'</span> ] = <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'class'</span>] == <span class="cm-string">'Iris-virginica'</span>, <span class="cm-string">'class'</span> ] = <span class="cm-number">2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span> = <span class="cm-variable">data</span>[<span class="cm-string">'class'</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">int</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">metrics</span>.<span class="cm-property">adjusted_rand_score</span>(<span class="cm-variable">y</span>, <span class="cm-variable">kmeans</span>.<span class="cm-property">labels_</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0.73</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 240px;"></div><div class="CodeMirror-gutters" style="display: none; height: 240px;"></div></div></div></pre><h5><a name='header-n729' class='md-header-anchor '></a>无分类标签</h5><ul><li>如果数据集没有类别属性，常用<mark>轮廓系数（Silhouette Coefficient）</mark>来度量聚类的质量。轮廓系数同时考虑聚类结果的簇内凝聚度和簇间分离度，取值范围为[-1,1]，轮廓系数越大，表示聚类效果越好。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">metrics</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">metrics</span>.<span class="cm-property">silhouette_score</span>( <span class="cm-variable">X</span>,<span class="cm-variable">kmeans</span>.<span class="cm-property">labels_</span>,<span class="cm-variable">metric</span>=<span class="cm-string">'euclidean'</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">===================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0.553</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 107px;"></div><div class="CodeMirror-gutters" style="display: none; height: 107px;"></div></div></div></pre><h5><a name='header-n734' class='md-header-anchor '></a>确定初始值K</h5><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#在鸢尾花数据集上，设定簇分别为2、3、4、5、6、7、8 建立聚类模型，分别计算每个结果的轮廓系数，绘制轮廓系数与簇数量关系图。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">metrics</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clusters</span> = [<span class="cm-number">2</span>,<span class="cm-number">3</span>,<span class="cm-number">4</span>,<span class="cm-number">5</span>,<span class="cm-number">6</span>,<span class="cm-number">7</span>,<span class="cm-number">8</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">sc_scores</span> = []</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#计算各个簇模型的轮廓系数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-variable">i</span> <span class="cm-keyword">in</span> <span class="cm-variable">clusters</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">kmeans</span> = <span class="cm-variable">KMeans</span>( <span class="cm-variable">n_clusters</span> = <span class="cm-variable">i</span>).<span class="cm-property">fit</span>(<span class="cm-variable">X</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">sc</span> = <span class="cm-variable">metrics</span>.<span class="cm-property">silhouette_score</span>(<span class="cm-variable">X</span>, <span class="cm-variable">kmeans</span>.<span class="cm-property">labels_</span>, <span class="cm-variable">metric</span>=<span class="cm-string">'euclidean'</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">sc_scores</span>.<span class="cm-property">append</span>( <span class="cm-variable">sc</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#绘制曲线图反映轮廓系数与簇数的关系</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">plot</span>(<span class="cm-variable">clusters</span>, <span class="cm-variable">sc_scores</span>, <span class="cm-string">'*-'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">'Number of Clusters'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">'Sihouette Coefiicient Score'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 347px;"></div><div class="CodeMirror-gutters" style="display: none; height: 347px;"></div></div></div></pre><p><img src='Data Analysis.assets/1560148452745.png' alt='1560148452745' referrerPolicy='no-referrer' /></p><ul><li>说明当K=2 时聚类的轮廓系数最大，从原始样本的数据可视化结果也可以看出，山鸢尾花比较小，而变色鸢尾和弗吉尼亚鸢尾之间差别不是很显著，从花的特征值角度聚为2 簇的结果更合理。</li></ul><h3><a name='header-n741' class='md-header-anchor '></a>神经网络和深度学习</h3><ul><li>例：使用神经网络实现鸢尾花数据集的分类分析。根据鸢尾花实物，直接观察花的形状区分其种类并不容易，下面尝试根据花萼和花瓣的尺寸建立一个神经网络分类器模型来判别。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'每类花样本数：\n'</span>,<span class="cm-variable">data</span>[<span class="cm-string">'class'</span>].<span class="cm-property">value_counts</span>() )</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'每类花均值：\n'</span>,<span class="cm-variable">data</span>.<span class="cm-property">groupby</span>(<span class="cm-string">'class'</span>).<span class="cm-property">mean</span>())</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'每类花方差：\n'</span>,<span class="cm-variable">data</span>.<span class="cm-property">groupby</span>(<span class="cm-string">'class'</span>).<span class="cm-property">var</span>())</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">每类花样本数：</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">versicolor</span> <span class="cm-number">50</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">virginica</span> <span class="cm-number">50</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">setosa</span> <span class="cm-number">50</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Name</span>: <span class="cm-keyword">class</span>, <span class="cm-variable">dtype</span>: <span class="cm-variable">int64</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">每类花均值：</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">sepal</span> <span class="cm-variable">length</span> <span class="cm-variable">sepal</span> <span class="cm-variable">width</span> <span class="cm-variable">petal</span> <span class="cm-variable">length</span> <span class="cm-variable">petal</span> <span class="cm-variable">width</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">Iris</span><span class="cm-operator">-</span><span class="cm-variable">setosa</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5.006</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">3.418</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">1.464</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">0.244</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">versicolor</span> <span class="cm-number">5.936</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">2.770</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">4.260</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">1.326</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">virginica</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-number">6.588</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">2.974</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">5.552</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">2.026</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">每类花方差：</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">sepal</span> <span class="cm-variable">length</span> <span class="cm-variable">sepal</span> <span class="cm-variable">width</span> <span class="cm-variable">petal</span> <span class="cm-variable">length</span> <span class="cm-variable">petal</span> <span class="cm-variable">width</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">Iris</span><span class="cm-operator">-</span><span class="cm-variable">setosa</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">0.124249</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.145180</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.030106</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.011494</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">versicolor</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">0.266433</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.098469</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.220816</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.039106</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Iris</span><span class="cm-operator">-</span><span class="cm-variable">virginica</span> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">0.404343</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.104004</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.304588</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.075433</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 619px;"></div><div class="CodeMirror-gutters" style="display: none; height: 619px;"></div></div></div></pre><ul><li><p>预处理</p></li><li><p>参数说明：</p><ul><li>solver：优化权重的算法，{&#39;lbfgs&#39;, &#39;sgd&#39;, &#39;adam&#39;}，默认为&#39;adam&#39;。</li><li>activation：激活函数，{&#39;identity&#39;, &#39;logistic&#39;, &#39;tanh&#39;, &#39;relu&#39;}，默认为&#39;relu&#39;。</li><li>hidden_layer_sizes：神经网络结构，表示为元组，其中元组第n 个元素值表示第n 层的神经元个数。如(5,10,5)表示3 隐层，每层的节点数分别为5、10 和5。</li><li>alpha：正则化惩罚项参数，默认为0.0001。</li><li>max_iter：最大迭代次数， BP 学习算法的学习次数。</li><li>random_state：随机数种子。</li></ul></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'class'</span>] == <span class="cm-string">'Iris-setosa'</span>, <span class="cm-string">'class'</span> ] = <span class="cm-number">0</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'class'</span>] == <span class="cm-string">'Iris-versicolor'</span>, <span class="cm-string">'class'</span> ] = <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'class'</span>] == <span class="cm-string">'Iris-virginica'</span>, <span class="cm-string">'class'</span> ] = <span class="cm-number">2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">0</span>:<span class="cm-number">4</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">4</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">int</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#创建神经网络分类器，训练网络节点连接权重及阈值。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">neural_network</span> <span class="cm-keyword">import</span> <span class="cm-variable">MLPClassifier</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mlp</span> = <span class="cm-variable">MLPClassifier</span>(<span class="cm-variable">solver</span>=<span class="cm-string">'lbfgs'</span>,<span class="cm-variable">alpha</span>=<span class="cm-number">1e-5</span>,<span class="cm-variable">hidden_layer_sizes</span>=(<span class="cm-number">5</span>,<span class="cm-number">5</span>), <span class="cm-variable">random_state</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mlp</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X</span>,<span class="cm-variable">y</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mlp</span>.<span class="cm-property">score</span>(<span class="cm-variable">X</span>,<span class="cm-variable">y</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#这里创建了一个有2 个隐藏层的神经网络，每层5 个节点。在训练数据集上预测准确率达到98.6%。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 293px;"></div><div class="CodeMirror-gutters" style="display: none; height: 293px;"></div></div></div></pre><ul><li>性能评估</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">metrics</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_predicted</span> = <span class="cm-variable">mlp</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X_test</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Classification report for %s"</span> <span class="cm-operator">%</span> <span class="cm-variable">mlp</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">metrics</span>.<span class="cm-property">classification_report</span>(<span class="cm-variable">y_test</span>, <span class="cm-variable">y_predicted</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>( <span class="cm-string">"Confusion matrix:\n"</span>, <span class="cm-variable">metrics</span>.<span class="cm-property">confusion_matrix</span>(<span class="cm-variable">y_test</span>,<span class="cm-variable">y_predicted</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=========================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">输出结果如下。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Classification</span> <span class="cm-variable">report</span> <span class="cm-keyword">for</span> <span class="cm-variable">MLPClassifier</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">precision</span> <span class="cm-variable">recall</span> <span class="cm-variable">f1</span><span class="cm-operator">-</span><span class="cm-variable">score</span> <span class="cm-variable">support</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">1.00</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">1.00</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">1.00</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">50</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">0.98</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.98</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.98</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">50</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">0.98</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.98</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.98</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">50</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">avg</span> <span class="cm-operator">/</span> <span class="cm-variable">total</span> <span class="cm-number">0.99</span> <span class="cm-number">0.99</span> <span class="cm-number">0.99</span> <span class="cm-number">150</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Confusion</span> <span class="cm-variable">matrix</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[[<span class="cm-number">50</span> <span class="cm-number">0</span> <span class="cm-number">0</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[ <span class="cm-number">0</span> <span class="cm-number">49</span> <span class="cm-number">1</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[ <span class="cm-number">0</span> <span class="cm-number">1</span> <span class="cm-number">49</span>]]</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 456px;"></div><div class="CodeMirror-gutters" style="display: none; height: 456px;"></div></div></div></pre><ul><li>从本质上来说，深度学习就是具有很多隐藏层（超过1 层）、每个隐藏层具有很多节点的神经网络。根据不同领域数据的特性，神经网络出现很多扩展版本，如<mark>卷积神经网络（CNN）</mark>、<mark>递归神经网络（RNN）</mark>、<mark>长短期记忆网络（LSTM）</mark>等，分别用于<mark>图像</mark>、<mark>语音</mark>和<mark>文本</mark>等数据的处理。</li></ul><h3><a name='header-n772' class='md-header-anchor '></a><em>Homework(Week13)</em></h3><ul><li>某银行客户数据集中包含客户的年龄、孩子个数、收入等11 个特征项，其中“客户是否接受了银行邮件推荐的个人投资计划”（pep）是相应的分类标签（二分类），数据样本共有600 个，没有缺失数据，保存bankpep.csv 文件中。</li></ul><p><img src='Data Analysis.assets/1559271429147.png' alt='1559271429147' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1)针对bankpep.csv数据集，分别使用决策树、支持向量机和深度学习MLP方法来进行分类，调整参数，得到每类方法的最好分类效果</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">filename</span> = <span class="cm-string">'C:/pdata/week12/bankpep.csv'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-variable">filename</span>, <span class="cm-variable">index_col</span> = <span class="cm-string">'id'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#SVM 算法只能使用数值型变量作为输入，需要将所有的特征值“YES”或“NO”转换为1 或0，“sex”特征值 “FEMALE” 和 “MALE”也转换为1 和0。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">seq</span> = [<span class="cm-string">'married'</span>, <span class="cm-string">'car'</span>, <span class="cm-string">'save_act'</span>, <span class="cm-string">'current_act'</span>, <span class="cm-string">'mortgage'</span>, <span class="cm-string">'pep'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-variable">feature</span> <span class="cm-keyword">in</span> <span class="cm-variable">seq</span> : &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment"># 逐个特征进行替换</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-variable">feature</span>] == <span class="cm-string">'YES'</span>, <span class="cm-variable">feature</span> ] =<span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-variable">feature</span>] == <span class="cm-string">'NO'</span>, <span class="cm-variable">feature</span> ] =<span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'sex'</span>] == <span class="cm-string">'FEMALE'</span>, <span class="cm-string">'sex'</span>] = <span class="cm-number">1</span> &nbsp;<span class="cm-comment"># 替换性别</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'sex'</span>] == <span class="cm-string">'MALE'</span>, <span class="cm-string">'sex'</span>] = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dumm_reg</span> = <span class="cm-variable">pd</span>.<span class="cm-property">get_dummies</span>( <span class="cm-variable">data</span>[<span class="cm-string">'region'</span>], <span class="cm-variable">prefix</span>=<span class="cm-string">'region'</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">dumm_child</span> = <span class="cm-variable">pd</span>.<span class="cm-property">get_dummies</span>( <span class="cm-variable">data</span>[<span class="cm-string">'children'</span>], <span class="cm-variable">prefix</span>=<span class="cm-string">'children'</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#删除DataFrame 中原来的两列后再 join dummies</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df1</span> = <span class="cm-variable">data</span>.<span class="cm-property">drop</span>([<span class="cm-string">'region'</span>,<span class="cm-string">'children'</span>], <span class="cm-variable">axis</span> = <span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#join()按照行索引连接多个DataFrame</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df2</span> = <span class="cm-variable">df1</span>.<span class="cm-property">join</span>([<span class="cm-variable">dumm_reg</span>,<span class="cm-variable">dumm_child</span>], <span class="cm-variable">how</span>=<span class="cm-string">'outer'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#在DataFrame 数据对象中，'pep'列存放分类标签，取出其值作为y，其余列的值为X。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#df2 删除'pep'列后作为X</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">df2</span>.<span class="cm-property">drop</span>([<span class="cm-string">'pep'</span>], <span class="cm-variable">axis</span>=<span class="cm-number">1</span>).<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span> = <span class="cm-variable">df2</span>[<span class="cm-string">'pep'</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">int</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将数据集划分为测试集和训练集，在测试集上评估预测性能。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">model_selection</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_train</span>, <span class="cm-variable">X_test</span>, <span class="cm-variable">y_train</span>, <span class="cm-variable">y_test</span> = <span class="cm-variable">model_selection</span>.<span class="cm-property">train_test_split</span>(<span class="cm-variable">X</span>,<span class="cm-variable">y</span>, <span class="cm-variable">test_size</span>=<span class="cm-number">0.3</span>, <span class="cm-variable">random_state</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#决策树</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">tree</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">tree</span>.<span class="cm-property">DecisionTreeClassifier</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">clf</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'Performance on test set through decision tree:'</span>,<span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) )<span class="cm-comment">#计算分类器的Accuracy</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#支持向量机</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">svm</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf1</span> = <span class="cm-variable">svm</span>.<span class="cm-property">SVC</span>(<span class="cm-variable">kernel</span>=<span class="cm-string">'rbf'</span>, <span class="cm-variable">gamma</span>=<span class="cm-number">0.7</span>, <span class="cm-variable">C</span> = <span class="cm-number">1.0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf1</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on test set through svm:"</span>, <span class="cm-variable">clf1</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set: 0.5555555555555556</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#创建神经网络分类器，训练网络节点连接权重及阈值。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">neural_network</span> <span class="cm-keyword">import</span> <span class="cm-variable">MLPClassifier</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mlp</span> = <span class="cm-variable">MLPClassifier</span>(<span class="cm-variable">solver</span>=<span class="cm-string">'lbfgs'</span>,<span class="cm-variable">alpha</span>=<span class="cm-number">1e-5</span>,<span class="cm-variable">hidden_layer_sizes</span>=(<span class="cm-number">5</span>,<span class="cm-number">5</span>), <span class="cm-variable">random_state</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mlp</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on test set through mlp:"</span>, <span class="cm-variable">mlp</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==========================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set through decision tree: 0.7666666666666667</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set through svm: 0.5555555555555556</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set through mlp: 0.5555555555555556</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1307px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1307px;"></div></div></div></pre><ul><li>Iris（鸢尾花）数据集记录了山鸢尾、变色鸢尾和弗吉尼亚鸢尾等3 个不同种类鸢尾花的特征数据，包括4 个特征项，花萼（sepal）长度与宽度以及花瓣（petal）的长度与宽度，1 个分类标签是花的类别。数据集共150 条记录。</li></ul><p><img src='Data Analysis.assets/1559272764582.png' alt='1559272764582' referrerPolicy='no-referrer' /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2)针对iris.data数据集，分别使用决策树、支持向量机和深度学习MLP方法来进行分类，调整参数，得到每类方法的最好分类效果</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'C:/pdata/week13/iris.data'</span>, <span class="cm-variable">header</span> = <span class="cm-keyword">None</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">columns</span> = [<span class="cm-string">'sepal length'</span>,<span class="cm-string">'sepal width'</span>,<span class="cm-string">'petal length'</span>,<span class="cm-string">'petalwidth'</span>,<span class="cm-string">'class'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'class'</span>] == <span class="cm-string">'Iris-setosa'</span>, <span class="cm-string">'class'</span> ] = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'class'</span>] == <span class="cm-string">'Iris-versicolor'</span>, <span class="cm-string">'class'</span> ] = <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">data</span>.<span class="cm-property">loc</span>[ <span class="cm-variable">data</span>[<span class="cm-string">'class'</span>] == <span class="cm-string">'Iris-virginica'</span>, <span class="cm-string">'class'</span> ] = <span class="cm-number">2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">0</span>:<span class="cm-number">4</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">float</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span> = <span class="cm-variable">data</span>.<span class="cm-property">iloc</span>[:,<span class="cm-number">4</span>].<span class="cm-property">values</span>.<span class="cm-property">astype</span>(<span class="cm-builtin">int</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将数据集划分为测试集和训练集，在测试集上评估预测性能。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">model_selection</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_train</span>, <span class="cm-variable">X_test</span>, <span class="cm-variable">y_train</span>, <span class="cm-variable">y_test</span> = <span class="cm-variable">model_selection</span>.<span class="cm-property">train_test_split</span>(<span class="cm-variable">X</span>,<span class="cm-variable">y</span>, <span class="cm-variable">test_size</span>=<span class="cm-number">0.3</span>, <span class="cm-variable">random_state</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#决策树</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">tree</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">tree</span>.<span class="cm-property">DecisionTreeClassifier</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf</span> = <span class="cm-variable">clf</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'Performance on test set through decision tree:'</span>,<span class="cm-variable">clf</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) )<span class="cm-comment">#计算分类器的Accuracy</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#支持向量机</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">svm</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf1</span> = <span class="cm-variable">svm</span>.<span class="cm-property">SVC</span>(<span class="cm-variable">kernel</span>=<span class="cm-string">'rbf'</span>, <span class="cm-variable">gamma</span>=<span class="cm-number">0.7</span>, <span class="cm-variable">C</span> = <span class="cm-number">1.0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">clf1</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on test set through svm:"</span>, <span class="cm-variable">clf1</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#创建神经网络分类器，训练网络节点连接权重及阈值。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">neural_network</span> <span class="cm-keyword">import</span> <span class="cm-variable">MLPClassifier</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mlp</span> = <span class="cm-variable">MLPClassifier</span>(<span class="cm-variable">solver</span>=<span class="cm-string">'lbfgs'</span>,<span class="cm-variable">alpha</span>=<span class="cm-number">1e-5</span>,<span class="cm-variable">hidden_layer_sizes</span>=(<span class="cm-number">5</span>,<span class="cm-number">5</span>), <span class="cm-variable">random_state</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mlp</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"Performance on test set through mlp:"</span>, <span class="cm-variable">mlp</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">====================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set through decision tree: 0.9555555555555556</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set through svm: 0.9555555555555556</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Performance on test set through mlp: 1.0</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 933px;"></div><div class="CodeMirror-gutters" style="display: none; height: 933px;"></div></div></div></pre><h2><a name='header-n783' class='md-header-anchor '></a>第6章 文本数据处理</h2><p><span>	</span>互联网的飞速发展使网络数据呈现爆发性增长，其中80%的信息是以文本形式存放的。新闻网站、自媒体、移动终端每天都在产生海量的文本数据，如何从海量文档中快速发现并利用所需的知识成为人工智能的热点研究方向。虽然目前计算机还不具备理解自然语言文本的能力，但近年来利用统计模型从文本发现知识取得了显著的进展，在知识检索、舆论监控、用户偏好理解和人机对话等方面获得了广泛的应用。本章将介绍文本数据处理的基本方法，以及如何利用第三方库分析文本数据。</p><h3><a name='header-n785' class='md-header-anchor '></a>常见任务</h3><ul><li><p>文本分类：</p><p><span>	</span>按照一定的分类体系，将文档判别为预定的若干类中某一类或某几类。典型包括垃圾邮件短信分类、新闻分类、网页分类、情感分析等。</p></li><li><p>信息检索：</p><p><span>	</span>指将信息（这里指代文本）按一定的方式组织起来，根据用户的需求将相关信息查找出来。</p></li><li><p>信息抽取：</p><p><span>	</span>将文本中包含的结构化或非结构化的信息抽取出来，组织成类似表格的形式。信息抽取只关心文本中特定信息，而不是理解全文。</p></li><li><p>自动问答：</p><p><span>	</span>信息检索的一种高级形式，它能用准确、简洁的自然语言回答用户以文本形式提出的问题。。</p></li><li><p>机器翻译：</p><p><span>	</span>将一种自然语言文本自动转换为另一种自然语言文本。</p></li><li><p>自动摘要：</p><p><span>	</span>从一份或多份文本中提取出部分文字，它包含了原文本中的重要信息，且长度不超过或远少于原文本的一半。自动文本摘要可用于自动报告生成、新闻标题生成、搜索结果预览等很多实际场景。</p></li></ul><p>&nbsp;</p><h3><a name='header-n806' class='md-header-anchor '></a>基本步骤</h3><p><img src='Data Analysis.assets/1559786110047.png' alt='1559786110047' referrerPolicy='no-referrer' /></p><ul><li><p>文本采集：</p><p><span>	</span>文本数据有些是经过整理的文献资料，更多的则来自于网页的文本。网页数据通常利用爬虫工具从相关的网站中爬取出来。。少量的非文本内容可以直接用Python 的正则表达式来删除。复杂的网页可以使用Python 的开源库BeautifulSoup 来提取有效文本数据。</p></li><li><p>文本预处理：</p><p><span>	</span>包括分词、去除停用词、词性标注和样本标注等。有些语言文本句子中没有词语分割的标记，如中文、
日本等，分析前就需要首先进行词语切分。去除停用词的目的是为了删除那些对文本特征没有任何贡献的词语，如“的”、“地”、“啊”及一些标点符号等。词性用来描述一个词在上下文中的作用，如描述一个概念的是名词，在下文引用这个名词的词叫代词。</p></li><li><p>特征提取与特征选择：</p><p><span>	</span>文本预处理后，就可以将文本转为特征表示集合，包括词频、词性、词上下文及词位置等，具体选用的特征通常会根据文本处理的任务来选择。</p></li><li><p>建模分析：</p><p><span>	</span>文本集被转化为向量数据后就可以利用各种算法进行建模，完成各类文本分析任务了。目前文本分析主要利用机器学习的分类模型，隐马尔可夫、条件随机场（CRF）等序列标注模型及RNN、LSTM 等深度学习模型</p></li></ul><h3><a name='header-n821' class='md-header-anchor '></a>中文处理</h3><h4><a name='header-n822' class='md-header-anchor '></a>jieba</h4><ul><li><p>jieba 库的分词基于一个中文的机器字典实现，也支持繁体分词和用户自定义字典。jieba 库提供3 种分词模式</p><ol start='' ><li><p>精确模式，试图将句子精确地切开，适合文本分析。</p></li><li><p>全模式，把句子中所有的可以成词的词语都扫描出来，速度非常快，但不能解决歧义。</p></li><li><p>搜索引擎模式，在精确模式的基础上，对长词再次切分，提高召回率，适合用于搜索引擎分词</p><p>。</p></li></ol></li><li><figure><table><thead><tr><th style='text-align:center;' >函数</th><th style='text-align:center;' >参数说明</th></tr></thead><tbody><tr><td style='text-align:center;' >cut(sentence,cut_all=False,HMM=True)</td><td style='text-align:center;' >sentence：待分词的字符串；cut_all：是否采用全模式；HMM：是否使用HMM模型。返回可迭代的generator。支持精确模式和全模式</td></tr><tr><td style='text-align:center;' >cut_for_search(sentence, HMM=True)</td><td style='text-align:center;' >sentence：待分词的字符串；HMM：是否使用HMM 模型。返回可迭代的generator。该方法为搜索引擎模式，适用于建立搜索引擎构建倒排索引，粒度比较细</td></tr><tr><td style='text-align:center;' >lcut(sentence,cut_all=False,HMM=True)</td><td style='text-align:center;' >与cut 函数类似，直接返回词列表</td></tr><tr><td style='text-align:center;' >lcut_for_search(sentence, HMM=True)</td><td style='text-align:center;' >与cut_for_search 函数类似，直接返回词列表</td></tr></tbody></table></figure></li><li><p>例：将文本句子“2018 年世界杯小组赛抽签在莫斯科克里姆林宫举行”进行分词。</p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">jieba</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">jieba</span>.<span class="cm-property">lcut</span>(<span class="cm-string">"2018 年世界杯小组赛抽签在莫斯科克里姆林宫举行"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">====================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-string">'2018'</span>, <span class="cm-string">'年'</span>, <span class="cm-string">'世界杯'</span>, <span class="cm-string">'小组赛'</span>, <span class="cm-string">'抽签'</span>, <span class="cm-string">'在'</span>, <span class="cm-string">'莫斯科'</span>, <span class="cm-string">'克里姆林宫'</span>, <span class="cm-string">'举行'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">====================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">jieba</span>.<span class="cm-property">lcut</span>(<span class="cm-string">"2018 年世界杯小组赛抽签在莫斯科克里姆林宫举行"</span>, <span class="cm-variable">cut_all</span> =<span class="cm-keyword">True</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">====================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-string">'2018'</span>, <span class="cm-string">'年'</span>, <span class="cm-string">'世界'</span>, <span class="cm-string">'世界杯'</span>, <span class="cm-string">'小组'</span>, <span class="cm-string">'小组赛'</span>, <span class="cm-string">'抽签'</span>, <span class="cm-string">'签在'</span>, <span class="cm-string">'莫斯科'</span>, <span class="cm-string">'科克'</span>, <span class="cm-string">'克里'</span>, <span class="cm-string">'克里姆'</span>, <span class="cm-string">'克里姆林'</span>, <span class="cm-string">'克里姆林宫'</span>, <span class="cm-string">'里姆'</span>, <span class="cm-string">'里姆林'</span>, <span class="cm-string">'姆林宫'</span>, <span class="cm-string">'举行'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">====================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">jieba</span>.<span class="cm-property">lcut_for_search</span>(<span class="cm-string">"2018 年世界杯小组赛抽签在莫斯科克里姆林宫举行"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">====================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-string">'2018'</span>, <span class="cm-string">'年'</span>, <span class="cm-string">'世界'</span>, <span class="cm-string">'世界杯'</span>, <span class="cm-string">'小组'</span>, <span class="cm-string">'小组赛'</span>, <span class="cm-string">'抽签'</span>, <span class="cm-string">'在'</span>, <span class="cm-string">'莫斯科'</span>,<span class="cm-string">'克里'</span>, <span class="cm-string">'里姆'</span>, <span class="cm-string">'克里姆'</span>, <span class="cm-string">'里姆林'</span>, <span class="cm-string">'姆林宫'</span>, <span class="cm-string">'克里姆林宫'</span>, <span class="cm-string">'举行'</span>]</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 347px;"></div><div class="CodeMirror-gutters" style="display: none; height: 347px;"></div></div></div></pre><ul><li>例：引入 jieba 的posseg 类并重命名为pseg，cut()函数返回一个用于迭代的generator，可以通过for 循环显示每个词对应的word（词语）、tag（词性标记）。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">jieba</span>.<span class="cm-property">posseg</span> <span class="cm-keyword">as</span> <span class="cm-variable">pseg</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">words</span> = <span class="cm-variable">pseg</span>.<span class="cm-property">cut</span>(<span class="cm-string">"2018 年世界杯小组赛抽签在莫斯科克里姆林宫举行"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-variable">word</span>, <span class="cm-variable">tag</span> <span class="cm-keyword">in</span> <span class="cm-variable">words</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">print</span>( <span class="cm-string">'word:{}, tag:{}'</span>.<span class="cm-property">format</span>(<span class="cm-variable">word</span>, <span class="cm-variable">tag</span>) ) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ====================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">word</span>:<span class="cm-number">2018</span>, <span class="cm-variable">tag</span>:<span class="cm-variable">m</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">word</span>:<span class="cm-variable">年</span>, <span class="cm-variable">tag</span>:<span class="cm-variable">m</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">word</span>:<span class="cm-variable">世界杯</span>, <span class="cm-variable">tag</span>:<span class="cm-variable">nz</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">word</span>:<span class="cm-variable">小组赛</span>, <span class="cm-variable">tag</span>:<span class="cm-variable">n</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">word</span>:<span class="cm-variable">抽签</span>, <span class="cm-variable">tag</span>:<span class="cm-variable">v</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">word</span>:<span class="cm-variable">在</span>, <span class="cm-variable">tag</span>:<span class="cm-variable">p</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">word</span>:<span class="cm-variable">莫斯科</span>, <span class="cm-variable">tag</span>:<span class="cm-variable">nr</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">word</span>:<span class="cm-variable">克里姆林宫</span>, <span class="cm-variable">tag</span>:<span class="cm-variable">nrt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">word</span>:<span class="cm-variable">举行</span>, <span class="cm-variable">tag</span>:<span class="cm-variable">v</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 347px;"></div><div class="CodeMirror-gutters" style="display: none; height: 347px;"></div></div></div></pre><h3><a name='header-n858' class='md-header-anchor '></a>特征提取</h3><h4><a name='header-n859' class='md-header-anchor '></a>词袋模型</h4><ul><li><p>词袋（Bag of Words）模型的基本思想是将一条文本仅看作一些独立的词语的集合，忽略文本的词序、语法和句法。简单地说就是将每条文本都看成一个袋子，里面装的都是词，称为词袋，后续分析时就用词袋代表整篇文本。建立词袋模型，首先需要对文档集中的文本进行分词，统计在所有文本中出现的词条，构建整个文档集的词典，假设词典长度为n；然后为每条文本生成长度为n 的一维向量，值为字典中对应序号的词在该文本中出现的次数。</p></li><li><p>例：文档集包含以下3 条中文文本，提取文档集的词袋模型特征。</p><ul><li>句子 1：“我是中国人，我爱中国”</li><li>句子 2：“我是上海人”</li><li>句子 3：“我住在上海松江大学城”</li></ul><ol start='' ><li><p>分词：3 个句子的分词结果如下，用“/”表示词的分割。
句子1：“我/是/中国/人/，/我/爱/中国”</p><p>句子2：“我/是/上海/人”</p><p>句子3：“我/住/在/上海/松江/大学城”</p></li><li><p>构造文档集词典dictionary。将所有句子中出现的词拼接起来, 去除重复词、标点符号后，得到包含10 个单词的字典。{ &#39;上海&#39;:0, &#39;中国&#39;:1, &#39;人&#39;:2, &#39;住&#39;:3, &#39;在&#39;:4, &#39;大学城&#39;:5, &#39;我&#39;:6, &#39;是&#39;:7, &#39;松江&#39;:8, &#39;爱&#39;:9 }。
字典中词是键，值是该词的序号，词的序号与其在句子中出现的顺序没有关联。</p></li><li><p>根据文档集字典，计算每个句子的特征向量，即词袋。每个句子被表示为长度为10 的向量，其中第i 个元素表示字典中值为i 的单词在句子中出现的次数。
句子1：[0 2 1 0 0 0 2 1 0 1]
句子2：[1 0 1 0 0 0 1 1 0 0]
句子3：[1 0 0 1 1 1 1 0 1 0]</p></li></ol></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">feature_extraction</span>.<span class="cm-property">text</span> <span class="cm-keyword">import</span> <span class="cm-variable">CountVectorizer</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">jieba</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#给出文档集，放在字符串列表中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">corpus</span> = [</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">"我是中国人，我爱中国"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">"我是上海人"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">"我住在上海松江大学城"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">split_corpus</span> = [] <span class="cm-comment">#初始化分词结果的列表</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#循环为corpus 中的每个字符串分词</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-variable">c</span> <span class="cm-keyword">in</span> <span class="cm-variable">corpus</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将jieba 分词后的字符串列表拼接为一个字符串，元素之间用" "分割</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">s</span> = <span class="cm-string">" "</span>.<span class="cm-property">join</span>(<span class="cm-variable">jieba</span>.<span class="cm-property">lcut</span>(<span class="cm-variable">c</span>)) <span class="cm-comment">#用""将多个词拼接为一个字符串</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">split_corpus</span>.<span class="cm-property">append</span>(<span class="cm-variable">s</span>) <span class="cm-comment">#将分词结果字符串添加到列表中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-builtin">print</span>(<span class="cm-variable">split_corpus</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#生成词袋</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cv</span> = <span class="cm-variable">CountVectorizer</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cv_fit</span>=<span class="cm-variable">cv</span>.<span class="cm-property">fit_transform</span>(<span class="cm-variable">split_corpus</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">cv</span>.<span class="cm-property">get_feature_names</span>()) <span class="cm-comment">#显示特征列表</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">cv_fit</span>.<span class="cm-property">toarray</span>()) <span class="cm-comment">#显示特征向量</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">====================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#程序对每个字符串分词，将结果作为一个字符串放入split_corpus 列表中。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-string">'我是 中国 人 ， 我 爱 中国'</span>, <span class="cm-string">'我是 上海 人'</span>, <span class="cm-string">'我住 在 上海 松江 大学城'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#cv.get_feature_names()函数给出文档字典，即特征列表。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-string">'上海'</span>, <span class="cm-string">'中国'</span>, <span class="cm-string">'大学城'</span>, <span class="cm-string">'松江'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#最后，每个字符串被转化为如下特征向量。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[[<span class="cm-number">0</span> <span class="cm-number">2</span> <span class="cm-number">0</span> <span class="cm-number">0</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span> <span class="cm-number">0</span> <span class="cm-number">1</span> <span class="cm-number">1</span>]]</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 773px;"></div><div class="CodeMirror-gutters" style="display: none; height: 773px;"></div></div></div></pre><h4><a name='header-n882' class='md-header-anchor '></a>TF-IDF 模型</h4><p><span>	</span>TF-IDF（Term Frequency - Inverse Document Frequency）表示“词频-逆文档频率”，用于评估一个词对于一篇文档的重要程度。词频 TF 表示某个词在文档中出现的次数或频率，如果某个词在某文档中出现多次，则说明这个词可能比较重要或者是文档常用词，如停用词“的”、“是”、“在”等。逆文档频率IDF 是对一个词语普遍重要性的度量，计算方法是将文档集中总文档数量除以包含该词语的文档数量，再将得到的商取对数。IDF 主要用来去除文档常用词，如停用词等的IDF值就会很低。
​<span>	</span>TF-IDF 值是TF 和IDF 的乘积。如果词语在某一特定文档中是高频率词，且该词语在整个文档集合中出现频率较低，则TF-IDF 值较高。因此，TF-IDF 倾向于过滤掉常见的词语，保留重要的词语。</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#在上例的代码后添加以下代码</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">feature_extraction</span>.<span class="cm-property">text</span> <span class="cm-keyword">import</span> <span class="cm-variable">TfidfTransformer</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将文本词袋特征表示转化为TF-IDF 特征</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">tfidf_transformer</span> = <span class="cm-variable">TfidfTransformer</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">tfidf_fit</span> = <span class="cm-variable">tfidf_transformer</span>.<span class="cm-property">fit_transform</span>(<span class="cm-variable">cv_fit</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">tfidf_fit</span>.<span class="cm-property">toarray</span>()) <span class="cm-comment">#显示TF-IDF 特征向量</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=====================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#文档集中 3 条文本的TF-IDF 特征表示如下。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[[ <span class="cm-number">0.</span> <span class="cm-number">0.72777291</span> <span class="cm-number">0.27674503</span> <span class="cm-number">0.</span> <span class="cm-number">0.</span> <span class="cm-number">0.</span> <span class="cm-number">0.42983441</span> <span class="cm-number">0.27674503</span> <span class="cm-number">0.</span> <span class="cm-number">0.36388646</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [ <span class="cm-number">0.52682017</span> <span class="cm-number">0.</span> <span class="cm-number">0.52682017</span> <span class="cm-number">0.</span> <span class="cm-number">0.</span> <span class="cm-number">0.</span> <span class="cm-number">0.40912286</span> <span class="cm-number">0.52682017</span> <span class="cm-number">0.</span> <span class="cm-number">0.</span> ]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [ <span class="cm-number">0.34261996</span> <span class="cm-number">0.</span> <span class="cm-number">0.</span> <span class="cm-number">0.45050407</span> <span class="cm-number">0.45050407</span> <span class="cm-number">0.45050407</span> <span class="cm-number">0.26607496</span> <span class="cm-number">0.</span> <span class="cm-number">0.45050407</span> <span class="cm-number">0.</span> ]]</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 293px;"></div><div class="CodeMirror-gutters" style="display: none; height: 293px;"></div></div></div></pre><h3><a name='header-n885' class='md-header-anchor '></a>垃圾邮件实例</h3><ul><li>构建训练集</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">jieba</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">feature_extraction</span>.<span class="cm-property">text</span> <span class="cm-keyword">import</span> <span class="cm-variable">CountVectorizer</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#从文件读取文本，放入列表中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">train_file</span> = <span class="cm-builtin">open</span>(<span class="cm-string">"data/train.txt"</span>, <span class="cm-string">'r'</span>, <span class="cm-variable">encoding</span> = <span class="cm-string">"utf-8"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">corpus</span> = <span class="cm-variable">train_file</span>.<span class="cm-property">readlines</span>() <span class="cm-comment">#列表中的每个元素为一行文本</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#分词</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">split_corpus</span> = []</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-variable">c</span> <span class="cm-keyword">in</span> <span class="cm-variable">corpus</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">split_corpus</span>.<span class="cm-property">append</span>( <span class="cm-string">" "</span>.<span class="cm-property">join</span>(<span class="cm-variable">jieba</span>.<span class="cm-property">lcut</span>(<span class="cm-variable">c</span>)) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#使用词袋模型提取特征，得到文本特征矩阵</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cv</span> = <span class="cm-variable">CountVectorizer</span>(<span class="cm-variable">token_pattern</span>=<span class="cm-string">r"(?u)\b\w+\b"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">cv</span>.<span class="cm-property">fit_transform</span>(<span class="cm-variable">split_corpus</span>).<span class="cm-property">toarray</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#构造标签向量，垃圾邮件标签为0，正常邮件标签为1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span> = [<span class="cm-number">0</span>] <span class="cm-operator">*</span> <span class="cm-number">5000</span> <span class="cm-operator">+</span> [<span class="cm-number">1</span>] <span class="cm-operator">*</span> <span class="cm-number">5000</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 374px;"></div><div class="CodeMirror-gutters" style="display: none; height: 374px;"></div></div></div></pre><ul><li>模型训练和验证</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">model_selection</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">svm</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span> <span class="cm-keyword">import</span> <span class="cm-variable">metrics</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将特征集分为训练集和测试集</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X_train</span>, <span class="cm-variable">X_test</span>, <span class="cm-variable">y_train</span>, <span class="cm-variable">y_test</span> = <span class="cm-variable">model_selection</span>.<span class="cm-property">train_test_split</span>(<span class="cm-variable">X</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y</span>, <span class="cm-variable">test_size</span>=<span class="cm-number">0.4</span>, <span class="cm-variable">random_state</span> = <span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#使用SVM 训练分类模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">svm</span> = <span class="cm-variable">svm</span>.<span class="cm-property">SVC</span>(<span class="cm-variable">kernel</span>=<span class="cm-string">'rbf'</span>, <span class="cm-variable">gamma</span>=<span class="cm-number">0.7</span>, <span class="cm-variable">C</span> = <span class="cm-number">1.0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">svm</span>.<span class="cm-property">fit</span>(<span class="cm-variable">X_train</span>, <span class="cm-variable">y_train</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#SVM 分类性能</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_pred_svm</span> = <span class="cm-variable">svm</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X_test</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"SVM accuracy:\n"</span>,<span class="cm-variable">svm</span>.<span class="cm-property">score</span>(<span class="cm-variable">X_test</span>, <span class="cm-variable">y_test</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"SVM report:\n"</span>,<span class="cm-variable">metrics</span>.<span class="cm-property">classification_report</span>(<span class="cm-variable">y_test</span>,<span class="cm-variable">y_pred_svm</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"SVM matrix:\n"</span>,<span class="cm-variable">metrics</span>.<span class="cm-property">confusion_matrix</span>(<span class="cm-variable">y_test</span>, <span class="cm-variable">y_pred_svm</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#使用 SVM 模型在训练集上进行学习，得到的分类模型用于测试集上取得了92.5%的准确率，精确率和召回率如下所示。其中垃圾邮件识别的精确率是100%，召回率是85%，说明有15%的垃圾邮件未能被识别出来。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">precision</span> <span class="cm-variable">recall</span> <span class="cm-variable">f1</span><span class="cm-operator">-</span><span class="cm-variable">score</span> <span class="cm-variable">support</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">1.00</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.85</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.92</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">1993</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">0.87</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">1.00</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.93</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">2007</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">avg</span> <span class="cm-operator">/</span> <span class="cm-variable">total</span> <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">0.93</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.93</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">0.92</span> <span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-number">4000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#SVM 分类模型训练文本数据需要的时间较长，可以换用其他分类模型，如朴素贝叶斯（sklearn.naive_bayes.NB）训练时间将极大缩短，而且能取得更好的垃圾邮件识别效果。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 563px;"></div><div class="CodeMirror-gutters" style="display: none; height: 563px;"></div></div></div></pre><h3><a name='header-n894' class='md-header-anchor '></a><em>Homework(Week14)</em></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python " style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#在例6-3的文档集中添加2条文本，“松江大学城有很多大学”、“大学城共有15万余大学生”。计算文档集中每条文本的词袋和TF-IDF特征表示。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">feature_extraction</span>.<span class="cm-property">text</span> <span class="cm-keyword">import</span> <span class="cm-variable">CountVectorizer</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">jieba</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#给出文档集，放在字符串列表中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">corpus</span> = [</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">"我是中国人，我爱中国"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">"我是上海人"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">"我住在上海松江大学城"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">"松江大学城有很多大学"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">"大学城共有15万余大学生"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">split_corpus</span> = [] <span class="cm-comment">#初始化分词结果的列表</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#循环为corpus 中的每个字符串分词</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-variable">c</span> <span class="cm-keyword">in</span> <span class="cm-variable">corpus</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将jieba 分词后的字符串列表拼接为一个字符串，元素之间用" "分割</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">s</span> = <span class="cm-string">" "</span>.<span class="cm-property">join</span>(<span class="cm-variable">jieba</span>.<span class="cm-property">lcut</span>(<span class="cm-variable">c</span>)) <span class="cm-comment">#用""将多个词拼接为一个字符串</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">split_corpus</span>.<span class="cm-property">append</span>(<span class="cm-variable">s</span>) <span class="cm-comment">#将分词结果字符串添加到列表中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-builtin">print</span>(<span class="cm-variable">split_corpus</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#生成词袋</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cv</span> = <span class="cm-variable">CountVectorizer</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cv_fit</span>=<span class="cm-variable">cv</span>.<span class="cm-property">fit_transform</span>(<span class="cm-variable">split_corpus</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">cv</span>.<span class="cm-property">get_feature_names</span>()) <span class="cm-comment">#显示特征列表</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">cv_fit</span>.<span class="cm-property">toarray</span>()) <span class="cm-comment">#显示特征向量</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">sklearn</span>.<span class="cm-property">feature_extraction</span>.<span class="cm-property">text</span> <span class="cm-keyword">import</span> <span class="cm-variable">TfidfTransformer</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#将文本词袋特征表示转化为TF-IDF 特征</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">tfidf_transformer</span> = <span class="cm-variable">TfidfTransformer</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">tfidf_fit</span> = <span class="cm-variable">tfidf_transformer</span>.<span class="cm-property">fit_transform</span>(<span class="cm-variable">cv_fit</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">tfidf_fit</span>.<span class="cm-property">toarray</span>()) <span class="cm-comment">#显示TF-IDF 特征向量</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">=======================================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-string">'我 是 中国 人 ， 我 爱 中国'</span>, <span class="cm-string">'我 是 上海 人'</span>, <span class="cm-string">'我 住 在 上海 松江 大学城'</span>, <span class="cm-string">'松江 大学城 有 很多 大学'</span>, <span class="cm-string">'大学城 共有 15 万余 大学生'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-string">'15'</span>, <span class="cm-string">'万余'</span>, <span class="cm-string">'上海'</span>, <span class="cm-string">'中国'</span>, <span class="cm-string">'共有'</span>, <span class="cm-string">'大学'</span>, <span class="cm-string">'大学城'</span>, <span class="cm-string">'大学生'</span>, <span class="cm-string">'很多'</span>, <span class="cm-string">'松江'</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[[<span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">2</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [<span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">1</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [<span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">1</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">1</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">1</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [<span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">1</span> <span class="cm-number">1</span> <span class="cm-number">0</span> <span class="cm-number">1</span> <span class="cm-number">1</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [<span class="cm-number">1</span> <span class="cm-number">1</span> <span class="cm-number">0</span> <span class="cm-number">0</span> <span class="cm-number">1</span> <span class="cm-number">0</span> <span class="cm-number">1</span> <span class="cm-number">1</span> <span class="cm-number">0</span> <span class="cm-number">0</span>]]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[[<span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">1.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp;  ]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [<span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">1.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp;  ]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [<span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.60981846</span> <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-number">0.50620441</span> <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.60981846</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [<span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.56801408</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-number">0.38040565</span> <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.56801408</span> <span class="cm-number">0.45827018</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> [<span class="cm-number">0.47412465</span> <span class="cm-number">0.47412465</span> <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.47412465</span> <span class="cm-number">0.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-number">0.3175268</span> &nbsp;<span class="cm-number">0.47412465</span> <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0.</span> &nbsp; &nbsp; &nbsp;  ]]</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1227px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1227px;"></div></div></div></pre><p>&nbsp;</p><h2><a name='header-n897' class='md-header-anchor '></a>第7章 数字图像处理</h2><h3><a name='header-n898' class='md-header-anchor '></a>数字图像类型</h3><ol start='' ><li>二值图像：二值图像的像素矩阵仅由0、1 两个值构成，“0”代表黑色，“1”代表白色，用1 位二进制数表示。二值图像通常用于文字、线条图的扫描识别（OCR）和掩模图像的存储。</li><li>灰度图像：灰度图像矩阵元素的取值范围通常为[0,255]，“0”表示纯黑色，“255”表示纯白色，中间的数字从小到大表示由黑到白的过渡色，用8 位二进制数表示。二值图像可以看成灰度图像的特例。</li><li>RGB 彩色图像：RGB 图像用红（R）、绿（G）和蓝（B）三原色的组合来表示每个像素的颜色。图像被表示为3 个M×N 的二维矩阵，每个矩阵分别存放一个颜色分量，取值范围为[0,255]，表示该原色在该像素的深浅程度。每个像素的颜色使用3×8b 表示，也被称为24 位图。</li></ol><p>       如果直接将数字图像的二维矩阵存储到文件中会非常大，例如，1920 像素×1280 像素的RGB24 位图，文件大小为1920×1280×3B=7.2MB。因此通常将原始数据压缩后进行存储，目前常用的压缩文件格式有BMP、JPEG、TIFF、GIF 和PNG 等。BMP 是微软公司为Windows环境设置的标准图像格式，结构简单，压缩比低；JPEG 可以设定压缩比获得不同质量的图像；TIFF 是现阶段印刷行业使用最广泛的文件格式；GIF 可以保存多幅动态图像；PNG 主要用于网页上的图像。</p><h3><a name='header-n907' class='md-header-anchor '></a>数字图像处理</h3><ol start='' ><li>图像变换（Geometrical Image Processing）</li><li>图像增强和复原（Image Enhancement &amp; Restoration）</li><li>图像重建（Image Reconstruction）</li><li>图像编码（Image Encoding）</li><li>图像识别（Image Recognition）</li></ol><h3><a name='header-n919' class='md-header-anchor '></a>基本操作</h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">skimage</span> <span class="cm-keyword">import</span> <span class="cm-variable">io</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">以下代码读取图像、查看图像的基本信息并显示图像，如图7</span><span class="cm-operator">-</span><span class="cm-number">2</span> <span class="cm-variable">所示。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">robot</span> = <span class="cm-variable">io</span>.<span class="cm-property">imread</span>(<span class="cm-string">"data/Robot.jpg"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">robot</span>.<span class="cm-property">shape</span> <span class="cm-comment"># 图像像素和颜色字节数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(<span class="cm-number">372</span>, <span class="cm-number">400</span>, <span class="cm-number">3</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">type</span>(<span class="cm-variable">robot</span>) <span class="cm-comment"># 数据类型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&lt;</span><span class="cm-keyword">class</span> <span class="cm-string">'Numpy.ndarray'</span><span class="cm-operator">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">io</span>.<span class="cm-property">imshow</span>(<span class="cm-variable">robot</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&lt;</span><span class="cm-variable">matplotlib</span>.<span class="cm-property">image</span>.<span class="cm-property">AxesImage</span> <span class="cm-builtin">object</span> <span class="cm-variable">at</span> <span class="cm-number">0x22099dd21d0</span><span class="cm-operator">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">io</span>.<span class="cm-property">show</span>()</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 427px;"></div><div class="CodeMirror-gutters" style="display: none; height: 427px;"></div></div></div></pre><ul><li>图像的坐标和颜色</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">robot</span>[<span class="cm-number">91</span>,<span class="cm-number">221</span>] <span class="cm-comment">#取指定坐标像素的颜色</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>( [<span class="cm-number">65</span> <span class="cm-number">61</span> <span class="cm-number">62</span>], <span class="cm-variable">dtype</span>=<span class="cm-variable">uint8</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">robot</span>[<span class="cm-number">91</span>,<span class="cm-number">221</span>, <span class="cm-number">0</span>] <span class="cm-comment">#取指定坐标像素的R 值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">65</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">==================================================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">robot</span>[<span class="cm-number">77</span>:<span class="cm-number">80</span>,<span class="cm-number">221</span>:<span class="cm-number">231</span>, <span class="cm-number">0</span>] <span class="cm-comment">#取一部分图像的R 值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">array</span>(</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  [[ <span class="cm-number">37</span> <span class="cm-number">90</span> <span class="cm-number">79</span> <span class="cm-number">61</span> <span class="cm-number">41</span> <span class="cm-number">42</span> <span class="cm-number">129</span> <span class="cm-number">75</span> <span class="cm-number">75</span> <span class="cm-number">72</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; [ <span class="cm-number">32</span> <span class="cm-number">38</span> <span class="cm-number">85</span> <span class="cm-number">63</span> <span class="cm-number">52</span> <span class="cm-number">41</span> <span class="cm-number">78</span> <span class="cm-number">113</span> <span class="cm-number">65</span> <span class="cm-number">71</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; [ <span class="cm-number">38</span> <span class="cm-number">33</span> <span class="cm-number">69</span> <span class="cm-number">78</span> <span class="cm-number">60</span> <span class="cm-number">44</span> <span class="cm-number">53</span> <span class="cm-number">116</span> <span class="cm-number">68</span> <span class="cm-number">63</span>]], <span class="cm-variable">dtype</span>=<span class="cm-variable">uint8</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 320px;"></div><div class="CodeMirror-gutters" style="display: none; height: 320px;"></div></div></div></pre><ul><li>图像裁剪</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">head</span> = <span class="cm-variable">robot</span>[<span class="cm-number">40</span>:<span class="cm-number">165</span>,<span class="cm-number">180</span>:<span class="cm-number">305</span>] <span class="cm-comment">#给出图像局部head 的坐标范围</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">io</span>.<span class="cm-property">imshow</span>(<span class="cm-variable">head</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">io</span>.<span class="cm-property">show</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">io</span>.<span class="cm-property">imsave</span>(<span class="cm-string">'RobotHead.jpg'</span>, <span class="cm-variable">head</span>) <span class="cm-comment">#将图像数据保存为文件</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 107px;"></div><div class="CodeMirror-gutters" style="display: none; height: 107px;"></div></div></div></pre><h3><a name='header-n929' class='md-header-anchor '></a>基于Keras的CNN 的图像分类</h3><h4><a name='header-n930' class='md-header-anchor '></a>卷积神经网络CNN</h4><p><span>	</span>传统的前馈神经网络接收输入，通过一系列的隐藏层进行转换，最后得到若干个输出。在分类任务中每个输出表示属于某类的概率。
​<span>	</span>前馈神经网络采用全连接，即每个节点与上一层所有节点相连，当输入特征、网络层数多时，计算量将非常大，导致学习过程无法完成。例如，将图像像素的颜色值构成特征向量用于神经网络分类，一个1000 像素×1000 像素的灰度图像，输入层有1000×1000=100万个节点，如果第一个隐层有1000 个节点，那么这层就有1000×1000×1000=1 亿个权重参数需要学习。当图像的像素再大一些，隐藏层数再多些，参数就会剧增。
​<span>	</span>卷积神经网络的提出有效地解决了这一问题。从图像来说，每个像素与其周围像素的关联比较紧密，与离得远的像素的关联可能比较小。据此，CNN 在普通神经网络基础上，引入一些特定性质的隐藏层，极大地减少了网络参数，提高了神经网络的训练效率，同时又不影响图像识别与分类的效果。</p><ol start='' ><li>卷积层（Conventional Layer）卷积层由若干卷积单元组成，每个卷积单元仅连接输入单元的一部分，也就是输入图像的一小片相邻区域。同时一组连接可以共享同一个权重，而不是每个连接拥有独立的权重。局部连接和权值共享方式极大地减少了隐藏层的参数。</li><li>池化层（Pooling Layer）：卷积层通过局部连接前一层，减少了连接权重数，但得到的特征维度（即卷积层的节点数）仍然很大，池化层将若干个卷积层节点划分为一个区域，将其最大值或平均值作为新的特征值，得到维度较小的特征，从而减少隐层节点数。</li></ol><p>       CNN 的核心是通过卷积层提取图像特征。第一层卷积层可能只提取一些低级的特征，如边缘、线条和角等，更多层的网络能从低级特征中迭代提取更复杂的特征，如事物的局部表示等（汽车的轮子、车灯、车门等）。最终CNN 通过全连接层把所有局部特征结合变成全局特征，用来输出识别或分类结果。</p><p>       下图所示是一个简单的用于图像分类的CNN 结构图，包含了输入层（汽车图片）、多个卷积层CONV、激活层RELU、池化层POOL，以及全连接层和输出层FC。该网络的输出是输入图像属于每个分类（共5 类）的概率。</p><p><img src='Data Analysis.assets/1559805223833.png' alt='1559805223833' referrerPolicy='no-referrer' /></p><h4><a name='header-n940' class='md-header-anchor '></a>深度学习库Keras</h4><p><span>	</span>Keras 是一个使用Python 开发的多层神经网络API（应用程序编程接口），且能方便地集成其他开源深度学习库，如Google 的Tensorflow、微软的CNTK 等后端。Keras 具有高度模块化、简单及可扩充等特性，支持简易和快速的原型设计。<span>	</span></p><p><span>	</span>Keras 采用“模型”构建神经网络，序贯（Sequential）模型是简单的线性模型，由多个神经网络层按输入、输出顺序线性堆叠而成，只有一个输出。函数式（Functional）模型则在序贯模型的基础上，允许用户定义多输出、非循环有向或具有共享层的结构。序贯模型构建的神经网络一般包括以下层次。</p><ol start='' ><li>Dense 层：全连接层，节点与下一层节点完全连接。
<code>Dense(units, input_dim)</code>
参数说明：
<code>units</code>：整数，输出维度。
<code>input_dim</code>：数据，输入维度，当Dense 作为首层时，必须指定。</li><li>Activation 层：激活层，对上一层的输出施加激活函数。常用的激活函数有softmax、relu、tanh、sigmoid 等。</li><li>Dropout 层：中断层，在训练过程中，每次更新参数时按照一定的概率，随机断开给定百分比（p）的输入神经元连接，用于防止过拟合。</li></ol><p>        使用 Keras 搭建神经网络训练模型的步骤与scikit-learn 的基本方法一致，只是需要先定义神经网络的结构，编译后即可用于模型学习、性能分析和预测。</p><p><span>	</span><code>model.compile(loss, optimizer, metrics)</code></p><p><span>	</span>参数说明：
​<span>	</span><code>loss</code>：损失函数，神经网络输出值与真实值之间的误差度量方法，有mean_squared_error、hinge、categorical_crossentropy 等。
​<span>	</span><code>optimizer</code>：优化器，神经网络的参数学习算法，有&#39;SGD&#39;、&#39;RMSprop&#39;、&#39;Adagrad&#39;、&#39;Adam&#39;等。
​<span>	</span><code>metrics</code>：列表，给出所需的性能评估指标，如&#39;accuracy&#39;。</p><ul><li>例：鸢尾花数据集每个数据包含4 个数据特征项，属于3 种类型。因此构建的神经网络输入层维度为4，输出层维度为3，中间构建2 个16 节点的隐层，如图所示，隐层采用的激活函数为relu。</li></ul><p><img src='Data Analysis.assets/1559807049246.png' alt='1559807049246' referrerPolicy='no-referrer' /></p><p><span>	</span></p><p>&nbsp;</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">keras</span>.<span class="cm-property">models</span> <span class="cm-keyword">import</span> <span class="cm-variable">Sequential</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">keras</span>.<span class="cm-property">layers</span> <span class="cm-keyword">import</span> <span class="cm-variable">Dense</span>, <span class="cm-variable">Activation</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 定义模型结构</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span> = <span class="cm-variable">Sequential</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Dense</span>(<span class="cm-variable">units</span>=<span class="cm-number">16</span>, <span class="cm-variable">input_dim</span>=<span class="cm-number">4</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Activation</span>(<span class="cm-string">'relu'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Dense</span>(<span class="cm-number">16</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Activation</span>(<span class="cm-string">'relu'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Dense</span>(<span class="cm-number">3</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Activation</span>(<span class="cm-string">'softmax'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#定义模型损失函数和优化器，并编译</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">compile</span>(<span class="cm-variable">loss</span>=<span class="cm-string">'categorical_crossentropy'</span>, <span class="cm-variable">optimizer</span>=<span class="cm-string">'adam'</span>,<span class="cm-variable">metrics</span>=[<span class="cm-string">"accuracy"</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">train_x</span>, <span class="cm-variable">test_x</span>, <span class="cm-variable">train_y</span>, <span class="cm-variable">test_y</span> = <span class="cm-variable">train_test_split</span>(<span class="cm-variable">X</span>, <span class="cm-variable">y</span>, <span class="cm-variable">train_size</span>=<span class="cm-number">0.8</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">test_size</span>=<span class="cm-number">0.2</span>, <span class="cm-variable">random_state</span>=<span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#keras 处理多分类问题需要将类型转化为二元类矩阵</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">keras</span>.<span class="cm-property">utils</span> <span class="cm-keyword">import</span> <span class="cm-variable">np_utils</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">train_y_ohe</span> = <span class="cm-variable">np_utils</span>.<span class="cm-property">to_categorical</span>(<span class="cm-variable">train_y</span>, <span class="cm-number">3</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">test_y_ohe</span> = <span class="cm-variable">np_utils</span>.<span class="cm-property">to_categorical</span>(<span class="cm-variable">test_y</span>, <span class="cm-number">3</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#使用训练集训练模型，使用测试集评估模型性能。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">fit</span>(<span class="cm-variable">train_x</span>, <span class="cm-variable">train_y_ohe</span>, <span class="cm-variable">epochs</span>=<span class="cm-number">50</span>, <span class="cm-variable">batch_size</span>=<span class="cm-number">1</span>, <span class="cm-variable">verbose</span>=<span class="cm-number">2</span>,<span class="cm-variable">validation_data</span>=(<span class="cm-variable">test_x</span>,<span class="cm-variable">test_y_ohe</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 评估模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">loss</span>, <span class="cm-variable">accuracy</span> = <span class="cm-variable">model</span>.<span class="cm-property">evaluate</span>(<span class="cm-variable">test_x</span>, <span class="cm-variable">test_y_ohe</span>, <span class="cm-variable">verbose</span>=<span class="cm-number">2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'loss = {},accuracy = {} '</span>.<span class="cm-property">format</span>(<span class="cm-variable">loss</span>,<span class="cm-variable">accuracy</span>) )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">classes</span> = <span class="cm-variable">model</span>.<span class="cm-property">predict</span>(<span class="cm-variable">test_x</span>, <span class="cm-variable">batch_size</span>=<span class="cm-number">1</span>, <span class="cm-variable">verbose</span>=<span class="cm-number">2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'测试样本数：'</span>,<span class="cm-builtin">len</span>(<span class="cm-variable">classes</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">"分类概率:\n"</span>,<span class="cm-variable">classes</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 693px;"></div><div class="CodeMirror-gutters" style="display: none; height: 693px;"></div></div></div></pre><h4><a name='header-n960' class='md-header-anchor '></a>基于keras的图像分类</h4><ol start='' ><li>卷积层Conv1D、Conv2D，二维卷积层对二维输入进行滑动窗卷积，当使用该层作为第一层时，应提供input_shape 参数。例如，input_shape = (3,128,128)代表128 像素×128像素的彩色RGB 图像。
<code>Conv2D(filters, kernel_size, strides=(1, 1), padding=&#39;valid&#39;)</code>
参数说明：
<code>filters</code>：卷积核的数目，即输出的维度。
<code>kernel_size</code>：卷积核的宽度和长度，若为单个整数，则表示在各个空间维度的长度相同。
<code>strides</code>：卷积的步长，若为单个整数，则表示在各个空间维度的步长相同。
<code>padding</code>：补0 策略，有“valid”、“same”。</li><li>池化层MaxPooling2D、AveragePooling2D，为空域信号施加最大值或平均值池化。
<code>MaxPooling2D(pool_size=(2, 2))</code></li><li>Flattern 层，用来将输入“压平”，即把多维的输入一维化，常用在从卷积层到全连接层的过渡。</li></ol><ul><li>为了训练深度学习的图片分类器，可构建如图所示的神经网络。</li></ul><p><img src='Data Analysis.assets/1559808417638.png' alt='1559808417638' referrerPolicy='no-referrer' /></p><ul><li>CIFAR-10 包含6 万张图片，当使用较大的数据集训练模型时，需要设置batch_size，即每次输入深度学习网络中数据量的大小，然后计算这些样本的损失函数，进行迭代。适度的batch_size，能使神经网络的迭代较准确地收敛，获得网络模型参数。</li><li>例：构建 CNN 深度神经网络，基于CIFAR-10 训练图像分类器。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#读取CIFAR-10 数据集，该数据集为Keras 自带，可通过load_data()函数获得。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">keras</span>.<span class="cm-property">datasets</span> <span class="cm-keyword">import</span> <span class="cm-variable">cifar10</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(<span class="cm-variable">x_train</span>, <span class="cm-variable">y_train</span>), (<span class="cm-variable">x_test</span>, <span class="cm-variable">y_test</span>) = <span class="cm-variable">cifar10</span>.<span class="cm-property">load_data</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#对数据进行预处理，包括将图像的像素值归一化为[0,1]，多分类问题需要将类标签向量转换为二元类矩阵。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">num_classes</span> = <span class="cm-number">10</span> <span class="cm-comment">#分类个数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">x_train</span> = <span class="cm-variable">x_train</span>.<span class="cm-property">astype</span>(<span class="cm-string">'float32'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">x_test</span> = <span class="cm-variable">x_test</span>.<span class="cm-property">astype</span>(<span class="cm-string">'float32'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">x_train</span> /= <span class="cm-number">255</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">x_test</span> /= <span class="cm-number">255</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_train</span> = <span class="cm-variable">np_utils</span>.<span class="cm-property">to_categorical</span>(<span class="cm-variable">y_train</span>, <span class="cm-variable">num_classes</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">y_test</span> = <span class="cm-variable">np_utils</span>.<span class="cm-property">to_categorical</span>(<span class="cm-variable">y_test</span>, <span class="cm-variable">num_classes</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#构建CNN 模型。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">keras</span>.<span class="cm-property">layers</span> <span class="cm-keyword">import</span> <span class="cm-variable">Dense</span>, <span class="cm-variable">Dropout</span>, <span class="cm-variable">Activation</span>, <span class="cm-variable">Flatten</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">keras</span>.<span class="cm-property">layers</span> <span class="cm-keyword">import</span> <span class="cm-variable">Conv2D</span>, <span class="cm-variable">MaxPooling2D</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span> = <span class="cm-variable">Sequential</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Conv2D</span>(<span class="cm-number">32</span>, (<span class="cm-number">3</span>, <span class="cm-number">3</span>), <span class="cm-variable">padding</span>=<span class="cm-string">'same'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">input_shape</span>=<span class="cm-variable">x_train</span>.<span class="cm-property">shape</span>[<span class="cm-number">1</span>:]))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Activation</span>(<span class="cm-string">'relu'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Conv2D</span>(<span class="cm-number">32</span>, (<span class="cm-number">3</span>, <span class="cm-number">3</span>)))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Activation</span>(<span class="cm-string">'relu'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">MaxPooling2D</span>(<span class="cm-variable">pool_size</span>=(<span class="cm-number">2</span>, <span class="cm-number">2</span>)))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Dropout</span>(<span class="cm-number">0.25</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Conv2D</span>(<span class="cm-number">64</span>, (<span class="cm-number">3</span>, <span class="cm-number">3</span>), <span class="cm-variable">padding</span>=<span class="cm-string">'same'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Activation</span>(<span class="cm-string">'relu'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Conv2D</span>(<span class="cm-number">64</span>, (<span class="cm-number">3</span>, <span class="cm-number">3</span>)))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Activation</span>(<span class="cm-string">'relu'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">MaxPooling2D</span>(<span class="cm-variable">pool_size</span>=(<span class="cm-number">2</span>, <span class="cm-number">2</span>)))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Dropout</span>(<span class="cm-number">0.25</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Flatten</span>())</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Dense</span>(<span class="cm-number">512</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Activation</span>(<span class="cm-string">'relu'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Dropout</span>(<span class="cm-number">0.5</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Dense</span>(<span class="cm-variable">num_classes</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">add</span>(<span class="cm-variable">Activation</span>(<span class="cm-string">'softmax'</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#对构建好的CNN 模型进行编译。这是多分类问题， 选择损失函数“categorical_crossentropy”，同时优化器选择“RMSprop”。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#初始化RMSprop 优化器</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">opt</span> = <span class="cm-variable">keras</span>.<span class="cm-property">optimizers</span>.<span class="cm-property">rmsprop</span>(<span class="cm-variable">lr</span>=<span class="cm-number">0.0001</span>, <span class="cm-variable">decay</span>=<span class="cm-number">1e-6</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#模型编译</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">compile</span>(<span class="cm-variable">loss</span>=<span class="cm-string">'categorical_crossentropy'</span>, <span class="cm-variable">optimizer</span>=<span class="cm-variable">opt</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">metrics</span>=[<span class="cm-string">'accuracy'</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#训练CNN 模型。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">batch_size</span> = <span class="cm-number">32</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">epochs</span> = <span class="cm-number">100</span> <span class="cm-comment">#参数学习算法的迭代次数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span>.<span class="cm-property">fit</span>(<span class="cm-variable">x_train</span>, <span class="cm-variable">y_train</span>, <span class="cm-variable">batch_size</span>=<span class="cm-variable">batch_size</span>, <span class="cm-variable">epochs</span>=<span class="cm-variable">epochs</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">validation_data</span>=(<span class="cm-variable">x_test</span>, <span class="cm-variable">y_test</span>), <span class="cm-variable">shuffle</span>=<span class="cm-keyword">True</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#对CNN 模型进行性能评估。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">scores</span> = <span class="cm-variable">model</span>.<span class="cm-property">evaluate</span>(<span class="cm-variable">x_test</span>, <span class="cm-variable">y_test</span>, <span class="cm-variable">verbose</span>=<span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'Test loss:'</span>, <span class="cm-variable">scores</span>[<span class="cm-number">0</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'Test accuracy:'</span>, <span class="cm-variable">scores</span>[<span class="cm-number">1</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">============================================</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#训练结果如下。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Test</span> <span class="cm-variable">loss：0</span><span class="cm-number">.718861374378</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Test</span> <span class="cm-variable">acwracy：0</span><span class="cm-number">.776</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1440px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1440px;"></div></div></div></pre><h4><a name='header-n978' class='md-header-anchor '></a>使用预训练模型进行图像分类</h4><ul><li>Keras 也包含了很多目前非常优秀的预训练模型，如Xception、VGG16、VGG19、ResNet50、InceptionV3、InceptionResNetV2、MobileNet、DenseNet、NASNet 等。这些模型都是在ImageNet 图像数据集（<a href='http://www.image-net.org/' target='_blank' class='url'>http://www.image-net.org/</a>）上训练获得的，该数据集是目前世界上最大的图像识别的数据集，包含了1400 多万幅图片，涵盖2万多个类别，其中有超过百万的图片有明确的类别标注和图像中物体位置的标注。</li><li>例：使用 Keras 的ResNet50 图像分类模型预测大象图片分类。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">keras</span>.<span class="cm-property">applications</span>.<span class="cm-property">resnet50</span> <span class="cm-keyword">import</span> <span class="cm-variable">ResNet50</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">keras</span>.<span class="cm-property">applications</span>.<span class="cm-property">resnet50</span> <span class="cm-keyword">import</span> <span class="cm-variable">preprocess_input</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">keras</span>.<span class="cm-property">applications</span>.<span class="cm-property">resnet50</span> <span class="cm-keyword">import</span> <span class="cm-variable">decode_predictions</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">keras</span>.<span class="cm-property">preprocessing</span> <span class="cm-keyword">import</span> <span class="cm-variable">image</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#导入预训练模型ResNet50</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">model</span> = <span class="cm-variable">ResNet50</span>(<span class="cm-variable">weights</span>=<span class="cm-string">'imagenet'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 对输入图片进行处理</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">img_path</span> = <span class="cm-string">'data/elephant.jpg'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">img</span> = <span class="cm-variable">image</span>.<span class="cm-property">load_img</span>(<span class="cm-variable">img_path</span>, <span class="cm-variable">target_size</span>=(<span class="cm-number">224</span>, <span class="cm-number">224</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">image</span>.<span class="cm-property">img_to_array</span>(<span class="cm-variable">img</span>) <span class="cm-comment">#将图像转换为数组</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">np</span>.<span class="cm-property">expand_dims</span>(<span class="cm-variable">X</span>, <span class="cm-variable">axis</span>=<span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">X</span> = <span class="cm-variable">preprocess_input</span>(<span class="cm-variable">X</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 模型预测</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">preds</span> = <span class="cm-variable">model</span>.<span class="cm-property">predict</span>(<span class="cm-variable">X</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-string">'Predicted:'</span>, <span class="cm-variable">decode_predictions</span>(<span class="cm-variable">preds</span>, <span class="cm-variable">top</span>=<span class="cm-number">3</span>)[<span class="cm-number">0</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#输出预测结果，按照概率排序前3 的类型为：Indian_elephant（印度象）、Tusker（有长牙的动物）和African_elephant（非洲象）。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 453px;"></div><div class="CodeMirror-gutters" style="display: none; height: 453px;"></div></div></div></pre><h2><a name='header-n985' class='md-header-anchor '></a>第8章 时序数据与语音处理</h2><h4><a name='header-n986' class='md-header-anchor '></a>时序数据特征的提取</h4><ol start='' ><li>基于统计方法的特征提取</li><li>基于模型的特征提取</li><li>基于变换的特征提取</li><li>基于分形理论的特征提取</li></ol><ul><li>例：某公司2017 年股票价格保存在数据集stockPrice.csv 中，绘制股票收盘价的时序图，并提取该时序数据的常用特征值。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-property">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">rcParams</span>[<span class="cm-string">'font.sans-serif'</span>] = [<span class="cm-string">'SimHei'</span>] <span class="cm-comment">#设置中文字体</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#设置usecols，从文件中只读取指定列</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df</span> = <span class="cm-variable">pd</span>.<span class="cm-property">read_csv</span>(<span class="cm-string">'data/stockPrice.csv'</span>, <span class="cm-variable">index_col</span> = <span class="cm-number">0</span>, <span class="cm-variable">usecols</span>=[<span class="cm-number">0</span>,<span class="cm-number">1</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span>(<span class="cm-variable">df</span>.<span class="cm-property">describe</span>())</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#绘制时序图，并添加图元</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">df</span>.<span class="cm-property">plot</span>(<span class="cm-variable">title</span>=<span class="cm-string">'2017 年某公司股票价格变化图'</span>, <span class="cm-variable">grid</span>=<span class="cm-keyword">True</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">xlabel</span>(<span class="cm-string">'时间（天）'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">ylabel</span>(<span class="cm-string">'股价 (美元)'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">plt</span>.<span class="cm-property">show</span>()</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 293px;"></div><div class="CodeMirror-gutters" style="display: none; height: 293px;"></div></div></div></pre><p><img src='Data Analysis.assets/1559813555705.png' alt='1559813555705' referrerPolicy='no-referrer' /></p><ul><li>这些特征数据表明，2017 年该公司股价的平均收盘价为150.83 美元，最高达到176.42美元，最低116.61 美元，但大多数情况下在159 美元左右震荡。从时间序列图中容易看出该公司的股价在2017 年总体趋势是震荡中逐步上升的，属于非平稳序列。</li></ul><h4><a name='header-n1004' class='md-header-anchor '></a>语音识别实例</h4><ul><li>百度语音开放平台为用户提供免费的语音识别和语音合成服务的工具包：baidu-aip，用户下载并安装后还需再申请一个百度授权的Key 才能使用。一个Key 包括应用标识（AppID）、应用服务接口关键字（API Key）和安全密钥（Secret Key）。</li><li>例：使用百度语音开放平台识别一段语音文件对应的文字。语音文件 voice.wav 的内容为“数据智能分析技术”，使用百度语音服务平台的语音识别服务进行识别。</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#1）注册百度账户，获取开发授权Key。打开网页 http://yuyin.baidu.com/asr，单击“立即使用”按钮后，用百度账户登录（没有则需申请一个）。单击网页上的“创建新应用”按钮，进入应用创建向导.</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#2）安装百度语音开发包baidu-aip。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#打开 Anaconda Prompt，进入命令行界面，下载开发包并自动安装。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#pip install baidu-aip</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#3）编写程序，识别语音文件。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Python</span> <span class="cm-variable">需导入baidu</span><span class="cm-operator">-</span><span class="cm-variable">aip</span> <span class="cm-variable">中的AipSpeech</span> <span class="cm-variable">库来实现语音识别。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">aip</span> <span class="cm-keyword">import</span> <span class="cm-variable">AipSpeech</span> <span class="cm-comment">#导入语音识别包</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">get_file_content</span>(<span class="cm-variable">file_name</span>): <span class="cm-comment">#从文件中提取语音内容</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">with</span> <span class="cm-builtin">open</span>(<span class="cm-variable">file_name</span>, <span class="cm-string">'rb'</span>) <span class="cm-keyword">as</span> <span class="cm-variable">fp</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-variable">fp</span>.<span class="cm-property">read</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">APP_ID</span> = <span class="cm-string">'10694657'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">API_KEY</span> = <span class="cm-string">'qtCumlQUdEk4dKpZItWFGY6a'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">SECRET_KEY</span> = <span class="cm-string">'bab91297af93124058a910c2c962ccae'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">aipSpeech</span> = <span class="cm-variable">AipSpeech</span>(<span class="cm-variable">APP_ID</span>, <span class="cm-variable">API_KEY</span>, <span class="cm-variable">SECRET_KEY</span>)<span class="cm-comment">#初始化识别模型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">file_name</span>=<span class="cm-string">'data/voice.wav'</span> <span class="cm-comment">#语音文件</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">result</span> = <span class="cm-variable">aipSpeech</span>.<span class="cm-property">asr</span>(<span class="cm-variable">get_file_content</span>(<span class="cm-variable">file_name</span>), <span class="cm-string">'wav'</span>, <span class="cm-number">16000</span>,{<span class="cm-string">'dev_ip'</span>: <span class="cm-string">'1536'</span>})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">print</span> (<span class="cm-variable">result</span>[<span class="cm-string">'result'</span>][<span class="cm-number">0</span>])</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 535px;"></div><div class="CodeMirror-gutters" style="display: none; height: 535px;"></div></div></div></pre><p>&nbsp;</p></div>



</body>
</html>